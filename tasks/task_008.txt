# Task ID: 8
# Title: Improve Menu Navigation Language Handling
# Status: pending
# Dependencies: 1
# Priority: medium
# Description: Ensure that the current language is maintained when navigating between Reward, Media, and Vote menus.
# Details:
1. Modify the Navigation component to dynamically generate menu links based on the current language.
2. Use next-intl's Link component for language-aware navigation.
3. Implement a custom useRouter hook that wraps next-intl's useRouter and handles language persistence.
4. Update all internal links to use the custom language-aware routing.
5. Fix the issue where '/en' is forcibly appended to URLs.
6. Ensure that language changes are reflected in menu links without page reload.
7. Implement proper SEO handling for multi-language routes.

# Test Strategy:
Write unit tests for the Navigation component and custom routing hook. Perform integration tests to verify language persistence across different page navigations. Test SEO-related aspects like correct hreflang tags.

# Subtasks:
## 1. Update Navigation Component for React Navigation 7 [pending]
### Dependencies: None
### Description: Refactor the existing navigation component to comply with React Navigation 7 API changes and implement new navigation lifecycle methods.
### Details:
Review breaking changes in React Navigation 7 documentation. Update minimum requirements (React Native â‰¥ 0.72.0). Implement focus/blur event listeners for proper screen lifecycle management. Remove deprecated navigation patterns that could cause bugs.

## 2. Integrate next-intl for Internationalization [pending]
### Dependencies: None
### Description: Set up next-intl library to handle multilingual content throughout the application.
### Details:
Install next-intl package. Create translation files for all supported languages. Configure language detection and default language settings. Set up message formatting for different locales.

## 3. Develop Custom useRouter Hook [pending]
### Dependencies: 8.1, 8.2
### Description: Create a custom router hook that extends next-intl functionality while maintaining compatibility with React Navigation.
### Details:
Implement wrapper around next-intl's useRouter. Add language persistence across navigation events. Ensure proper state management between screen and navigation components using useEffect with appropriate dependency arrays.

## 4. Update Internal Link Handling [pending]
### Dependencies: 8.3
### Description: Refactor all internal links to work with the new internationalized routing system.
### Details:
Audit all internal navigation calls. Replace direct navigation with internationalized routes. Implement proper state passing between screens. Test navigation flows in all supported languages.

## 5. Fix URL Handling for Internationalized Routes [pending]
### Dependencies: 8.2, 8.4
### Description: Ensure proper URL structure and handling for all language variations.
### Details:
Implement language prefixing in URLs. Set up redirects for language detection. Configure proper fallback routes. Test deep linking functionality across different languages.

## 6. Implement Language Change Handling [pending]
### Dependencies: 8.2, 8.3
### Description: Create a robust system for handling language changes during runtime.
### Details:
Develop language selector component. Implement state updates between screen and navigation components when language changes. Ensure navigation bar updates reflect language changes. Test user experience during language switching.

## 7. Optimize SEO for Multilingual Content [pending]
### Dependencies: 8.5, 8.6
### Description: Implement SEO best practices for internationalized content.
### Details:
Add hreflang tags for language alternatives. Configure proper metadata for each language. Implement canonical URLs. Set up language-specific sitemaps. Test SEO performance using lighthouse and other tools.

