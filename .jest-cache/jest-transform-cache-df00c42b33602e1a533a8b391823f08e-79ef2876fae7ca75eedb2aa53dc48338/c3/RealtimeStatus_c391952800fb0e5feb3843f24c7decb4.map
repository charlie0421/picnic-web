{"version":3,"names":["cov_eulx6l5ps","actualCoverage","s","RealtimeIndicator","f","RealtimeStatus","RealtimeStatusPanel","statusConfig","connecting","icon","color","bgColor","borderColor","label","description","connected","disconnected","error","_react","memo","voteId","compact","b","showDetails","className","onStatusChange","connectionStatus","isConnected","activeSubscriptionsCount","_useVoteRealtime","useVoteConnectionStatus","config","_jsxruntime","jsxs","title","jsx","displayName"],"sources":["/Users/cheolhyun/Repositories/picnic-web/components/client/vote/common/RealtimeStatus.tsx"],"sourcesContent":["'use client';\n\nimport { memo } from 'react';\nimport { ConnectionStatus } from '@/lib/supabase/realtime';\nimport { useVoteConnectionStatus } from '@/hooks/useVoteRealtime';\n\n// Ïó∞Í≤∞ ÏÉÅÌÉú ÏïÑÏù¥ÏΩò Î∞è ÏÉâÏÉÅ Îß§Ìïë\nconst statusConfig = {\n  connecting: {\n    icon: 'üîÑ',\n    color: 'text-yellow-500',\n    bgColor: 'bg-yellow-50',\n    borderColor: 'border-yellow-200',\n    label: 'Ïó∞Í≤∞ Ï§ë...',\n    description: 'Ïã§ÏãúÍ∞Ñ ÏóÖÎç∞Ïù¥Ìä∏ Ïó∞Í≤∞ÏùÑ ÏãúÎèÑÌïòÍ≥† ÏûàÏäµÎãàÎã§.'\n  },\n  connected: {\n    icon: 'üü¢',\n    color: 'text-green-500',\n    bgColor: 'bg-green-50',\n    borderColor: 'border-green-200',\n    label: 'Ïó∞Í≤∞Îê®',\n    description: 'Ïã§ÏãúÍ∞Ñ ÏóÖÎç∞Ïù¥Ìä∏Í∞Ä ÌôúÏÑ±ÌôîÎêòÏóàÏäµÎãàÎã§.'\n  },\n  disconnected: {\n    icon: '‚ö´',\n    color: 'text-gray-500',\n    bgColor: 'bg-gray-50',\n    borderColor: 'border-gray-200',\n    label: 'Ïó∞Í≤∞ ÏïàÎê®',\n    description: 'Ïã§ÏãúÍ∞Ñ ÏóÖÎç∞Ïù¥Ìä∏Í∞Ä ÎπÑÌôúÏÑ±ÌôîÎêòÏóàÏäµÎãàÎã§.'\n  },\n  error: {\n    icon: 'üî¥',\n    color: 'text-red-500',\n    bgColor: 'bg-red-50',\n    borderColor: 'border-red-200',\n    label: 'Ïó∞Í≤∞ Ïò§Î•ò',\n    description: 'Ïã§ÏãúÍ∞Ñ ÏóÖÎç∞Ïù¥Ìä∏ Ïó∞Í≤∞Ïóê Î¨∏Ï†úÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'\n  }\n} as const;\n\ninterface RealtimeStatusProps {\n  /** Ìà¨Ìëú ID */\n  voteId?: number;\n  /** Ïª¥Ìå©Ìä∏ Î™®Îìú (ÏïÑÏù¥ÏΩòÎßå ÌëúÏãú) */\n  compact?: boolean;\n  /** ÏÉÅÏÑ∏ Ï†ïÎ≥¥ ÌëúÏãú Ïó¨Î∂Ä */\n  showDetails?: boolean;\n  /** Ïª§Ïä§ÌÖÄ ÌÅ¥ÎûòÏä§Î™Ö */\n  className?: string;\n  /** ÏÉÅÌÉú Î≥ÄÍ≤Ω ÏΩúÎ∞± */\n  onStatusChange?: (status: ConnectionStatus) => void;\n}\n\n/**\n * Ïã§ÏãúÍ∞Ñ Ïó∞Í≤∞ ÏÉÅÌÉúÎ•º ÌëúÏãúÌïòÎäî Ïª¥Ìè¨ÎÑåÌä∏\n */\nexport const RealtimeStatus = memo<RealtimeStatusProps>(({\n  voteId,\n  compact = false,\n  showDetails = false,\n  className = '',\n  onStatusChange\n}) => {\n  const { connectionStatus, isConnected, activeSubscriptionsCount } = useVoteConnectionStatus(voteId);\n  \n  const config = statusConfig[connectionStatus];\n\n  // ÏÉÅÌÉú Î≥ÄÍ≤Ω ÏïåÎ¶º\n  if (onStatusChange) {\n    onStatusChange(connectionStatus);\n  }\n\n  if (compact) {\n    return (\n      <div \n        className={`inline-flex items-center gap-1 ${className}`}\n        title={`${config.label}: ${config.description}`}\n      >\n        <span className=\"text-sm\">{config.icon}</span>\n        {!compact && (\n          <span className={`text-xs font-medium ${config.color}`}>\n            {config.label}\n          </span>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className={`rounded-lg border p-3 ${config.bgColor} ${config.borderColor} ${className}`}>\n      <div className=\"flex items-center gap-2\">\n        <span className=\"text-lg\">{config.icon}</span>\n        <div className=\"flex-1\">\n          <div className=\"flex items-center gap-2\">\n            <span className={`text-sm font-medium ${config.color}`}>\n              {config.label}\n            </span>\n            {isConnected && activeSubscriptionsCount > 0 && (\n              <span className=\"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full\">\n                {activeSubscriptionsCount}Í∞ú Íµ¨ÎèÖ\n              </span>\n            )}\n          </div>\n          {showDetails && (\n            <p className=\"text-xs text-gray-600 mt-1\">\n              {config.description}\n            </p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n});\n\nRealtimeStatus.displayName = 'RealtimeStatus';\n\n/**\n * Í∞ÑÎã®Ìïú Ïã§ÏãúÍ∞Ñ ÏÉÅÌÉú Ïù∏ÎîîÏºÄÏù¥ÌÑ∞\n */\nexport const RealtimeIndicator = memo<{ voteId?: number; className?: string }>(({\n  voteId,\n  className = ''\n}) => {\n  return (\n    <RealtimeStatus\n      voteId={voteId}\n      compact={true}\n      className={className}\n    />\n  );\n});\n\nRealtimeIndicator.displayName = 'RealtimeIndicator';\n\n/**\n * ÏÉÅÏÑ∏Ìïú Ïã§ÏãúÍ∞Ñ ÏÉÅÌÉú Ìå®ÎÑê\n */\nexport const RealtimeStatusPanel = memo<{ voteId?: number; className?: string }>(({\n  voteId,\n  className = ''\n}) => {\n  return (\n    <RealtimeStatus\n      voteId={voteId}\n      compact={false}\n      showDetails={true}\n      className={className}\n    />\n  );\n});\n\nRealtimeStatusPanel.displayName = 'RealtimeStatusPanel'; "],"mappings":"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","ignoreList":[]}