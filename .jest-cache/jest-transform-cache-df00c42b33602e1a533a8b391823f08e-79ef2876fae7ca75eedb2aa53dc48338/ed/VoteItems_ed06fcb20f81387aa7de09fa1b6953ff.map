{"version":3,"names":["VoteItems","vote","cov_1vobzsauab","f","displayStatus","setDisplayStatus","s","_react","useState","_voteFilterStore","VOTE_STATUS","UPCOMING","calculateStatus","date","b","start_at","stop_at","start","Date","end","getTime","COMPLETED","ONGOING","useEffect","now","initialStatus","_jsxruntime","jsx","_UpcomingVoteItems","UpcomingVoteItems","_OngoingVoteItems","OngoingVoteItems","_CompletedVoteItems","CompletedVoteItems"],"sources":["/Users/cheolhyun/Repositories/picnic-web/components/client/vote/list/VoteItems.tsx"],"sourcesContent":["'use client';\n\nimport React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { Vote, VoteItem } from '@/types/interfaces';\nimport { VOTE_STATUS, VoteStatus } from '@/stores/voteFilterStore';\nimport { OngoingVoteItems } from './OngoingVoteItems';\nimport { CompletedVoteItems } from './CompletedVoteItems';\nimport { UpcomingVoteItems } from './UpcomingVoteItems';\n\ninterface VoteItemsProps {\n  vote: Vote & { voteItem?: Array<VoteItem & { artist?: any }> };\n}\n\n/**\n * 투표 항목 컴포넌트\n *\n * 투표 상태(예정/진행중/완료)에 따라 다른 하위 컴포넌트를 렌더링합니다.\n * 클라이언트 컴포넌트로 구현되어야 하는 이유:\n * 1. 이벤트 핸들러 사용\n * 2. useRef, useCallback 등 React 훅 사용\n */\nexport const VoteItems = ({ vote }: VoteItemsProps) => {\n  const [displayStatus, setDisplayStatus] = useState<VoteStatus>(\n    VOTE_STATUS.UPCOMING,\n  );\n\n  // 투표 상태 계산 함수\n  const calculateStatus = (date: Date): VoteStatus => {\n    if (!vote.start_at || !vote.stop_at) return VOTE_STATUS.UPCOMING;\n\n    const start = new Date(vote.start_at);\n    const end = new Date(vote.stop_at);\n\n    // 현재 시간이 시작 시간보다 이전인지 확인\n    if (date.getTime() < start.getTime()) return VOTE_STATUS.UPCOMING;\n    // 현재 시간이 종료 시간을 지났는지 확인\n    if (date.getTime() > end.getTime()) return VOTE_STATUS.COMPLETED;\n    // 그 외의 경우는 진행 중\n    return VOTE_STATUS.ONGOING;\n  };\n\n  // 컴포넌트 마운트 시 초기 상태 계산\n  useEffect(() => {\n    const now = new Date();\n    const initialStatus = calculateStatus(now);\n    setDisplayStatus(initialStatus);\n  }, [vote]);\n\n  switch (displayStatus) {\n    case VOTE_STATUS.UPCOMING:\n      return <UpcomingVoteItems vote={vote} />;\n    case VOTE_STATUS.ONGOING:\n      // 메인 투표 리스트에서는 onVoteChange를 전달하지 않아 투표 기능 비활성화\n      return <OngoingVoteItems vote={vote} />;\n    case VOTE_STATUS.COMPLETED:\n      return <CompletedVoteItems vote={vote} />;\n    default:\n      return null;\n  }\n};\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}