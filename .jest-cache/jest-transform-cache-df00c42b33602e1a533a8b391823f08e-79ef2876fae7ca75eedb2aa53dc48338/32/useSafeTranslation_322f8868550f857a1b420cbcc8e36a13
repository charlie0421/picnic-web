886c651dcb3367433fa60f09057532ce
"use strict";

/* istanbul ignore next */
function cov_1mj6sx6ou8() {
  var path = "/Users/cheolhyun/Repositories/picnic-web/hooks/useSafeTranslation.ts";
  var hash = "aad63d29b02883be5088006aa9d1539cd1353efe";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/cheolhyun/Repositories/picnic-web/hooks/useSafeTranslation.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 5,
          column: 0
        },
        end: {
          line: 10,
          column: 3
        }
      },
      "2": {
        start: {
          line: 8,
          column: 8
        },
        end: {
          line: 8,
          column: 34
        }
      },
      "3": {
        start: {
          line: 11,
          column: 23
        },
        end: {
          line: 11,
          column: 57
        }
      },
      "4": {
        start: {
          line: 12,
          column: 29
        },
        end: {
          line: 12,
          column: 61
        }
      },
      "5": {
        start: {
          line: 14,
          column: 29
        },
        end: {
          line: 14,
          column: 67
        }
      },
      "6": {
        start: {
          line: 15,
          column: 20
        },
        end: {
          line: 15,
          column: 67
        }
      },
      "7": {
        start: {
          line: 16,
          column: 55
        },
        end: {
          line: 16,
          column: 62
        }
      },
      "8": {
        start: {
          line: 20,
          column: 16
        },
        end: {
          line: 30,
          column: 5
        }
      },
      "9": {
        start: {
          line: 22,
          column: 8
        },
        end: {
          line: 27,
          column: 9
        }
      },
      "10": {
        start: {
          line: 23,
          column: 12
        },
        end: {
          line: 25,
          column: 13
        }
      },
      "11": {
        start: {
          line: 24,
          column: 16
        },
        end: {
          line: 24,
          column: 29
        }
      },
      "12": {
        start: {
          line: 26,
          column: 12
        },
        end: {
          line: 26,
          column: 28
        }
      },
      "13": {
        start: {
          line: 29,
          column: 8
        },
        end: {
          line: 29,
          column: 36
        }
      },
      "14": {
        start: {
          line: 34,
          column: 27
        },
        end: {
          line: 39,
          column: 5
        }
      },
      "15": {
        start: {
          line: 35,
          column: 8
        },
        end: {
          line: 37,
          column: 9
        }
      },
      "16": {
        start: {
          line: 36,
          column: 12
        },
        end: {
          line: 36,
          column: 24
        }
      },
      "17": {
        start: {
          line: 38,
          column: 8
        },
        end: {
          line: 38,
          column: 36
        }
      },
      "18": {
        start: {
          line: 42,
          column: 21
        },
        end: {
          line: 50,
          column: 5
        }
      },
      "19": {
        start: {
          line: 43,
          column: 8
        },
        end: {
          line: 48,
          column: 9
        }
      },
      "20": {
        start: {
          line: 44,
          column: 12
        },
        end: {
          line: 46,
          column: 13
        }
      },
      "21": {
        start: {
          line: 45,
          column: 16
        },
        end: {
          line: 45,
          column: 34
        }
      },
      "22": {
        start: {
          line: 47,
          column: 12
        },
        end: {
          line: 47,
          column: 28
        }
      },
      "23": {
        start: {
          line: 49,
          column: 8
        },
        end: {
          line: 49,
          column: 36
        }
      },
      "24": {
        start: {
          line: 51,
          column: 4
        },
        end: {
          line: 57,
          column: 6
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 7,
            column: 9
          },
          end: {
            line: 7,
            column: 10
          }
        },
        loc: {
          start: {
            line: 7,
            column: 20
          },
          end: {
            line: 9,
            column: 5
          }
        },
        line: 7
      },
      "1": {
        name: "useSafeTranslation",
        decl: {
          start: {
            line: 13,
            column: 9
          },
          end: {
            line: 13,
            column: 27
          }
        },
        loc: {
          start: {
            line: 13,
            column: 42
          },
          end: {
            line: 58,
            column: 1
          }
        },
        line: 13
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 20,
            column: 16
          },
          end: {
            line: 20,
            column: 17
          }
        },
        loc: {
          start: {
            line: 20,
            column: 29
          },
          end: {
            line: 30,
            column: 5
          }
        },
        line: 20
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 34,
            column: 27
          },
          end: {
            line: 34,
            column: 28
          }
        },
        loc: {
          start: {
            line: 34,
            column: 40
          },
          end: {
            line: 39,
            column: 5
          }
        },
        line: 34
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 42,
            column: 21
          },
          end: {
            line: 42,
            column: 22
          }
        },
        loc: {
          start: {
            line: 42,
            column: 34
          },
          end: {
            line: 50,
            column: 5
          }
        },
        line: 42
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 13,
            column: 28
          },
          end: {
            line: 13,
            column: 40
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 13,
            column: 38
          },
          end: {
            line: 13,
            column: 40
          }
        }],
        line: 13
      },
      "1": {
        loc: {
          start: {
            line: 16,
            column: 12
          },
          end: {
            line: 16,
            column: 25
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 16,
            column: 23
          },
          end: {
            line: 16,
            column: 25
          }
        }],
        line: 16
      },
      "2": {
        loc: {
          start: {
            line: 16,
            column: 27
          },
          end: {
            line: 16,
            column: 50
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 16,
            column: 45
          },
          end: {
            line: 16,
            column: 50
          }
        }],
        line: 16
      },
      "3": {
        loc: {
          start: {
            line: 22,
            column: 8
          },
          end: {
            line: 27,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 22,
            column: 8
          },
          end: {
            line: 27,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 22
      },
      "4": {
        loc: {
          start: {
            line: 23,
            column: 12
          },
          end: {
            line: 25,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 23,
            column: 12
          },
          end: {
            line: 25,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 23
      },
      "5": {
        loc: {
          start: {
            line: 35,
            column: 8
          },
          end: {
            line: 37,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 35,
            column: 8
          },
          end: {
            line: 37,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 35
      },
      "6": {
        loc: {
          start: {
            line: 43,
            column: 8
          },
          end: {
            line: 48,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 43,
            column: 8
          },
          end: {
            line: 48,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 43
      },
      "7": {
        loc: {
          start: {
            line: 44,
            column: 12
          },
          end: {
            line: 46,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 44,
            column: 12
          },
          end: {
            line: 46,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 44
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0
    },
    b: {
      "0": [0],
      "1": [0],
      "2": [0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/cheolhyun/Repositories/picnic-web/hooks/useSafeTranslation.ts"],
      sourcesContent: ["import { useLanguageStore } from '@/stores/languageStore';\nimport { useTranslationReady } from './useTranslationReady';\n\ninterface SafeTranslationOptions {\n  fallback?: string;\n  showPlaceholder?: boolean;\n}\n\n/**\n * \uBC88\uC5ED\uC774 \uC900\uBE44\uB418\uC9C0 \uC54A\uC558\uC744 \uB54C\uB3C4 \uC548\uC804\uD558\uAC8C \uC0AC\uC6A9\uD560 \uC218 \uC788\uB294 \uBC88\uC5ED \uD6C5\n * \n * @param options \uC635\uC158 \uAC1D\uCCB4\n * @param options.fallback \uBC88\uC5ED\uC774 \uC900\uBE44\uB418\uC9C0 \uC54A\uC558\uC744 \uB54C \uBC18\uD658\uD560 \uAE30\uBCF8\uAC12\n * @param options.showPlaceholder \uBC88\uC5ED \uB85C\uB529 \uC911\uC77C \uB54C \uD50C\uB808\uC774\uC2A4\uD640\uB354 \uD45C\uC2DC \uC5EC\uBD80\n * @returns \uC548\uC804\uD55C \uBC88\uC5ED \uD568\uC218\uC640 \uC900\uBE44 \uC0C1\uD0DC\n */\nexport function useSafeTranslation(options: SafeTranslationOptions = {}) {\n  const { t: originalT } = useLanguageStore();\n  const isReady = useTranslationReady();\n  const { fallback = '', showPlaceholder = false } = options;\n\n  /**\n   * \uC548\uC804\uD55C \uBC88\uC5ED \uD568\uC218\n   * \uBC88\uC5ED\uC774 \uC900\uBE44\uB418\uC9C0 \uC54A\uC558\uC744 \uB54C\uB294 fallback\uC774\uB098 \uBE48 \uBB38\uC790\uC5F4\uC744 \uBC18\uD658\n   */\n  const t = (key: string, args?: Record<string, string>): string => {\n    // \uBC88\uC5ED\uC774 \uC900\uBE44\uB418\uC9C0 \uC54A\uC740 \uACBD\uC6B0\n    if (!isReady) {\n      if (showPlaceholder) {\n        return '...'; // \uB85C\uB529 \uD50C\uB808\uC774\uC2A4\uD640\uB354\n      }\n      return fallback;\n    }\n\n    // \uBC88\uC5ED\uC774 \uC900\uBE44\uB41C \uACBD\uC6B0 \uC6D0\uB798 \uD568\uC218 \uC0AC\uC6A9\n    return originalT(key, args);\n  };\n\n  /**\n   * \uC870\uAC74\uBD80 \uBC88\uC5ED \uD568\uC218 - \uBC88\uC5ED\uC774 \uC900\uBE44\uB41C \uACBD\uC6B0\uC5D0\uB9CC \uB80C\uB354\uB9C1\n   * \uBC88\uC5ED\uC774 \uC900\uBE44\uB418\uC9C0 \uC54A\uC740 \uACBD\uC6B0 null \uBC18\uD658\uD558\uC5EC \uB80C\uB354\uB9C1 \uC790\uCCB4\uB97C \uBC29\uC9C0\n   */\n  const tConditional = (key: string, args?: Record<string, string>): string | null => {\n    if (!isReady) {\n      return null;\n    }\n    return originalT(key, args);\n  };\n\n  /**\n   * \uBC88\uC5ED\uC774 \uC900\uBE44\uB418\uC9C0 \uC54A\uC740 \uACBD\uC6B0 \uD0A4\uB97C \uB300\uAD04\uD638\uB85C \uAC10\uC2F8\uC11C \uBC18\uD658 (\uAC1C\uBC1C\uC6A9)\n   */\n  const tDebug = (key: string, args?: Record<string, string>): string => {\n    if (!isReady) {\n      if (process.env.NODE_ENV === 'development') {\n        return `[${key}]`;\n      }\n      return fallback;\n    }\n    return originalT(key, args);\n  };\n\n  return {\n    t,\n    tConditional,\n    tDebug,\n    isReady,\n    isLoading: !isReady\n  };\n} "],
      names: ["useSafeTranslation", "options", "t", "originalT", "useLanguageStore", "isReady", "useTranslationReady", "fallback", "showPlaceholder", "key", "args", "tConditional", "tDebug", "process", "env", "NODE_ENV", "isLoading"],
      mappings: ";;;;+BAgBgBA;;;eAAAA;;;+BAhBiB;qCACG;AAe7B,SAASA,mBAAmBC,UAAkC,CAAC,CAAC;IACrE,MAAM,EAAEC,GAAGC,SAAS,EAAE,GAAGC,IAAAA,+BAAgB;IACzC,MAAMC,UAAUC,IAAAA,wCAAmB;IACnC,MAAM,EAAEC,WAAW,EAAE,EAAEC,kBAAkB,KAAK,EAAE,GAAGP;IAEnD;;;GAGC,GACD,MAAMC,IAAI,CAACO,KAAaC;QACtB,iBAAiB;QACjB,IAAI,CAACL,SAAS;YACZ,IAAIG,iBAAiB;gBACnB,OAAO,OAAO,YAAY;YAC5B;YACA,OAAOD;QACT;QAEA,sBAAsB;QACtB,OAAOJ,UAAUM,KAAKC;IACxB;IAEA;;;GAGC,GACD,MAAMC,eAAe,CAACF,KAAaC;QACjC,IAAI,CAACL,SAAS;YACZ,OAAO;QACT;QACA,OAAOF,UAAUM,KAAKC;IACxB;IAEA;;GAEC,GACD,MAAME,SAAS,CAACH,KAAaC;QAC3B,IAAI,CAACL,SAAS;YACZ,IAAIQ,QAAQC,GAAG,CAACC,QAAQ,KAAK,eAAe;gBAC1C,OAAO,CAAC,CAAC,EAAEN,IAAI,CAAC,CAAC;YACnB;YACA,OAAOF;QACT;QACA,OAAOJ,UAAUM,KAAKC;IACxB;IAEA,OAAO;QACLR;QACAS;QACAC;QACAP;QACAW,WAAW,CAACX;IACd;AACF"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "aad63d29b02883be5088006aa9d1539cd1353efe"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1mj6sx6ou8 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1mj6sx6ou8();
cov_1mj6sx6ou8().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_1mj6sx6ou8().s[1]++;
Object.defineProperty(exports, "useSafeTranslation", {
  enumerable: true,
  get: function () {
    /* istanbul ignore next */
    cov_1mj6sx6ou8().f[0]++;
    cov_1mj6sx6ou8().s[2]++;
    return useSafeTranslation;
  }
});
const _languageStore =
/* istanbul ignore next */
(cov_1mj6sx6ou8().s[3]++, require("../stores/languageStore"));
const _useTranslationReady =
/* istanbul ignore next */
(cov_1mj6sx6ou8().s[4]++, require("./useTranslationReady"));
function useSafeTranslation(options =
/* istanbul ignore next */
(cov_1mj6sx6ou8().b[0][0]++, {})) {
  /* istanbul ignore next */
  cov_1mj6sx6ou8().f[1]++;
  const {
    t: originalT
  } =
  /* istanbul ignore next */
  (cov_1mj6sx6ou8().s[5]++, (0, _languageStore.useLanguageStore)());
  const isReady =
  /* istanbul ignore next */
  (cov_1mj6sx6ou8().s[6]++, (0, _useTranslationReady.useTranslationReady)());
  const {
    fallback =
    /* istanbul ignore next */
    (cov_1mj6sx6ou8().b[1][0]++, ''),
    showPlaceholder =
    /* istanbul ignore next */
    (cov_1mj6sx6ou8().b[2][0]++, false)
  } =
  /* istanbul ignore next */
  (cov_1mj6sx6ou8().s[7]++, options);
  /**
  * 안전한 번역 함수
  * 번역이 준비되지 않았을 때는 fallback이나 빈 문자열을 반환
  */
  /* istanbul ignore next */
  cov_1mj6sx6ou8().s[8]++;
  const t = (key, args) => {
    /* istanbul ignore next */
    cov_1mj6sx6ou8().f[2]++;
    cov_1mj6sx6ou8().s[9]++;
    // 번역이 준비되지 않은 경우
    if (!isReady) {
      /* istanbul ignore next */
      cov_1mj6sx6ou8().b[3][0]++;
      cov_1mj6sx6ou8().s[10]++;
      if (showPlaceholder) {
        /* istanbul ignore next */
        cov_1mj6sx6ou8().b[4][0]++;
        cov_1mj6sx6ou8().s[11]++;
        return '...'; // 로딩 플레이스홀더
      } else
      /* istanbul ignore next */
      {
        cov_1mj6sx6ou8().b[4][1]++;
      }
      cov_1mj6sx6ou8().s[12]++;
      return fallback;
    } else
    /* istanbul ignore next */
    {
      cov_1mj6sx6ou8().b[3][1]++;
    }
    // 번역이 준비된 경우 원래 함수 사용
    cov_1mj6sx6ou8().s[13]++;
    return originalT(key, args);
  };
  /**
  * 조건부 번역 함수 - 번역이 준비된 경우에만 렌더링
  * 번역이 준비되지 않은 경우 null 반환하여 렌더링 자체를 방지
  */
  /* istanbul ignore next */
  cov_1mj6sx6ou8().s[14]++;
  const tConditional = (key, args) => {
    /* istanbul ignore next */
    cov_1mj6sx6ou8().f[3]++;
    cov_1mj6sx6ou8().s[15]++;
    if (!isReady) {
      /* istanbul ignore next */
      cov_1mj6sx6ou8().b[5][0]++;
      cov_1mj6sx6ou8().s[16]++;
      return null;
    } else
    /* istanbul ignore next */
    {
      cov_1mj6sx6ou8().b[5][1]++;
    }
    cov_1mj6sx6ou8().s[17]++;
    return originalT(key, args);
  };
  /**
  * 번역이 준비되지 않은 경우 키를 대괄호로 감싸서 반환 (개발용)
  */
  /* istanbul ignore next */
  cov_1mj6sx6ou8().s[18]++;
  const tDebug = (key, args) => {
    /* istanbul ignore next */
    cov_1mj6sx6ou8().f[4]++;
    cov_1mj6sx6ou8().s[19]++;
    if (!isReady) {
      /* istanbul ignore next */
      cov_1mj6sx6ou8().b[6][0]++;
      cov_1mj6sx6ou8().s[20]++;
      if (process.env.NODE_ENV === 'development') {
        /* istanbul ignore next */
        cov_1mj6sx6ou8().b[7][0]++;
        cov_1mj6sx6ou8().s[21]++;
        return `[${key}]`;
      } else
      /* istanbul ignore next */
      {
        cov_1mj6sx6ou8().b[7][1]++;
      }
      cov_1mj6sx6ou8().s[22]++;
      return fallback;
    } else
    /* istanbul ignore next */
    {
      cov_1mj6sx6ou8().b[6][1]++;
    }
    cov_1mj6sx6ou8().s[23]++;
    return originalT(key, args);
  };
  /* istanbul ignore next */
  cov_1mj6sx6ou8().s[24]++;
  return {
    t,
    tConditional,
    tDebug,
    isReady,
    isLoading: !isReady
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMW1qNnN4Nm91OCIsImFjdHVhbENvdmVyYWdlIiwicyIsInVzZVNhZmVUcmFuc2xhdGlvbiIsIm9wdGlvbnMiLCJiIiwiZiIsInQiLCJvcmlnaW5hbFQiLCJfbGFuZ3VhZ2VTdG9yZSIsInVzZUxhbmd1YWdlU3RvcmUiLCJpc1JlYWR5IiwiX3VzZVRyYW5zbGF0aW9uUmVhZHkiLCJ1c2VUcmFuc2xhdGlvblJlYWR5IiwiZmFsbGJhY2siLCJzaG93UGxhY2Vob2xkZXIiLCJrZXkiLCJhcmdzIiwidENvbmRpdGlvbmFsIiwidERlYnVnIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiaXNMb2FkaW5nIl0sInNvdXJjZXMiOlsiL1VzZXJzL2NoZW9saHl1bi9SZXBvc2l0b3JpZXMvcGljbmljLXdlYi9ob29rcy91c2VTYWZlVHJhbnNsYXRpb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlTGFuZ3VhZ2VTdG9yZSB9IGZyb20gJ0Avc3RvcmVzL2xhbmd1YWdlU3RvcmUnO1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb25SZWFkeSB9IGZyb20gJy4vdXNlVHJhbnNsYXRpb25SZWFkeSc7XG5cbmludGVyZmFjZSBTYWZlVHJhbnNsYXRpb25PcHRpb25zIHtcbiAgZmFsbGJhY2s/OiBzdHJpbmc7XG4gIHNob3dQbGFjZWhvbGRlcj86IGJvb2xlYW47XG59XG5cbi8qKlxuICog67KI7Jet7J20IOykgOu5hOuQmOyngCDslYrslZjsnYQg65WM64+EIOyViOyghO2VmOqyjCDsgqzsmqntlaAg7IiYIOyeiOuKlCDrsojsl60g7ZuFXG4gKiBcbiAqIEBwYXJhbSBvcHRpb25zIOyYteyFmCDqsJ3ssrRcbiAqIEBwYXJhbSBvcHRpb25zLmZhbGxiYWNrIOuyiOyXreydtCDspIDruYTrkJjsp4Ag7JWK7JWY7J2EIOuVjCDrsJjtmZjtlaAg6riw67O46rCSXG4gKiBAcGFyYW0gb3B0aW9ucy5zaG93UGxhY2Vob2xkZXIg67KI7JetIOuhnOuUqSDspJHsnbwg65WMIO2UjOugiOydtOyKpO2ZgOuNlCDtkZzsi5wg7Jes67aAXG4gKiBAcmV0dXJucyDslYjsoITtlZwg67KI7JetIO2VqOyImOyZgCDspIDruYQg7IOB7YOcXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VTYWZlVHJhbnNsYXRpb24ob3B0aW9uczogU2FmZVRyYW5zbGF0aW9uT3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgdDogb3JpZ2luYWxUIH0gPSB1c2VMYW5ndWFnZVN0b3JlKCk7XG4gIGNvbnN0IGlzUmVhZHkgPSB1c2VUcmFuc2xhdGlvblJlYWR5KCk7XG4gIGNvbnN0IHsgZmFsbGJhY2sgPSAnJywgc2hvd1BsYWNlaG9sZGVyID0gZmFsc2UgfSA9IG9wdGlvbnM7XG5cbiAgLyoqXG4gICAqIOyViOyghO2VnCDrsojsl60g7ZWo7IiYXG4gICAqIOuyiOyXreydtCDspIDruYTrkJjsp4Ag7JWK7JWY7J2EIOuVjOuKlCBmYWxsYmFja+ydtOuCmCDruYgg66y47J6Q7Je07J2EIOuwmO2ZmFxuICAgKi9cbiAgY29uc3QgdCA9IChrZXk6IHN0cmluZywgYXJncz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz4pOiBzdHJpbmcgPT4ge1xuICAgIC8vIOuyiOyXreydtCDspIDruYTrkJjsp4Ag7JWK7J2AIOqyveyasFxuICAgIGlmICghaXNSZWFkeSkge1xuICAgICAgaWYgKHNob3dQbGFjZWhvbGRlcikge1xuICAgICAgICByZXR1cm4gJy4uLic7IC8vIOuhnOuUqSDtlIzroIjsnbTsiqTtmYDrjZRcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxsYmFjaztcbiAgICB9XG5cbiAgICAvLyDrsojsl63snbQg7KSA67mE65CcIOqyveyasCDsm5Drnpgg7ZWo7IiYIOyCrOyaqVxuICAgIHJldHVybiBvcmlnaW5hbFQoa2V5LCBhcmdzKTtcbiAgfTtcblxuICAvKipcbiAgICog7KGw6rG067aAIOuyiOyXrSDtlajsiJggLSDrsojsl63snbQg7KSA67mE65CcIOqyveyasOyXkOunjCDroIzrjZTrp4FcbiAgICog67KI7Jet7J20IOykgOu5hOuQmOyngCDslYrsnYAg6rK97JqwIG51bGwg67CY7ZmY7ZWY7JesIOugjOuNlOungSDsnpDssrTrpbwg67Cp7KeAXG4gICAqL1xuICBjb25zdCB0Q29uZGl0aW9uYWwgPSAoa2V5OiBzdHJpbmcsIGFyZ3M/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gICAgaWYgKCFpc1JlYWR5KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG9yaWdpbmFsVChrZXksIGFyZ3MpO1xuICB9O1xuXG4gIC8qKlxuICAgKiDrsojsl63snbQg7KSA67mE65CY7KeAIOyViuydgCDqsr3smrAg7YKk66W8IOuMgOq0hO2YuOuhnCDqsJDsi7jshJwg67CY7ZmYICjqsJzrsJzsmqkpXG4gICAqL1xuICBjb25zdCB0RGVidWcgPSAoa2V5OiBzdHJpbmcsIGFyZ3M/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KTogc3RyaW5nID0+IHtcbiAgICBpZiAoIWlzUmVhZHkpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICByZXR1cm4gYFske2tleX1dYDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxsYmFjaztcbiAgICB9XG4gICAgcmV0dXJuIG9yaWdpbmFsVChrZXksIGFyZ3MpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgdCxcbiAgICB0Q29uZGl0aW9uYWwsXG4gICAgdERlYnVnLFxuICAgIGlzUmVhZHksXG4gICAgaXNMb2FkaW5nOiAhaXNSZWFkeVxuICB9O1xufSAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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