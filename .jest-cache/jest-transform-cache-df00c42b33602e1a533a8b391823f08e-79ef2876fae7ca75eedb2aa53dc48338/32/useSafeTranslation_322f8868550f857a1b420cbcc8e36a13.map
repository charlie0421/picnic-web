{"version":3,"names":["cov_1mj6sx6ou8","actualCoverage","s","useSafeTranslation","options","b","f","t","originalT","_languageStore","useLanguageStore","isReady","_useTranslationReady","useTranslationReady","fallback","showPlaceholder","key","args","tConditional","tDebug","process","env","NODE_ENV","isLoading"],"sources":["/Users/cheolhyun/Repositories/picnic-web/hooks/useSafeTranslation.ts"],"sourcesContent":["import { useLanguageStore } from '@/stores/languageStore';\nimport { useTranslationReady } from './useTranslationReady';\n\ninterface SafeTranslationOptions {\n  fallback?: string;\n  showPlaceholder?: boolean;\n}\n\n/**\n * 번역이 준비되지 않았을 때도 안전하게 사용할 수 있는 번역 훅\n * \n * @param options 옵션 객체\n * @param options.fallback 번역이 준비되지 않았을 때 반환할 기본값\n * @param options.showPlaceholder 번역 로딩 중일 때 플레이스홀더 표시 여부\n * @returns 안전한 번역 함수와 준비 상태\n */\nexport function useSafeTranslation(options: SafeTranslationOptions = {}) {\n  const { t: originalT } = useLanguageStore();\n  const isReady = useTranslationReady();\n  const { fallback = '', showPlaceholder = false } = options;\n\n  /**\n   * 안전한 번역 함수\n   * 번역이 준비되지 않았을 때는 fallback이나 빈 문자열을 반환\n   */\n  const t = (key: string, args?: Record<string, string>): string => {\n    // 번역이 준비되지 않은 경우\n    if (!isReady) {\n      if (showPlaceholder) {\n        return '...'; // 로딩 플레이스홀더\n      }\n      return fallback;\n    }\n\n    // 번역이 준비된 경우 원래 함수 사용\n    return originalT(key, args);\n  };\n\n  /**\n   * 조건부 번역 함수 - 번역이 준비된 경우에만 렌더링\n   * 번역이 준비되지 않은 경우 null 반환하여 렌더링 자체를 방지\n   */\n  const tConditional = (key: string, args?: Record<string, string>): string | null => {\n    if (!isReady) {\n      return null;\n    }\n    return originalT(key, args);\n  };\n\n  /**\n   * 번역이 준비되지 않은 경우 키를 대괄호로 감싸서 반환 (개발용)\n   */\n  const tDebug = (key: string, args?: Record<string, string>): string => {\n    if (!isReady) {\n      if (process.env.NODE_ENV === 'development') {\n        return `[${key}]`;\n      }\n      return fallback;\n    }\n    return originalT(key, args);\n  };\n\n  return {\n    t,\n    tConditional,\n    tDebug,\n    isReady,\n    isLoading: !isReady\n  };\n} "],"mappings":"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","ignoreList":[]}