aaec6535e783a941e8e683c32c21b2db
"use strict";

/* istanbul ignore next */
function cov_1s23pk6n3v() {
  var path = "/Users/cheolhyun/Repositories/picnic-web/app/api/auth/wechat/route.ts";
  var hash = "dd6f41d87850b9aad37b0e1a1d983d4e6445d1da";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/cheolhyun/Repositories/picnic-web/app/api/auth/wechat/route.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "2": {
        start: {
          line: 6,
          column: 24
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "3": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 21,
          column: 3
        }
      },
      "4": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 23
        }
      },
      "5": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 20
        }
      },
      "6": {
        start: {
          line: 19,
          column: 8
        },
        end: {
          line: 19,
          column: 19
        }
      },
      "7": {
        start: {
          line: 22,
          column: 16
        },
        end: {
          line: 22,
          column: 38
        }
      },
      "8": {
        start: {
          line: 23,
          column: 20
        },
        end: {
          line: 23,
          column: 52
        }
      },
      "9": {
        start: {
          line: 24,
          column: 16
        },
        end: {
          line: 24,
          column: 65
        }
      },
      "10": {
        start: {
          line: 25,
          column: 36
        },
        end: {
          line: 25,
          column: 85
        }
      },
      "11": {
        start: {
          line: 27,
          column: 4
        },
        end: {
          line: 29,
          column: 6
        }
      },
      "12": {
        start: {
          line: 32,
          column: 22
        },
        end: {
          line: 32,
          column: 31
        }
      },
      "13": {
        start: {
          line: 33,
          column: 26
        },
        end: {
          line: 33,
          column: 40
        }
      },
      "14": {
        start: {
          line: 34,
          column: 32
        },
        end: {
          line: 34,
          column: 34
        }
      },
      "15": {
        start: {
          line: 41,
          column: 16
        },
        end: {
          line: 41,
          column: 26
        }
      },
      "16": {
        start: {
          line: 42,
          column: 23
        },
        end: {
          line: 42,
          column: 50
        }
      },
      "17": {
        start: {
          line: 44,
          column: 4
        },
        end: {
          line: 55,
          column: 5
        }
      },
      "18": {
        start: {
          line: 45,
          column: 26
        },
        end: {
          line: 45,
          column: 49
        }
      },
      "19": {
        start: {
          line: 46,
          column: 8
        },
        end: {
          line: 49,
          column: 11
        }
      },
      "20": {
        start: {
          line: 50,
          column: 8
        },
        end: {
          line: 54,
          column: 10
        }
      },
      "21": {
        start: {
          line: 57,
          column: 4
        },
        end: {
          line: 57,
          column: 23
        }
      },
      "22": {
        start: {
          line: 58,
          column: 4
        },
        end: {
          line: 64,
          column: 5
        }
      },
      "23": {
        start: {
          line: 59,
          column: 8
        },
        end: {
          line: 63,
          column: 10
        }
      },
      "24": {
        start: {
          line: 65,
          column: 4
        },
        end: {
          line: 69,
          column: 6
        }
      },
      "25": {
        start: {
          line: 79,
          column: 4
        },
        end: {
          line: 84,
          column: 5
        }
      },
      "26": {
        start: {
          line: 80,
          column: 8
        },
        end: {
          line: 83,
          column: 10
        }
      },
      "27": {
        start: {
          line: 85,
          column: 4
        },
        end: {
          line: 90,
          column: 5
        }
      },
      "28": {
        start: {
          line: 86,
          column: 8
        },
        end: {
          line: 89,
          column: 10
        }
      },
      "29": {
        start: {
          line: 92,
          column: 4
        },
        end: {
          line: 97,
          column: 5
        }
      },
      "30": {
        start: {
          line: 93,
          column: 8
        },
        end: {
          line: 96,
          column: 10
        }
      },
      "31": {
        start: {
          line: 99,
          column: 4
        },
        end: {
          line: 112,
          column: 5
        }
      },
      "32": {
        start: {
          line: 100,
          column: 8
        },
        end: {
          line: 105,
          column: 9
        }
      },
      "33": {
        start: {
          line: 101,
          column: 12
        },
        end: {
          line: 104,
          column: 14
        }
      },
      "34": {
        start: {
          line: 106,
          column: 8
        },
        end: {
          line: 111,
          column: 9
        }
      },
      "35": {
        start: {
          line: 107,
          column: 12
        },
        end: {
          line: 110,
          column: 14
        }
      },
      "36": {
        start: {
          line: 113,
          column: 4
        },
        end: {
          line: 115,
          column: 6
        }
      },
      "37": {
        start: {
          line: 124,
          column: 22
        },
        end: {
          line: 124,
          column: 40
        }
      },
      "38": {
        start: {
          line: 125,
          column: 26
        },
        end: {
          line: 151,
          column: 5
        }
      },
      "39": {
        start: {
          line: 152,
          column: 4
        },
        end: {
          line: 152,
          column: 83
        }
      },
      "40": {
        start: {
          line: 161,
          column: 4
        },
        end: {
          line: 161,
          column: 97
        }
      },
      "41": {
        start: {
          line: 162,
          column: 4
        },
        end: {
          line: 162,
          column: 79
        }
      },
      "42": {
        start: {
          line: 163,
          column: 4
        },
        end: {
          line: 163,
          column: 88
        }
      },
      "43": {
        start: {
          line: 165,
          column: 4
        },
        end: {
          line: 165,
          column: 62
        }
      },
      "44": {
        start: {
          line: 166,
          column: 4
        },
        end: {
          line: 166,
          column: 52
        }
      },
      "45": {
        start: {
          line: 167,
          column: 4
        },
        end: {
          line: 167,
          column: 62
        }
      },
      "46": {
        start: {
          line: 168,
          column: 4
        },
        end: {
          line: 168,
          column: 79
        }
      },
      "47": {
        start: {
          line: 170,
          column: 4
        },
        end: {
          line: 170,
          column: 99
        }
      },
      "48": {
        start: {
          line: 171,
          column: 4
        },
        end: {
          line: 171,
          column: 47
        }
      },
      "49": {
        start: {
          line: 172,
          column: 4
        },
        end: {
          line: 172,
          column: 41
        }
      },
      "50": {
        start: {
          line: 173,
          column: 4
        },
        end: {
          line: 173,
          column: 20
        }
      },
      "51": {
        start: {
          line: 176,
          column: 22
        },
        end: {
          line: 176,
          column: 32
        }
      },
      "52": {
        start: {
          line: 177,
          column: 4
        },
        end: {
          line: 494,
          column: 5
        }
      },
      "53": {
        start: {
          line: 179,
          column: 25
        },
        end: {
          line: 179,
          column: 112
        }
      },
      "54": {
        start: {
          line: 180,
          column: 8
        },
        end: {
          line: 184,
          column: 11
        }
      },
      "55": {
        start: {
          line: 186,
          column: 32
        },
        end: {
          line: 186,
          column: 56
        }
      },
      "56": {
        start: {
          line: 187,
          column: 8
        },
        end: {
          line: 203,
          column: 9
        }
      },
      "57": {
        start: {
          line: 188,
          column: 12
        },
        end: {
          line: 191,
          column: 15
        }
      },
      "58": {
        start: {
          line: 192,
          column: 29
        },
        end: {
          line: 197,
          column: 14
        }
      },
      "59": {
        start: {
          line: 198,
          column: 12
        },
        end: {
          line: 198,
          column: 119
        }
      },
      "60": {
        start: {
          line: 199,
          column: 12
        },
        end: {
          line: 199,
          column: 90
        }
      },
      "61": {
        start: {
          line: 200,
          column: 12
        },
        end: {
          line: 200,
          column: 63
        }
      },
      "62": {
        start: {
          line: 201,
          column: 12
        },
        end: {
          line: 201,
          column: 92
        }
      },
      "63": {
        start: {
          line: 202,
          column: 12
        },
        end: {
          line: 202,
          column: 48
        }
      },
      "64": {
        start: {
          line: 206,
          column: 8
        },
        end: {
          line: 216,
          column: 9
        }
      },
      "65": {
        start: {
          line: 207,
          column: 12
        },
        end: {
          line: 207,
          column: 47
        }
      },
      "66": {
        start: {
          line: 209,
          column: 12
        },
        end: {
          line: 209,
          column: 56
        }
      },
      "67": {
        start: {
          line: 210,
          column: 29
        },
        end: {
          line: 214,
          column: 14
        }
      },
      "68": {
        start: {
          line: 215,
          column: 12
        },
        end: {
          line: 215,
          column: 48
        }
      },
      "69": {
        start: {
          line: 217,
          column: 32
        },
        end: {
          line: 217,
          column: 43
        }
      },
      "70": {
        start: {
          line: 219,
          column: 27
        },
        end: {
          line: 219,
          column: 53
        }
      },
      "71": {
        start: {
          line: 220,
          column: 8
        },
        end: {
          line: 228,
          column: 9
        }
      },
      "72": {
        start: {
          line: 221,
          column: 12
        },
        end: {
          line: 221,
          column: 59
        }
      },
      "73": {
        start: {
          line: 222,
          column: 29
        },
        end: {
          line: 226,
          column: 14
        }
      },
      "74": {
        start: {
          line: 227,
          column: 12
        },
        end: {
          line: 227,
          column: 48
        }
      },
      "75": {
        start: {
          line: 230,
          column: 22
        },
        end: {
          line: 230,
          column: 59
        }
      },
      "76": {
        start: {
          line: 231,
          column: 26
        },
        end: {
          line: 231,
          column: 55
        }
      },
      "77": {
        start: {
          line: 232,
          column: 8
        },
        end: {
          line: 240,
          column: 9
        }
      },
      "78": {
        start: {
          line: 233,
          column: 12
        },
        end: {
          line: 233,
          column: 47
        }
      },
      "79": {
        start: {
          line: 234,
          column: 29
        },
        end: {
          line: 238,
          column: 14
        }
      },
      "80": {
        start: {
          line: 239,
          column: 12
        },
        end: {
          line: 239,
          column: 48
        }
      },
      "81": {
        start: {
          line: 243,
          column: 8
        },
        end: {
          line: 258,
          column: 9
        }
      },
      "82": {
        start: {
          line: 244,
          column: 12
        },
        end: {
          line: 249,
          column: 15
        }
      },
      "83": {
        start: {
          line: 251,
          column: 12
        },
        end: {
          line: 251,
          column: 68
        }
      },
      "84": {
        start: {
          line: 252,
          column: 29
        },
        end: {
          line: 256,
          column: 14
        }
      },
      "85": {
        start: {
          line: 257,
          column: 12
        },
        end: {
          line: 257,
          column: 48
        }
      },
      "86": {
        start: {
          line: 259,
          column: 8
        },
        end: {
          line: 259,
          column: 46
        }
      },
      "87": {
        start: {
          line: 261,
          column: 25
        },
        end: {
          line: 261,
          column: 214
        }
      },
      "88": {
        start: {
          line: 263,
          column: 8
        },
        end: {
          line: 281,
          column: 9
        }
      },
      "89": {
        start: {
          line: 264,
          column: 12
        },
        end: {
          line: 272,
          column: 15
        }
      },
      "90": {
        start: {
          line: 274,
          column: 12
        },
        end: {
          line: 274,
          column: 65
        }
      },
      "91": {
        start: {
          line: 275,
          column: 29
        },
        end: {
          line: 279,
          column: 14
        }
      },
      "92": {
        start: {
          line: 280,
          column: 12
        },
        end: {
          line: 280,
          column: 48
        }
      },
      "93": {
        start: {
          line: 282,
          column: 8
        },
        end: {
          line: 294,
          column: 9
        }
      },
      "94": {
        start: {
          line: 283,
          column: 12
        },
        end: {
          line: 286,
          column: 15
        }
      },
      "95": {
        start: {
          line: 287,
          column: 29
        },
        end: {
          line: 292,
          column: 14
        }
      },
      "96": {
        start: {
          line: 293,
          column: 12
        },
        end: {
          line: 293,
          column: 48
        }
      },
      "97": {
        start: {
          line: 296,
          column: 8
        },
        end: {
          line: 306,
          column: 9
        }
      },
      "98": {
        start: {
          line: 297,
          column: 12
        },
        end: {
          line: 297,
          column: 51
        }
      },
      "99": {
        start: {
          line: 299,
          column: 12
        },
        end: {
          line: 299,
          column: 63
        }
      },
      "100": {
        start: {
          line: 300,
          column: 29
        },
        end: {
          line: 304,
          column: 14
        }
      },
      "101": {
        start: {
          line: 305,
          column: 12
        },
        end: {
          line: 305,
          column: 48
        }
      },
      "102": {
        start: {
          line: 308,
          column: 8
        },
        end: {
          line: 322,
          column: 9
        }
      },
      "103": {
        start: {
          line: 309,
          column: 33
        },
        end: {
          line: 309,
          column: 90
        }
      },
      "104": {
        start: {
          line: 310,
          column: 12
        },
        end: {
          line: 314,
          column: 15
        }
      },
      "105": {
        start: {
          line: 315,
          column: 29
        },
        end: {
          line: 320,
          column: 14
        }
      },
      "106": {
        start: {
          line: 321,
          column: 12
        },
        end: {
          line: 321,
          column: 48
        }
      },
      "107": {
        start: {
          line: 323,
          column: 28
        },
        end: {
          line: 323,
          column: 50
        }
      },
      "108": {
        start: {
          line: 324,
          column: 23
        },
        end: {
          line: 324,
          column: 39
        }
      },
      "109": {
        start: {
          line: 325,
          column: 29
        },
        end: {
          line: 325,
          column: 52
        }
      },
      "110": {
        start: {
          line: 326,
          column: 26
        },
        end: {
          line: 326,
          column: 46
        }
      },
      "111": {
        start: {
          line: 327,
          column: 8
        },
        end: {
          line: 338,
          column: 9
        }
      },
      "112": {
        start: {
          line: 328,
          column: 12
        },
        end: {
          line: 331,
          column: 15
        }
      },
      "113": {
        start: {
          line: 332,
          column: 29
        },
        end: {
          line: 336,
          column: 14
        }
      },
      "114": {
        start: {
          line: 337,
          column: 12
        },
        end: {
          line: 337,
          column: 48
        }
      },
      "115": {
        start: {
          line: 339,
          column: 8
        },
        end: {
          line: 339,
          column: 45
        }
      },
      "116": {
        start: {
          line: 340,
          column: 8
        },
        end: {
          line: 340,
          column: 46
        }
      },
      "117": {
        start: {
          line: 342,
          column: 28
        },
        end: {
          line: 342,
          column: 164
        }
      },
      "118": {
        start: {
          line: 344,
          column: 8
        },
        end: {
          line: 362,
          column: 9
        }
      },
      "119": {
        start: {
          line: 345,
          column: 12
        },
        end: {
          line: 353,
          column: 15
        }
      },
      "120": {
        start: {
          line: 355,
          column: 12
        },
        end: {
          line: 355,
          column: 69
        }
      },
      "121": {
        start: {
          line: 356,
          column: 29
        },
        end: {
          line: 360,
          column: 14
        }
      },
      "122": {
        start: {
          line: 361,
          column: 12
        },
        end: {
          line: 361,
          column: 48
        }
      },
      "123": {
        start: {
          line: 363,
          column: 8
        },
        end: {
          line: 375,
          column: 9
        }
      },
      "124": {
        start: {
          line: 364,
          column: 12
        },
        end: {
          line: 367,
          column: 15
        }
      },
      "125": {
        start: {
          line: 368,
          column: 29
        },
        end: {
          line: 373,
          column: 14
        }
      },
      "126": {
        start: {
          line: 374,
          column: 12
        },
        end: {
          line: 374,
          column: 48
        }
      },
      "127": {
        start: {
          line: 377,
          column: 8
        },
        end: {
          line: 387,
          column: 9
        }
      },
      "128": {
        start: {
          line: 378,
          column: 12
        },
        end: {
          line: 378,
          column: 53
        }
      },
      "129": {
        start: {
          line: 380,
          column: 12
        },
        end: {
          line: 380,
          column: 67
        }
      },
      "130": {
        start: {
          line: 381,
          column: 29
        },
        end: {
          line: 385,
          column: 14
        }
      },
      "131": {
        start: {
          line: 386,
          column: 12
        },
        end: {
          line: 386,
          column: 48
        }
      },
      "132": {
        start: {
          line: 389,
          column: 8
        },
        end: {
          line: 403,
          column: 9
        }
      },
      "133": {
        start: {
          line: 390,
          column: 33
        },
        end: {
          line: 390,
          column: 88
        }
      },
      "134": {
        start: {
          line: 391,
          column: 12
        },
        end: {
          line: 395,
          column: 15
        }
      },
      "135": {
        start: {
          line: 396,
          column: 29
        },
        end: {
          line: 401,
          column: 14
        }
      },
      "136": {
        start: {
          line: 402,
          column: 12
        },
        end: {
          line: 402,
          column: 48
        }
      },
      "137": {
        start: {
          line: 404,
          column: 8
        },
        end: {
          line: 404,
          column: 45
        }
      },
      "138": {
        start: {
          line: 407,
          column: 8
        },
        end: {
          line: 417,
          column: 9
        }
      },
      "139": {
        start: {
          line: 408,
          column: 12
        },
        end: {
          line: 408,
          column: 78
        }
      },
      "140": {
        start: {
          line: 410,
          column: 12
        },
        end: {
          line: 410,
          column: 64
        }
      },
      "141": {
        start: {
          line: 411,
          column: 29
        },
        end: {
          line: 415,
          column: 14
        }
      },
      "142": {
        start: {
          line: 416,
          column: 12
        },
        end: {
          line: 416,
          column: 48
        }
      },
      "143": {
        start: {
          line: 420,
          column: 8
        },
        end: {
          line: 436,
          column: 9
        }
      },
      "144": {
        start: {
          line: 421,
          column: 12
        },
        end: {
          line: 427,
          column: 15
        }
      },
      "145": {
        start: {
          line: 429,
          column: 12
        },
        end: {
          line: 429,
          column: 55
        }
      },
      "146": {
        start: {
          line: 430,
          column: 29
        },
        end: {
          line: 434,
          column: 14
        }
      },
      "147": {
        start: {
          line: 435,
          column: 12
        },
        end: {
          line: 435,
          column: 48
        }
      },
      "148": {
        start: {
          line: 438,
          column: 8
        },
        end: {
          line: 455,
          column: 9
        }
      },
      "149": {
        start: {
          line: 440,
          column: 44
        },
        end: {
          line: 440,
          column: 158
        }
      },
      "150": {
        start: {
          line: 441,
          column: 12
        },
        end: {
          line: 451,
          column: 13
        }
      },
      "151": {
        start: {
          line: 443,
          column: 31
        },
        end: {
          line: 443,
          column: 50
        }
      },
      "152": {
        start: {
          line: 444,
          column: 16
        },
        end: {
          line: 448,
          column: 36
        }
      },
      "153": {
        start: {
          line: 449,
          column: 16
        },
        end: {
          line: 449,
          column: 50
        }
      },
      "154": {
        start: {
          line: 450,
          column: 16
        },
        end: {
          line: 450,
          column: 59
        }
      },
      "155": {
        start: {
          line: 453,
          column: 12
        },
        end: {
          line: 453,
          column: 68
        }
      },
      "156": {
        start: {
          line: 456,
          column: 31
        },
        end: {
          line: 456,
          column: 53
        }
      },
      "157": {
        start: {
          line: 457,
          column: 8
        },
        end: {
          line: 460,
          column: 11
        }
      },
      "158": {
        start: {
          line: 461,
          column: 25
        },
        end: {
          line: 474,
          column: 10
        }
      },
      "159": {
        start: {
          line: 476,
          column: 8
        },
        end: {
          line: 476,
          column: 86
        }
      },
      "160": {
        start: {
          line: 477,
          column: 8
        },
        end: {
          line: 477,
          column: 92
        }
      },
      "161": {
        start: {
          line: 478,
          column: 8
        },
        end: {
          line: 478,
          column: 88
        }
      },
      "162": {
        start: {
          line: 479,
          column: 8
        },
        end: {
          line: 479,
          column: 44
        }
      },
      "163": {
        start: {
          line: 481,
          column: 31
        },
        end: {
          line: 481,
          column: 53
        }
      },
      "164": {
        start: {
          line: 482,
          column: 8
        },
        end: {
          line: 486,
          column: 11
        }
      },
      "165": {
        start: {
          line: 487,
          column: 25
        },
        end: {
          line: 492,
          column: 10
        }
      },
      "166": {
        start: {
          line: 493,
          column: 8
        },
        end: {
          line: 493,
          column: 44
        }
      },
      "167": {
        start: {
          line: 497,
          column: 22
        },
        end: {
          line: 497,
          column: 32
        }
      },
      "168": {
        start: {
          line: 498,
          column: 4
        },
        end: {
          line: 659,
          column: 5
        }
      },
      "169": {
        start: {
          line: 500,
          column: 25
        },
        end: {
          line: 500,
          column: 112
        }
      },
      "170": {
        start: {
          line: 501,
          column: 8
        },
        end: {
          line: 504,
          column: 11
        }
      },
      "171": {
        start: {
          line: 506,
          column: 32
        },
        end: {
          line: 506,
          column: 56
        }
      },
      "172": {
        start: {
          line: 507,
          column: 8
        },
        end: {
          line: 519,
          column: 9
        }
      },
      "173": {
        start: {
          line: 508,
          column: 12
        },
        end: {
          line: 510,
          column: 15
        }
      },
      "174": {
        start: {
          line: 511,
          column: 29
        },
        end: {
          line: 516,
          column: 14
        }
      },
      "175": {
        start: {
          line: 517,
          column: 12
        },
        end: {
          line: 517,
          column: 119
        }
      },
      "176": {
        start: {
          line: 518,
          column: 12
        },
        end: {
          line: 518,
          column: 48
        }
      },
      "177": {
        start: {
          line: 522,
          column: 8
        },
        end: {
          line: 532,
          column: 9
        }
      },
      "178": {
        start: {
          line: 523,
          column: 12
        },
        end: {
          line: 523,
          column: 47
        }
      },
      "179": {
        start: {
          line: 525,
          column: 12
        },
        end: {
          line: 525,
          column: 62
        }
      },
      "180": {
        start: {
          line: 526,
          column: 29
        },
        end: {
          line: 530,
          column: 14
        }
      },
      "181": {
        start: {
          line: 531,
          column: 12
        },
        end: {
          line: 531,
          column: 48
        }
      },
      "182": {
        start: {
          line: 533,
          column: 34
        },
        end: {
          line: 533,
          column: 45
        }
      },
      "183": {
        start: {
          line: 535,
          column: 8
        },
        end: {
          line: 542,
          column: 9
        }
      },
      "184": {
        start: {
          line: 536,
          column: 29
        },
        end: {
          line: 540,
          column: 14
        }
      },
      "185": {
        start: {
          line: 541,
          column: 12
        },
        end: {
          line: 541,
          column: 48
        }
      },
      "186": {
        start: {
          line: 543,
          column: 8
        },
        end: {
          line: 550,
          column: 9
        }
      },
      "187": {
        start: {
          line: 544,
          column: 29
        },
        end: {
          line: 548,
          column: 14
        }
      },
      "188": {
        start: {
          line: 549,
          column: 12
        },
        end: {
          line: 549,
          column: 48
        }
      },
      "189": {
        start: {
          line: 552,
          column: 22
        },
        end: {
          line: 552,
          column: 59
        }
      },
      "190": {
        start: {
          line: 553,
          column: 8
        },
        end: {
          line: 561,
          column: 9
        }
      },
      "191": {
        start: {
          line: 554,
          column: 12
        },
        end: {
          line: 554,
          column: 52
        }
      },
      "192": {
        start: {
          line: 555,
          column: 29
        },
        end: {
          line: 559,
          column: 14
        }
      },
      "193": {
        start: {
          line: 560,
          column: 12
        },
        end: {
          line: 560,
          column: 48
        }
      },
      "194": {
        start: {
          line: 562,
          column: 8
        },
        end: {
          line: 562,
          column: 46
        }
      },
      "195": {
        start: {
          line: 564,
          column: 27
        },
        end: {
          line: 564,
          column: 190
        }
      },
      "196": {
        start: {
          line: 566,
          column: 8
        },
        end: {
          line: 584,
          column: 9
        }
      },
      "197": {
        start: {
          line: 567,
          column: 12
        },
        end: {
          line: 575,
          column: 15
        }
      },
      "198": {
        start: {
          line: 577,
          column: 12
        },
        end: {
          line: 577,
          column: 65
        }
      },
      "199": {
        start: {
          line: 578,
          column: 29
        },
        end: {
          line: 582,
          column: 14
        }
      },
      "200": {
        start: {
          line: 583,
          column: 12
        },
        end: {
          line: 583,
          column: 48
        }
      },
      "201": {
        start: {
          line: 585,
          column: 8
        },
        end: {
          line: 597,
          column: 9
        }
      },
      "202": {
        start: {
          line: 586,
          column: 12
        },
        end: {
          line: 589,
          column: 15
        }
      },
      "203": {
        start: {
          line: 590,
          column: 29
        },
        end: {
          line: 595,
          column: 14
        }
      },
      "204": {
        start: {
          line: 596,
          column: 12
        },
        end: {
          line: 596,
          column: 48
        }
      },
      "205": {
        start: {
          line: 599,
          column: 8
        },
        end: {
          line: 609,
          column: 9
        }
      },
      "206": {
        start: {
          line: 600,
          column: 12
        },
        end: {
          line: 600,
          column: 55
        }
      },
      "207": {
        start: {
          line: 602,
          column: 12
        },
        end: {
          line: 602,
          column: 66
        }
      },
      "208": {
        start: {
          line: 603,
          column: 29
        },
        end: {
          line: 607,
          column: 14
        }
      },
      "209": {
        start: {
          line: 608,
          column: 12
        },
        end: {
          line: 608,
          column: 48
        }
      },
      "210": {
        start: {
          line: 611,
          column: 8
        },
        end: {
          line: 625,
          column: 9
        }
      },
      "211": {
        start: {
          line: 612,
          column: 33
        },
        end: {
          line: 612,
          column: 94
        }
      },
      "212": {
        start: {
          line: 613,
          column: 12
        },
        end: {
          line: 617,
          column: 15
        }
      },
      "213": {
        start: {
          line: 618,
          column: 29
        },
        end: {
          line: 623,
          column: 14
        }
      },
      "214": {
        start: {
          line: 624,
          column: 12
        },
        end: {
          line: 624,
          column: 48
        }
      },
      "215": {
        start: {
          line: 626,
          column: 31
        },
        end: {
          line: 626,
          column: 53
        }
      },
      "216": {
        start: {
          line: 627,
          column: 8
        },
        end: {
          line: 630,
          column: 11
        }
      },
      "217": {
        start: {
          line: 631,
          column: 25
        },
        end: {
          line: 643,
          column: 10
        }
      },
      "218": {
        start: {
          line: 644,
          column: 8
        },
        end: {
          line: 644,
          column: 44
        }
      },
      "219": {
        start: {
          line: 646,
          column: 31
        },
        end: {
          line: 646,
          column: 53
        }
      },
      "220": {
        start: {
          line: 647,
          column: 8
        },
        end: {
          line: 651,
          column: 11
        }
      },
      "221": {
        start: {
          line: 652,
          column: 25
        },
        end: {
          line: 657,
          column: 10
        }
      },
      "222": {
        start: {
          line: 658,
          column: 8
        },
        end: {
          line: 658,
          column: 44
        }
      },
      "223": {
        start: {
          line: 662,
          column: 21
        },
        end: {
          line: 664,
          column: 6
        }
      },
      "224": {
        start: {
          line: 665,
          column: 4
        },
        end: {
          line: 665,
          column: 40
        }
      },
      "225": {
        start: {
          line: 672,
          column: 22
        },
        end: {
          line: 672,
          column: 149
        }
      },
      "226": {
        start: {
          line: 673,
          column: 4
        },
        end: {
          line: 675,
          column: 5
        }
      },
      "227": {
        start: {
          line: 674,
          column: 8
        },
        end: {
          line: 674,
          column: 62
        }
      },
      "228": {
        start: {
          line: 676,
          column: 16
        },
        end: {
          line: 676,
          column: 45
        }
      },
      "229": {
        start: {
          line: 677,
          column: 22
        },
        end: {
          line: 677,
          column: 26
        }
      },
      "230": {
        start: {
          line: 678,
          column: 25
        },
        end: {
          line: 685,
          column: 5
        }
      },
      "231": {
        start: {
          line: 686,
          column: 4
        },
        end: {
          line: 693,
          column: 5
        }
      },
      "232": {
        start: {
          line: 687,
          column: 8
        },
        end: {
          line: 689,
          column: 11
        }
      },
      "233": {
        start: {
          line: 691,
          column: 8
        },
        end: {
          line: 691,
          column: 51
        }
      },
      "234": {
        start: {
          line: 692,
          column: 8
        },
        end: {
          line: 692,
          column: 46
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 16
          }
        },
        loc: {
          start: {
            line: 5,
            column: 30
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 13
          },
          end: {
            line: 12,
            column: 14
          }
        },
        loc: {
          start: {
            line: 12,
            column: 24
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 15,
            column: 10
          },
          end: {
            line: 15,
            column: 11
          }
        },
        loc: {
          start: {
            line: 15,
            column: 21
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 18,
            column: 9
          },
          end: {
            line: 18,
            column: 10
          }
        },
        loc: {
          start: {
            line: 18,
            column: 20
          },
          end: {
            line: 20,
            column: 5
          }
        },
        line: 18
      },
      "4": {
        name: "_interop_require_default",
        decl: {
          start: {
            line: 26,
            column: 9
          },
          end: {
            line: 26,
            column: 33
          }
        },
        loc: {
          start: {
            line: 26,
            column: 39
          },
          end: {
            line: 30,
            column: 1
          }
        },
        line: 26
      },
      "5": {
        name: "checkRateLimit",
        decl: {
          start: {
            line: 40,
            column: 13
          },
          end: {
            line: 40,
            column: 27
          }
        },
        loc: {
          start: {
            line: 40,
            column: 38
          },
          end: {
            line: 70,
            column: 1
          }
        },
        line: 40
      },
      "6": {
        name: "validateInput",
        decl: {
          start: {
            line: 77,
            column: 13
          },
          end: {
            line: 77,
            column: 26
          }
        },
        loc: {
          start: {
            line: 77,
            column: 40
          },
          end: {
            line: 116,
            column: 1
          }
        },
        line: 77
      },
      "7": {
        name: "handleWeChatApiError",
        decl: {
          start: {
            line: 123,
            column: 13
          },
          end: {
            line: 123,
            column: 33
          }
        },
        loc: {
          start: {
            line: 123,
            column: 51
          },
          end: {
            line: 153,
            column: 1
          }
        },
        line: 123
      },
      "8": {
        name: "setSecurityHeaders",
        decl: {
          start: {
            line: 159,
            column: 13
          },
          end: {
            line: 159,
            column: 31
          }
        },
        loc: {
          start: {
            line: 159,
            column: 42
          },
          end: {
            line: 174,
            column: 1
          }
        },
        line: 159
      },
      "9": {
        name: "POST",
        decl: {
          start: {
            line: 175,
            column: 15
          },
          end: {
            line: 175,
            column: 19
          }
        },
        loc: {
          start: {
            line: 175,
            column: 29
          },
          end: {
            line: 495,
            column: 1
          }
        },
        line: 175
      },
      "10": {
        name: "PUT",
        decl: {
          start: {
            line: 496,
            column: 15
          },
          end: {
            line: 496,
            column: 18
          }
        },
        loc: {
          start: {
            line: 496,
            column: 28
          },
          end: {
            line: 660,
            column: 1
          }
        },
        line: 496
      },
      "11": {
        name: "OPTIONS",
        decl: {
          start: {
            line: 661,
            column: 15
          },
          end: {
            line: 661,
            column: 22
          }
        },
        loc: {
          start: {
            line: 661,
            column: 32
          },
          end: {
            line: 666,
            column: 1
          }
        },
        line: 661
      },
      "12": {
        name: "generateJwtToken",
        decl: {
          start: {
            line: 670,
            column: 19
          },
          end: {
            line: 670,
            column: 35
          }
        },
        loc: {
          start: {
            line: 670,
            column: 45
          },
          end: {
            line: 694,
            column: 1
          }
        },
        line: 670
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 27,
            column: 11
          },
          end: {
            line: 29,
            column: 5
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 27,
            column: 35
          },
          end: {
            line: 27,
            column: 38
          }
        }, {
          start: {
            line: 27,
            column: 41
          },
          end: {
            line: 29,
            column: 5
          }
        }],
        line: 27
      },
      "1": {
        loc: {
          start: {
            line: 27,
            column: 11
          },
          end: {
            line: 27,
            column: 32
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 27,
            column: 11
          },
          end: {
            line: 27,
            column: 14
          }
        }, {
          start: {
            line: 27,
            column: 18
          },
          end: {
            line: 27,
            column: 32
          }
        }],
        line: 27
      },
      "2": {
        loc: {
          start: {
            line: 44,
            column: 4
          },
          end: {
            line: 55,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 44,
            column: 4
          },
          end: {
            line: 55,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 44
      },
      "3": {
        loc: {
          start: {
            line: 44,
            column: 8
          },
          end: {
            line: 44,
            column: 49
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 44,
            column: 8
          },
          end: {
            line: 44,
            column: 19
          }
        }, {
          start: {
            line: 44,
            column: 23
          },
          end: {
            line: 44,
            column: 49
          }
        }],
        line: 44
      },
      "4": {
        loc: {
          start: {
            line: 58,
            column: 4
          },
          end: {
            line: 64,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 58,
            column: 4
          },
          end: {
            line: 64,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 58
      },
      "5": {
        loc: {
          start: {
            line: 79,
            column: 4
          },
          end: {
            line: 84,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 79,
            column: 4
          },
          end: {
            line: 84,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 79
      },
      "6": {
        loc: {
          start: {
            line: 79,
            column: 8
          },
          end: {
            line: 79,
            column: 41
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 79,
            column: 8
          },
          end: {
            line: 79,
            column: 13
          }
        }, {
          start: {
            line: 79,
            column: 17
          },
          end: {
            line: 79,
            column: 41
          }
        }],
        line: 79
      },
      "7": {
        loc: {
          start: {
            line: 85,
            column: 4
          },
          end: {
            line: 90,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 85,
            column: 4
          },
          end: {
            line: 90,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 85
      },
      "8": {
        loc: {
          start: {
            line: 85,
            column: 8
          },
          end: {
            line: 85,
            column: 45
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 85,
            column: 8
          },
          end: {
            line: 85,
            column: 24
          }
        }, {
          start: {
            line: 85,
            column: 28
          },
          end: {
            line: 85,
            column: 45
          }
        }],
        line: 85
      },
      "9": {
        loc: {
          start: {
            line: 92,
            column: 4
          },
          end: {
            line: 97,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 92,
            column: 4
          },
          end: {
            line: 97,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 92
      },
      "10": {
        loc: {
          start: {
            line: 99,
            column: 4
          },
          end: {
            line: 112,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 99,
            column: 4
          },
          end: {
            line: 112,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 99
      },
      "11": {
        loc: {
          start: {
            line: 99,
            column: 8
          },
          end: {
            line: 99,
            column: 42
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 99,
            column: 8
          },
          end: {
            line: 99,
            column: 13
          }
        }, {
          start: {
            line: 99,
            column: 17
          },
          end: {
            line: 99,
            column: 42
          }
        }],
        line: 99
      },
      "12": {
        loc: {
          start: {
            line: 100,
            column: 8
          },
          end: {
            line: 105,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 100,
            column: 8
          },
          end: {
            line: 105,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 100
      },
      "13": {
        loc: {
          start: {
            line: 106,
            column: 8
          },
          end: {
            line: 111,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 106,
            column: 8
          },
          end: {
            line: 111,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 106
      },
      "14": {
        loc: {
          start: {
            line: 152,
            column: 11
          },
          end: {
            line: 152,
            column: 82
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 152,
            column: 11
          },
          end: {
            line: 152,
            column: 35
          }
        }, {
          start: {
            line: 152,
            column: 39
          },
          end: {
            line: 152,
            column: 82
          }
        }],
        line: 152
      },
      "15": {
        loc: {
          start: {
            line: 161,
            column: 56
          },
          end: {
            line: 161,
            column: 95
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 161,
            column: 56
          },
          end: {
            line: 161,
            column: 88
          }
        }, {
          start: {
            line: 161,
            column: 92
          },
          end: {
            line: 161,
            column: 95
          }
        }],
        line: 161
      },
      "16": {
        loc: {
          start: {
            line: 179,
            column: 25
          },
          end: {
            line: 179,
            column: 112
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 179,
            column: 25
          },
          end: {
            line: 179,
            column: 63
          }
        }, {
          start: {
            line: 179,
            column: 67
          },
          end: {
            line: 179,
            column: 99
          }
        }, {
          start: {
            line: 179,
            column: 103
          },
          end: {
            line: 179,
            column: 112
          }
        }],
        line: 179
      },
      "17": {
        loc: {
          start: {
            line: 187,
            column: 8
          },
          end: {
            line: 203,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 187,
            column: 8
          },
          end: {
            line: 203,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 187
      },
      "18": {
        loc: {
          start: {
            line: 220,
            column: 8
          },
          end: {
            line: 228,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 220,
            column: 8
          },
          end: {
            line: 228,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 220
      },
      "19": {
        loc: {
          start: {
            line: 232,
            column: 8
          },
          end: {
            line: 240,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 232,
            column: 8
          },
          end: {
            line: 240,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 232
      },
      "20": {
        loc: {
          start: {
            line: 232,
            column: 12
          },
          end: {
            line: 232,
            column: 32
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 232,
            column: 12
          },
          end: {
            line: 232,
            column: 18
          }
        }, {
          start: {
            line: 232,
            column: 22
          },
          end: {
            line: 232,
            column: 32
          }
        }],
        line: 232
      },
      "21": {
        loc: {
          start: {
            line: 282,
            column: 8
          },
          end: {
            line: 294,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 282,
            column: 8
          },
          end: {
            line: 294,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 282
      },
      "22": {
        loc: {
          start: {
            line: 308,
            column: 8
          },
          end: {
            line: 322,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 308,
            column: 8
          },
          end: {
            line: 322,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 308
      },
      "23": {
        loc: {
          start: {
            line: 327,
            column: 8
          },
          end: {
            line: 338,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 327,
            column: 8
          },
          end: {
            line: 338,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 327
      },
      "24": {
        loc: {
          start: {
            line: 327,
            column: 12
          },
          end: {
            line: 327,
            column: 35
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 327,
            column: 12
          },
          end: {
            line: 327,
            column: 24
          }
        }, {
          start: {
            line: 327,
            column: 28
          },
          end: {
            line: 327,
            column: 35
          }
        }],
        line: 327
      },
      "25": {
        loc: {
          start: {
            line: 363,
            column: 8
          },
          end: {
            line: 375,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 363,
            column: 8
          },
          end: {
            line: 375,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 363
      },
      "26": {
        loc: {
          start: {
            line: 389,
            column: 8
          },
          end: {
            line: 403,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 389,
            column: 8
          },
          end: {
            line: 403,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 389
      },
      "27": {
        loc: {
          start: {
            line: 441,
            column: 12
          },
          end: {
            line: 451,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 441,
            column: 12
          },
          end: {
            line: 451,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 441
      },
      "28": {
        loc: {
          start: {
            line: 441,
            column: 16
          },
          end: {
            line: 441,
            column: 57
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 441,
            column: 16
          },
          end: {
            line: 441,
            column: 29
          }
        }, {
          start: {
            line: 441,
            column: 33
          },
          end: {
            line: 441,
            column: 57
          }
        }],
        line: 441
      },
      "29": {
        loc: {
          start: {
            line: 483,
            column: 19
          },
          end: {
            line: 483,
            column: 73
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 483,
            column: 44
          },
          end: {
            line: 483,
            column: 57
          }
        }, {
          start: {
            line: 483,
            column: 60
          },
          end: {
            line: 483,
            column: 73
          }
        }],
        line: 483
      },
      "30": {
        loc: {
          start: {
            line: 484,
            column: 19
          },
          end: {
            line: 484,
            column: 67
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 484,
            column: 44
          },
          end: {
            line: 484,
            column: 55
          }
        }, {
          start: {
            line: 484,
            column: 58
          },
          end: {
            line: 484,
            column: 67
          }
        }],
        line: 484
      },
      "31": {
        loc: {
          start: {
            line: 500,
            column: 25
          },
          end: {
            line: 500,
            column: 112
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 500,
            column: 25
          },
          end: {
            line: 500,
            column: 63
          }
        }, {
          start: {
            line: 500,
            column: 67
          },
          end: {
            line: 500,
            column: 99
          }
        }, {
          start: {
            line: 500,
            column: 103
          },
          end: {
            line: 500,
            column: 112
          }
        }],
        line: 500
      },
      "32": {
        loc: {
          start: {
            line: 507,
            column: 8
          },
          end: {
            line: 519,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 507,
            column: 8
          },
          end: {
            line: 519,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 507
      },
      "33": {
        loc: {
          start: {
            line: 535,
            column: 8
          },
          end: {
            line: 542,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 535,
            column: 8
          },
          end: {
            line: 542,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 535
      },
      "34": {
        loc: {
          start: {
            line: 535,
            column: 12
          },
          end: {
            line: 535,
            column: 63
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 535,
            column: 12
          },
          end: {
            line: 535,
            column: 26
          }
        }, {
          start: {
            line: 535,
            column: 30
          },
          end: {
            line: 535,
            column: 63
          }
        }],
        line: 535
      },
      "35": {
        loc: {
          start: {
            line: 543,
            column: 8
          },
          end: {
            line: 550,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 543,
            column: 8
          },
          end: {
            line: 550,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 543
      },
      "36": {
        loc: {
          start: {
            line: 543,
            column: 12
          },
          end: {
            line: 543,
            column: 67
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 543,
            column: 12
          },
          end: {
            line: 543,
            column: 37
          }
        }, {
          start: {
            line: 543,
            column: 41
          },
          end: {
            line: 543,
            column: 67
          }
        }],
        line: 543
      },
      "37": {
        loc: {
          start: {
            line: 553,
            column: 8
          },
          end: {
            line: 561,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 553,
            column: 8
          },
          end: {
            line: 561,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 553
      },
      "38": {
        loc: {
          start: {
            line: 585,
            column: 8
          },
          end: {
            line: 597,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 585,
            column: 8
          },
          end: {
            line: 597,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 585
      },
      "39": {
        loc: {
          start: {
            line: 611,
            column: 8
          },
          end: {
            line: 625,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 611,
            column: 8
          },
          end: {
            line: 625,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 611
      },
      "40": {
        loc: {
          start: {
            line: 648,
            column: 19
          },
          end: {
            line: 648,
            column: 73
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 648,
            column: 44
          },
          end: {
            line: 648,
            column: 57
          }
        }, {
          start: {
            line: 648,
            column: 60
          },
          end: {
            line: 648,
            column: 73
          }
        }],
        line: 648
      },
      "41": {
        loc: {
          start: {
            line: 649,
            column: 19
          },
          end: {
            line: 649,
            column: 67
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 649,
            column: 44
          },
          end: {
            line: 649,
            column: 55
          }
        }, {
          start: {
            line: 649,
            column: 58
          },
          end: {
            line: 649,
            column: 67
          }
        }],
        line: 649
      },
      "42": {
        loc: {
          start: {
            line: 672,
            column: 22
          },
          end: {
            line: 672,
            column: 149
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 672,
            column: 22
          },
          end: {
            line: 672,
            column: 44
          }
        }, {
          start: {
            line: 672,
            column: 48
          },
          end: {
            line: 672,
            column: 79
          }
        }, {
          start: {
            line: 672,
            column: 83
          },
          end: {
            line: 672,
            column: 124
          }
        }, {
          start: {
            line: 672,
            column: 128
          },
          end: {
            line: 672,
            column: 149
          }
        }],
        line: 672
      },
      "43": {
        loc: {
          start: {
            line: 673,
            column: 4
          },
          end: {
            line: 675,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 673,
            column: 4
          },
          end: {
            line: 675,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 673
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0,
      "112": 0,
      "113": 0,
      "114": 0,
      "115": 0,
      "116": 0,
      "117": 0,
      "118": 0,
      "119": 0,
      "120": 0,
      "121": 0,
      "122": 0,
      "123": 0,
      "124": 0,
      "125": 0,
      "126": 0,
      "127": 0,
      "128": 0,
      "129": 0,
      "130": 0,
      "131": 0,
      "132": 0,
      "133": 0,
      "134": 0,
      "135": 0,
      "136": 0,
      "137": 0,
      "138": 0,
      "139": 0,
      "140": 0,
      "141": 0,
      "142": 0,
      "143": 0,
      "144": 0,
      "145": 0,
      "146": 0,
      "147": 0,
      "148": 0,
      "149": 0,
      "150": 0,
      "151": 0,
      "152": 0,
      "153": 0,
      "154": 0,
      "155": 0,
      "156": 0,
      "157": 0,
      "158": 0,
      "159": 0,
      "160": 0,
      "161": 0,
      "162": 0,
      "163": 0,
      "164": 0,
      "165": 0,
      "166": 0,
      "167": 0,
      "168": 0,
      "169": 0,
      "170": 0,
      "171": 0,
      "172": 0,
      "173": 0,
      "174": 0,
      "175": 0,
      "176": 0,
      "177": 0,
      "178": 0,
      "179": 0,
      "180": 0,
      "181": 0,
      "182": 0,
      "183": 0,
      "184": 0,
      "185": 0,
      "186": 0,
      "187": 0,
      "188": 0,
      "189": 0,
      "190": 0,
      "191": 0,
      "192": 0,
      "193": 0,
      "194": 0,
      "195": 0,
      "196": 0,
      "197": 0,
      "198": 0,
      "199": 0,
      "200": 0,
      "201": 0,
      "202": 0,
      "203": 0,
      "204": 0,
      "205": 0,
      "206": 0,
      "207": 0,
      "208": 0,
      "209": 0,
      "210": 0,
      "211": 0,
      "212": 0,
      "213": 0,
      "214": 0,
      "215": 0,
      "216": 0,
      "217": 0,
      "218": 0,
      "219": 0,
      "220": 0,
      "221": 0,
      "222": 0,
      "223": 0,
      "224": 0,
      "225": 0,
      "226": 0,
      "227": 0,
      "228": 0,
      "229": 0,
      "230": 0,
      "231": 0,
      "232": 0,
      "233": 0,
      "234": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0],
      "28": [0, 0],
      "29": [0, 0],
      "30": [0, 0],
      "31": [0, 0, 0],
      "32": [0, 0],
      "33": [0, 0],
      "34": [0, 0],
      "35": [0, 0],
      "36": [0, 0],
      "37": [0, 0],
      "38": [0, 0],
      "39": [0, 0],
      "40": [0, 0],
      "41": [0, 0],
      "42": [0, 0, 0, 0],
      "43": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/cheolhyun/Repositories/picnic-web/app/api/auth/wechat/route.ts"],
      sourcesContent: ["import { NextRequest, NextResponse } from 'next/server';\nimport { createClient } from '@supabase/supabase-js';\nimport { Database } from '@/types/supabase';\nimport { SocialAuthError, SocialAuthErrorCode } from '@/lib/supabase/social/types';\nimport { normalizeWeChatProfile } from '@/lib/supabase/social/wechat';\nimport jwt from 'jsonwebtoken';\n\n// \uB808\uC774\uD2B8 \uB9AC\uBBF8\uD305\uC744 \uC704\uD55C \uAC04\uB2E8\uD55C \uBA54\uBAA8\uB9AC \uC800\uC7A5\uC18C\nconst requestCounts = new Map<string, { count: number; resetTime: number }>();\nconst RATE_LIMIT_WINDOW = 15 * 60 * 1000; // 15\uBD84\nconst RATE_LIMIT_MAX_REQUESTS = 10; // 15\uBD84\uB2F9 \uCD5C\uB300 10\uD68C \uC694\uCCAD\n\n/**\n * \uB808\uC774\uD2B8 \uB9AC\uBBF8\uD305 \uAC80\uC0AC\n * \n * @param clientId \uD074\uB77C\uC774\uC5B8\uD2B8 \uC2DD\uBCC4\uC790 (IP \uC8FC\uC18C \uB4F1)\n * @returns \uC694\uCCAD \uD5C8\uC6A9 \uC5EC\uBD80\n */\nfunction checkRateLimit(clientId: string): { allowed: boolean; remaining: number; resetTime: number } {\n  const now = Date.now();\n  const clientData = requestCounts.get(clientId);\n  \n  // \uAE30\uC874 \uB370\uC774\uD130\uAC00 \uC5C6\uAC70\uB098 \uC708\uB3C4\uC6B0\uAC00 \uB9CC\uB8CC\uB41C \uACBD\uC6B0\n  if (!clientData || now > clientData.resetTime) {\n    const resetTime = now + RATE_LIMIT_WINDOW;\n    requestCounts.set(clientId, { count: 1, resetTime });\n    return { allowed: true, remaining: RATE_LIMIT_MAX_REQUESTS - 1, resetTime };\n  }\n  \n  // \uC694\uCCAD \uD69F\uC218 \uC99D\uAC00\n  clientData.count++;\n  \n  if (clientData.count > RATE_LIMIT_MAX_REQUESTS) {\n    return { allowed: false, remaining: 0, resetTime: clientData.resetTime };\n  }\n  \n  return { \n    allowed: true, \n    remaining: RATE_LIMIT_MAX_REQUESTS - clientData.count, \n    resetTime: clientData.resetTime \n  };\n}\n\n/**\n * \uC785\uB825 \uAC80\uC99D \uD568\uC218\n * \n * @param code OAuth \uCF54\uB4DC\n * @param state \uC0C1\uD0DC \uD1A0\uD070\n * @returns \uAC80\uC99D \uACB0\uACFC\n */\nfunction validateInput(code: string, state?: string): { valid: boolean; error?: string } {\n  // \uCF54\uB4DC \uAC80\uC99D\n  if (!code || typeof code !== 'string') {\n    return { valid: false, error: 'OAuth \uCF54\uB4DC\uAC00 \uD544\uC694\uD569\uB2C8\uB2E4.' };\n  }\n  \n  if (code.length < 10 || code.length > 512) {\n    return { valid: false, error: '\uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 OAuth \uCF54\uB4DC \uD615\uC2DD\uC785\uB2C8\uB2E4.' };\n  }\n  \n  // \uCF54\uB4DC\uC5D0 \uD5C8\uC6A9\uB418\uC9C0 \uC54A\uB294 \uBB38\uC790\uAC00 \uC788\uB294\uC9C0 \uD655\uC778\n  if (!/^[a-zA-Z0-9_-]+$/.test(code)) {\n    return { valid: false, error: 'OAuth \uCF54\uB4DC\uC5D0 \uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uBB38\uC790\uAC00 \uD3EC\uD568\uB418\uC5B4 \uC788\uC2B5\uB2C8\uB2E4.' };\n  }\n  \n  // \uC0C1\uD0DC \uD1A0\uD070 \uAC80\uC99D (\uC120\uD0DD\uC0AC\uD56D)\n  if (state && typeof state === 'string') {\n    if (state.length > 256) {\n      return { valid: false, error: '\uC0C1\uD0DC \uD1A0\uD070\uC774 \uB108\uBB34 \uAE41\uB2C8\uB2E4.' };\n    }\n    \n    if (!/^[a-zA-Z0-9_-]+$/.test(state)) {\n      return { valid: false, error: '\uC0C1\uD0DC \uD1A0\uD070\uC5D0 \uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uBB38\uC790\uAC00 \uD3EC\uD568\uB418\uC5B4 \uC788\uC2B5\uB2C8\uB2E4.' };\n    }\n  }\n  \n  return { valid: true };\n}\n\n/**\n * WeChat API \uC624\uB958 \uCF54\uB4DC \uCC98\uB9AC\n * \n * @param errcode WeChat API \uC624\uB958 \uCF54\uB4DC\n * @param errmsg WeChat API \uC624\uB958 \uBA54\uC2DC\uC9C0\n * @returns \uC0AC\uC6A9\uC790 \uCE5C\uD654\uC801\uC778 \uC624\uB958 \uBA54\uC2DC\uC9C0\n */\nfunction handleWeChatApiError(errcode: string | number, errmsg: string): string {\n  const errorCode = errcode.toString();\n  \n  const errorMessages: Record<string, string> = {\n    // \uD1A0\uD070 \uAD00\uB828 \uC624\uB958\n    '40001': '\uC561\uC138\uC2A4 \uD1A0\uD070\uC774 \uC720\uD6A8\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.',\n    '40002': '\uC798\uBABB\uB41C \uC790\uACA9 \uC99D\uBA85 \uD0C0\uC785\uC785\uB2C8\uB2E4.',\n    '40003': 'OpenID\uAC00 \uC720\uD6A8\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.',\n    '40013': '\uC798\uBABB\uB41C \uC571 ID\uC785\uB2C8\uB2E4.',\n    '40125': '\uC798\uBABB\uB41C \uC571 \uC2DC\uD06C\uB9BF\uC785\uB2C8\uB2E4.',\n    \n    // \uCF54\uB4DC \uAD00\uB828 \uC624\uB958\n    '40029': '\uC798\uBABB\uB41C OAuth \uCF54\uB4DC\uC785\uB2C8\uB2E4.',\n    '40163': '\uCF54\uB4DC\uAC00 \uC774\uBBF8 \uC0AC\uC6A9\uB418\uC5C8\uC2B5\uB2C8\uB2E4.',\n    \n    // \uD1A0\uD070 \uB9CC\uB8CC \uC624\uB958\n    '42001': '\uC561\uC138\uC2A4 \uD1A0\uD070\uC774 \uB9CC\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4.',\n    '42002': '\uB9AC\uD504\uB808\uC2DC \uD1A0\uD070\uC774 \uB9CC\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4.',\n    '42003': '\uC561\uC138\uC2A4 \uD1A0\uD070\uC774 \uAC31\uC2E0\uB418\uC5B4\uC57C \uD569\uB2C8\uB2E4.',\n    \n    // \uAD8C\uD55C \uAD00\uB828 \uC624\uB958\n    '48001': '\uC571\uC774 \uC2B9\uC778\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.',\n    '48002': '\uC571\uC774 \uCC28\uB2E8\uB418\uC5C8\uC2B5\uB2C8\uB2E4.',\n    '48003': '\uC571\uC774 \uC0AD\uC81C\uB418\uC5C8\uC2B5\uB2C8\uB2E4.',\n    '48004': '\uC571\uC774 \uC77C\uC2DC \uC911\uB2E8\uB418\uC5C8\uC2B5\uB2C8\uB2E4.',\n    \n    // \uC0AC\uC6A9\uC790 \uAD00\uB828 \uC624\uB958\n    '50001': '\uC0AC\uC6A9\uC790\uAC00 \uC778\uC99D\uC744 \uCDE8\uC18C\uD588\uC2B5\uB2C8\uB2E4.',\n    '50002': '\uC0AC\uC6A9\uC790\uAC00 \uC571 \uC0AC\uC6A9\uC744 \uAC70\uBD80\uD588\uC2B5\uB2C8\uB2E4.',\n    \n    // \uC2DC\uC2A4\uD15C \uC624\uB958\n    '-1': 'WeChat \uC2DC\uC2A4\uD15C \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.',\n    '40164': '\uC694\uCCAD\uC774 \uB108\uBB34 \uC790\uC8FC \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4. \uC7A0\uC2DC \uD6C4 \uB2E4\uC2DC \uC2DC\uB3C4\uD574\uC8FC\uC138\uC694.',\n    '89503': 'WeChat \uC11C\uBE44\uC2A4\uAC00 \uC77C\uC2DC\uC801\uC73C\uB85C \uC0AC\uC6A9\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.',\n  };\n  \n  return errorMessages[errorCode] || `WeChat API \uC624\uB958: ${errmsg} (\uCF54\uB4DC: ${errcode})`;\n}\n\n/**\n * \uBCF4\uC548 \uD5E4\uB354 \uC124\uC815\n * \n * @param response NextResponse \uAC1D\uCCB4\n * @returns \uBCF4\uC548 \uD5E4\uB354\uAC00 \uC124\uC815\uB41C \uC751\uB2F5\n */\nfunction setSecurityHeaders(response: NextResponse): NextResponse {\n  // CORS \uD5E4\uB354\n  response.headers.set('Access-Control-Allow-Origin', process.env.NEXT_PUBLIC_SITE_URL || '*');\n  response.headers.set('Access-Control-Allow-Methods', 'POST, PUT, OPTIONS');\n  response.headers.set('Access-Control-Allow-Headers', 'Content-Type, Authorization');\n  \n  // \uBCF4\uC548 \uD5E4\uB354\n  response.headers.set('X-Content-Type-Options', 'nosniff');\n  response.headers.set('X-Frame-Options', 'DENY');\n  response.headers.set('X-XSS-Protection', '1; mode=block');\n  response.headers.set('Referrer-Policy', 'strict-origin-when-cross-origin');\n  \n  // \uCE90\uC2DC \uBC29\uC9C0 (\uBBFC\uAC10\uD55C \uB370\uC774\uD130)\n  response.headers.set('Cache-Control', 'no-store, no-cache, must-revalidate, proxy-revalidate');\n  response.headers.set('Pragma', 'no-cache');\n  response.headers.set('Expires', '0');\n  \n  return response;\n}\n\n/**\n * WeChat \uD1A0\uD070 \uBC0F \uC0AC\uC6A9\uC790 \uC815\uBCF4 \uCC98\uB9AC API\n * \n * \uC774 API\uB294 WeChat OAuth \uCF5C\uBC31\uC73C\uB85C\uBD80\uD130 \uBC1B\uC740 \uCF54\uB4DC\uB97C \uC0AC\uC6A9\uD558\uC5EC\n * \uC561\uC138\uC2A4 \uD1A0\uD070\uC744 \uD68D\uB4DD\uD558\uACE0 \uC0AC\uC6A9\uC790 \uC815\uBCF4\uB97C \uAC00\uC838\uC624\uB294 \uC5ED\uD560\uC744 \uD569\uB2C8\uB2E4.\n */\nexport async function POST(request: NextRequest) {\n  const startTime = Date.now();\n  \n  try {\n    // \uD074\uB77C\uC774\uC5B8\uD2B8 IP \uC8FC\uC18C \uAC00\uC838\uC624\uAE30 (\uB808\uC774\uD2B8 \uB9AC\uBBF8\uD305\uC6A9)\n    const clientIp = request.headers.get('x-forwarded-for') || \n                     request.headers.get('x-real-ip') || \n                     'unknown';\n    \n    console.log('\uD83D\uDD0D WeChat API \uC694\uCCAD \uC2DC\uC791:', {\n      ip: clientIp,\n      userAgent: request.headers.get('user-agent'),\n      timestamp: new Date().toISOString()\n    });\n    \n    // \uB808\uC774\uD2B8 \uB9AC\uBBF8\uD305 \uAC80\uC0AC\n    const rateLimitResult = checkRateLimit(clientIp);\n    if (!rateLimitResult.allowed) {\n      console.warn('\u26A0\uFE0F \uB808\uC774\uD2B8 \uB9AC\uBBF8\uD2B8 \uCD08\uACFC:', {\n        ip: clientIp,\n        resetTime: new Date(rateLimitResult.resetTime).toISOString()\n      });\n      \n      const response = NextResponse.json(\n        { \n          error: '\uC694\uCCAD\uC774 \uB108\uBB34 \uC790\uC8FC \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4. \uC7A0\uC2DC \uD6C4 \uB2E4\uC2DC \uC2DC\uB3C4\uD574\uC8FC\uC138\uC694.',\n          retryAfter: Math.ceil((rateLimitResult.resetTime - Date.now()) / 1000)\n        },\n        { status: 429 }\n      );\n      \n      response.headers.set('Retry-After', Math.ceil((rateLimitResult.resetTime - Date.now()) / 1000).toString());\n      response.headers.set('X-RateLimit-Limit', RATE_LIMIT_MAX_REQUESTS.toString());\n      response.headers.set('X-RateLimit-Remaining', '0');\n      response.headers.set('X-RateLimit-Reset', rateLimitResult.resetTime.toString());\n      \n      return setSecurityHeaders(response);\n    }\n    \n    // \uC694\uCCAD \uBCF8\uBB38 \uD30C\uC2F1\n    let requestBody;\n    try {\n      requestBody = await request.json();\n    } catch (parseError) {\n      console.error('\u274C \uC694\uCCAD \uBCF8\uBB38 \uD30C\uC2F1 \uC624\uB958:', parseError);\n      const response = NextResponse.json(\n        { error: '\uC798\uBABB\uB41C JSON \uD615\uC2DD\uC785\uB2C8\uB2E4.' },\n        { status: 400 }\n      );\n      return setSecurityHeaders(response);\n    }\n    \n    const { code, state } = requestBody;\n    \n    // \uC785\uB825 \uAC80\uC99D\n    const validation = validateInput(code, state);\n    if (!validation.valid) {\n      console.warn('\u26A0\uFE0F \uC785\uB825 \uAC80\uC99D \uC2E4\uD328:', validation.error);\n      const response = NextResponse.json(\n        { error: validation.error },\n        { status: 400 }\n      );\n      return setSecurityHeaders(response);\n    }\n    \n    // \uD658\uACBD \uBCC0\uC218 \uAC80\uC99D\n    const appId = process.env.NEXT_PUBLIC_WECHAT_APP_ID;\n    const appSecret = process.env.WECHAT_APP_SECRET;\n    \n    if (!appId || !appSecret) {\n      console.error('\u274C WeChat \uD658\uACBD \uBCC0\uC218 \uB204\uB77D');\n      const response = NextResponse.json(\n        { error: 'WeChat \uC11C\uBE44\uC2A4\uAC00 \uC62C\uBC14\uB974\uAC8C \uC124\uC815\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.' },\n        { status: 500 }\n      );\n      return setSecurityHeaders(response);\n    }\n    \n    // Supabase \uD074\uB77C\uC774\uC5B8\uD2B8 \uC0DD\uC131\n    let supabase;\n    try {\n      supabase = createClient<Database>(\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\n        process.env.SUPABASE_SERVICE_ROLE_KEY!,\n        {\n          auth: {\n            autoRefreshToken: false,\n            persistSession: false,\n          }\n        }\n      );\n    } catch (supabaseError) {\n      console.error('\u274C Supabase \uD074\uB77C\uC774\uC5B8\uD2B8 \uC0DD\uC131 \uC2E4\uD328:', supabaseError);\n      const response = NextResponse.json(\n        { error: '\uB370\uC774\uD130\uBCA0\uC774\uC2A4 \uC5F0\uACB0\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.' },\n        { status: 500 }\n      );\n      return setSecurityHeaders(response);\n    }\n    \n    console.log('\uD83D\uDD0D WeChat \uC561\uC138\uC2A4 \uD1A0\uD070 \uC694\uCCAD \uC2DC\uC791');\n    \n    // 1. \uCF54\uB4DC\uB85C \uC561\uC138\uC2A4 \uD1A0\uD070 \uD68D\uB4DD\n    const tokenUrl = `https://api.weixin.qq.com/sns/oauth2/access_token?appid=${encodeURIComponent(appId)}&secret=${encodeURIComponent(appSecret)}&code=${encodeURIComponent(code)}&grant_type=authorization_code`;\n    \n    let tokenResponse;\n    try {\n      tokenResponse = await fetch(tokenUrl, {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json',\n          'User-Agent': 'WeChat-OAuth-Server/1.0'\n        },\n        // \uD0C0\uC784\uC544\uC6C3 \uC124\uC815 (10\uCD08)\n        signal: AbortSignal.timeout(10000)\n      });\n    } catch (fetchError) {\n      console.error('\u274C WeChat \uD1A0\uD070 \uC694\uCCAD \uB124\uD2B8\uC6CC\uD06C \uC624\uB958:', fetchError);\n      const response = NextResponse.json(\n        { error: 'WeChat \uC11C\uBC84\uC5D0 \uC5F0\uACB0\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uC7A0\uC2DC \uD6C4 \uB2E4\uC2DC \uC2DC\uB3C4\uD574\uC8FC\uC138\uC694.' },\n        { status: 503 }\n      );\n      return setSecurityHeaders(response);\n    }\n    \n    if (!tokenResponse.ok) {\n      console.error('\u274C WeChat \uD1A0\uD070 \uC694\uCCAD HTTP \uC624\uB958:', {\n        status: tokenResponse.status,\n        statusText: tokenResponse.statusText\n      });\n      \n      const response = NextResponse.json(\n        { \n          error: 'WeChat \uD1A0\uD070 \uC694\uCCAD\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.',\n          details: `HTTP ${tokenResponse.status}: ${tokenResponse.statusText}`\n        },\n        { status: 502 }\n      );\n      return setSecurityHeaders(response);\n    }\n    \n    let tokenData;\n    try {\n      tokenData = await tokenResponse.json();\n    } catch (parseError) {\n      console.error('\u274C WeChat \uD1A0\uD070 \uC751\uB2F5 \uD30C\uC2F1 \uC624\uB958:', parseError);\n      const response = NextResponse.json(\n        { error: 'WeChat \uC11C\uBC84 \uC751\uB2F5\uC744 \uCC98\uB9AC\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.' },\n        { status: 502 }\n      );\n      return setSecurityHeaders(response);\n    }\n    \n    // WeChat API \uC624\uB958 \uCC98\uB9AC\n    if (tokenData.errcode) {\n      const errorMessage = handleWeChatApiError(tokenData.errcode, tokenData.errmsg);\n      console.error('\u274C WeChat \uD1A0\uD070 API \uC624\uB958:', {\n        errcode: tokenData.errcode,\n        errmsg: tokenData.errmsg,\n        friendlyMessage: errorMessage\n      });\n      \n      const response = NextResponse.json(\n        { \n          error: errorMessage,\n          code: tokenData.errcode \n        },\n        { status: 400 }\n      );\n      return setSecurityHeaders(response);\n    }\n    \n    const accessToken = tokenData.access_token;\n    const openId = tokenData.openid;\n    const refreshToken = tokenData.refresh_token;\n    const expiresIn = tokenData.expires_in;\n    \n    if (!accessToken || !openId) {\n      console.error('\u274C WeChat \uD1A0\uD070 \uC751\uB2F5\uC5D0 \uD544\uC218 \uD544\uB4DC \uB204\uB77D:', {\n        hasAccessToken: !!accessToken,\n        hasOpenId: !!openId\n      });\n      \n      const response = NextResponse.json(\n        { error: 'WeChat\uC5D0\uC11C \uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uD1A0\uD070 \uC751\uB2F5\uC744 \uBC1B\uC558\uC2B5\uB2C8\uB2E4.' },\n        { status: 502 }\n      );\n      return setSecurityHeaders(response);\n    }\n    \n    console.log('\u2705 WeChat \uC561\uC138\uC2A4 \uD1A0\uD070 \uD68D\uB4DD \uC644\uB8CC');\n    console.log('\uD83D\uDD0D WeChat \uC0AC\uC6A9\uC790 \uC815\uBCF4 \uC694\uCCAD \uC2DC\uC791');\n    \n    // 2. \uC561\uC138\uC2A4 \uD1A0\uD070\uC73C\uB85C \uC0AC\uC6A9\uC790 \uC815\uBCF4 \uAC00\uC838\uC624\uAE30\n    const userInfoUrl = `https://api.weixin.qq.com/sns/userinfo?access_token=${encodeURIComponent(accessToken)}&openid=${encodeURIComponent(openId)}&lang=zh_CN`;\n    \n    let userInfoResponse;\n    try {\n      userInfoResponse = await fetch(userInfoUrl, {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json',\n          'User-Agent': 'WeChat-OAuth-Server/1.0'\n        },\n        // \uD0C0\uC784\uC544\uC6C3 \uC124\uC815 (10\uCD08)\n        signal: AbortSignal.timeout(10000)\n      });\n    } catch (fetchError) {\n      console.error('\u274C WeChat \uC0AC\uC6A9\uC790 \uC815\uBCF4 \uC694\uCCAD \uB124\uD2B8\uC6CC\uD06C \uC624\uB958:', fetchError);\n      const response = NextResponse.json(\n        { error: 'WeChat \uC0AC\uC6A9\uC790 \uC815\uBCF4\uB97C \uAC00\uC838\uC62C \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uC7A0\uC2DC \uD6C4 \uB2E4\uC2DC \uC2DC\uB3C4\uD574\uC8FC\uC138\uC694.' },\n        { status: 503 }\n      );\n      return setSecurityHeaders(response);\n    }\n    \n    if (!userInfoResponse.ok) {\n      console.error('\u274C WeChat \uC0AC\uC6A9\uC790 \uC815\uBCF4 \uC694\uCCAD HTTP \uC624\uB958:', {\n        status: userInfoResponse.status,\n        statusText: userInfoResponse.statusText\n      });\n      \n      const response = NextResponse.json(\n        { \n          error: 'WeChat \uC0AC\uC6A9\uC790 \uC815\uBCF4 \uC694\uCCAD\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.',\n          details: `HTTP ${userInfoResponse.status}: ${userInfoResponse.statusText}`\n        },\n        { status: 502 }\n      );\n      return setSecurityHeaders(response);\n    }\n    \n    let userInfo;\n    try {\n      userInfo = await userInfoResponse.json();\n    } catch (parseError) {\n      console.error('\u274C WeChat \uC0AC\uC6A9\uC790 \uC815\uBCF4 \uC751\uB2F5 \uD30C\uC2F1 \uC624\uB958:', parseError);\n      const response = NextResponse.json(\n        { error: 'WeChat \uC0AC\uC6A9\uC790 \uC815\uBCF4 \uC751\uB2F5\uC744 \uCC98\uB9AC\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.' },\n        { status: 502 }\n      );\n      return setSecurityHeaders(response);\n    }\n    \n    // WeChat API \uC624\uB958 \uCC98\uB9AC\n    if (userInfo.errcode) {\n      const errorMessage = handleWeChatApiError(userInfo.errcode, userInfo.errmsg);\n      console.error('\u274C WeChat \uC0AC\uC6A9\uC790 \uC815\uBCF4 API \uC624\uB958:', {\n        errcode: userInfo.errcode,\n        errmsg: userInfo.errmsg,\n        friendlyMessage: errorMessage\n      });\n      \n      const response = NextResponse.json(\n        { \n          error: errorMessage,\n          code: userInfo.errcode \n        },\n        { status: 400 }\n      );\n      return setSecurityHeaders(response);\n    }\n    \n    console.log('\u2705 WeChat \uC0AC\uC6A9\uC790 \uC815\uBCF4 \uD68D\uB4DD \uC644\uB8CC');\n    \n    // \uD504\uB85C\uD544 \uC815\uBCF4 \uC815\uADDC\uD654\n    let normalizedProfile;\n    try {\n      normalizedProfile = normalizeWeChatProfile(userInfo);\n    } catch (profileError) {\n      console.error('\u274C WeChat \uD504\uB85C\uD544 \uC815\uADDC\uD654 \uC624\uB958:', profileError);\n      const response = NextResponse.json(\n        { error: 'WeChat \uC0AC\uC6A9\uC790 \uC815\uBCF4\uB97C \uCC98\uB9AC\uD558\uB294 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.' },\n        { status: 500 }\n      );\n      return setSecurityHeaders(response);\n    }\n    \n    // 3. JWT \uD1A0\uD070 \uC0DD\uC131 (Supabase \uC778\uC99D\uC6A9)\n    let idToken;\n    try {\n      idToken = await generateJwtToken({\n        sub: normalizedProfile.id,\n        name: normalizedProfile.name,\n        picture: normalizedProfile.avatar,\n        provider: 'wechat',\n        wechat_openid: normalizedProfile.id\n      });\n    } catch (jwtError) {\n      console.error('\u274C JWT \uD1A0\uD070 \uC0DD\uC131 \uC624\uB958:', jwtError);\n      const response = NextResponse.json(\n        { error: '\uC778\uC99D \uD1A0\uD070 \uC0DD\uC131\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.' },\n        { status: 500 }\n      );\n      return setSecurityHeaders(response);\n    }\n    \n    // 4. Supabase\uC5D0 \uC0AC\uC6A9\uC790 \uB370\uC774\uD130 \uC800\uC7A5 (\uC120\uD0DD \uC0AC\uD56D)\n    try {\n      // Supabase \uC0AC\uC6A9\uC790\uAC00 \uC774\uBBF8 \uC874\uC7AC\uD558\uB294\uC9C0 \uD655\uC778 (openId \uAE30\uC900)\n      const { data: existingUsers } = await supabase\n        .from('user_profiles')\n        .select('id')\n        .eq('provider', 'wechat')\n        .eq('provider_id', normalizedProfile.id);\n      \n      if (existingUsers && existingUsers.length > 0) {\n        // \uAE30\uC874 \uC0AC\uC6A9\uC790\uAC00 \uC788\uC73C\uBA74 \uD504\uB85C\uD544 \uC5C5\uB370\uC774\uD2B8\n        const userId = existingUsers[0].id;\n        \n        await supabase.from('user_profiles').update({\n          display_name: normalizedProfile.name,\n          avatar_url: normalizedProfile.avatar,\n          updated_at: new Date().toISOString()\n        }).eq('id', userId);\n        \n        normalizedProfile.userId = userId;\n        console.log('\u2705 \uAE30\uC874 WeChat \uC0AC\uC6A9\uC790 \uD504\uB85C\uD544 \uC5C5\uB370\uC774\uD2B8 \uC644\uB8CC');\n      }\n    } catch (error) {\n      console.warn('\u26A0\uFE0F Supabase \uC0AC\uC6A9\uC790 \uC5C5\uB370\uC774\uD2B8 \uC2E4\uD328 (\uACC4\uC18D \uC9C4\uD589):', error);\n      // \uC0AC\uC6A9\uC790 \uC5C5\uB370\uC774\uD2B8 \uC2E4\uD328\uD574\uB3C4 \uACC4\uC18D \uC9C4\uD589\n    }\n    \n    const processingTime = Date.now() - startTime;\n    console.log('\u2705 WeChat API \uCC98\uB9AC \uC644\uB8CC:', {\n      processingTime: `${processingTime}ms`,\n      openId: normalizedProfile.id.substring(0, 8) + '...' // \uBCF4\uC548\uC0C1 \uC77C\uBD80\uB9CC \uB85C\uADF8\n    });\n    \n    const response = NextResponse.json({\n      success: true,\n      tokens: {\n        access_token: accessToken,\n        refresh_token: refreshToken,\n        expires_in: expiresIn,\n        id_token: idToken\n      },\n      profile: normalizedProfile,\n      metadata: {\n        processingTime,\n        timestamp: new Date().toISOString()\n      }\n    });\n    \n    // \uB808\uC774\uD2B8 \uB9AC\uBBF8\uD305 \uD5E4\uB354 \uCD94\uAC00\n    response.headers.set('X-RateLimit-Limit', RATE_LIMIT_MAX_REQUESTS.toString());\n    response.headers.set('X-RateLimit-Remaining', rateLimitResult.remaining.toString());\n    response.headers.set('X-RateLimit-Reset', rateLimitResult.resetTime.toString());\n    \n    return setSecurityHeaders(response);\n    \n  } catch (error) {\n    const processingTime = Date.now() - startTime;\n    console.error('\u274C WeChat API \uC694\uCCAD \uCC98\uB9AC \uC911 \uC608\uC0C1\uCE58 \uBABB\uD55C \uC624\uB958:', {\n      error: error instanceof Error ? error.message : String(error),\n      stack: error instanceof Error ? error.stack : undefined,\n      processingTime: `${processingTime}ms`\n    });\n    \n    const response = NextResponse.json(\n      { \n        error: '\uC11C\uBC84 \uB0B4\uBD80 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4. \uC7A0\uC2DC \uD6C4 \uB2E4\uC2DC \uC2DC\uB3C4\uD574\uC8FC\uC138\uC694.',\n        timestamp: new Date().toISOString()\n      },\n      { status: 500 }\n    );\n    \n    return setSecurityHeaders(response);\n  }\n}\n\n/**\n * WeChat \uD1A0\uD070 \uAC31\uC2E0 API\n */\nexport async function PUT(request: NextRequest) {\n  const startTime = Date.now();\n  \n  try {\n    // \uD074\uB77C\uC774\uC5B8\uD2B8 IP \uC8FC\uC18C \uAC00\uC838\uC624\uAE30 (\uB808\uC774\uD2B8 \uB9AC\uBBF8\uD305\uC6A9)\n    const clientIp = request.headers.get('x-forwarded-for') || \n                     request.headers.get('x-real-ip') || \n                     'unknown';\n    \n    console.log('\uD83D\uDD0D WeChat \uD1A0\uD070 \uAC31\uC2E0 \uC694\uCCAD \uC2DC\uC791:', {\n      ip: clientIp,\n      timestamp: new Date().toISOString()\n    });\n    \n    // \uB808\uC774\uD2B8 \uB9AC\uBBF8\uD305 \uAC80\uC0AC\n    const rateLimitResult = checkRateLimit(clientIp);\n    if (!rateLimitResult.allowed) {\n      console.warn('\u26A0\uFE0F \uD1A0\uD070 \uAC31\uC2E0 \uB808\uC774\uD2B8 \uB9AC\uBBF8\uD2B8 \uCD08\uACFC:', { ip: clientIp });\n      \n      const response = NextResponse.json(\n        { \n          error: '\uC694\uCCAD\uC774 \uB108\uBB34 \uC790\uC8FC \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4. \uC7A0\uC2DC \uD6C4 \uB2E4\uC2DC \uC2DC\uB3C4\uD574\uC8FC\uC138\uC694.',\n          retryAfter: Math.ceil((rateLimitResult.resetTime - Date.now()) / 1000)\n        },\n        { status: 429 }\n      );\n      \n      response.headers.set('Retry-After', Math.ceil((rateLimitResult.resetTime - Date.now()) / 1000).toString());\n      return setSecurityHeaders(response);\n    }\n    \n    // \uC694\uCCAD \uBCF8\uBB38 \uD30C\uC2F1\n    let requestBody;\n    try {\n      requestBody = await request.json();\n    } catch (parseError) {\n      console.error('\u274C \uD1A0\uD070 \uAC31\uC2E0 \uC694\uCCAD \uBCF8\uBB38 \uD30C\uC2F1 \uC624\uB958:', parseError);\n      const response = NextResponse.json(\n        { error: '\uC798\uBABB\uB41C JSON \uD615\uC2DD\uC785\uB2C8\uB2E4.' },\n        { status: 400 }\n      );\n      return setSecurityHeaders(response);\n    }\n    \n    const { refresh_token } = requestBody;\n    \n    // \uC785\uB825 \uAC80\uC99D\n    if (!refresh_token || typeof refresh_token !== 'string') {\n      const response = NextResponse.json(\n        { error: '\uB9AC\uD504\uB808\uC2DC \uD1A0\uD070\uC774 \uD544\uC694\uD569\uB2C8\uB2E4.' },\n        { status: 400 }\n      );\n      return setSecurityHeaders(response);\n    }\n    \n    if (refresh_token.length < 10 || refresh_token.length > 512) {\n      const response = NextResponse.json(\n        { error: '\uC720\uD6A8\uD558\uC9C0 \uC54A\uC740 \uB9AC\uD504\uB808\uC2DC \uD1A0\uD070 \uD615\uC2DD\uC785\uB2C8\uB2E4.' },\n        { status: 400 }\n      );\n      return setSecurityHeaders(response);\n    }\n    \n    // WeChat API \uC124\uC815\n    const appId = process.env.NEXT_PUBLIC_WECHAT_APP_ID;\n    \n    if (!appId) {\n      console.error('\u274C WeChat \uC571 ID \uD658\uACBD \uBCC0\uC218 \uB204\uB77D');\n      const response = NextResponse.json(\n        { error: 'WeChat \uC11C\uBE44\uC2A4\uAC00 \uC62C\uBC14\uB974\uAC8C \uC124\uC815\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.' },\n        { status: 500 }\n      );\n      return setSecurityHeaders(response);\n    }\n    \n    console.log('\uD83D\uDD0D WeChat \uD1A0\uD070 \uAC31\uC2E0 API \uD638\uCD9C');\n    \n    // \uD1A0\uD070 \uAC31\uC2E0 \uC694\uCCAD\n    const refreshUrl = `https://api.weixin.qq.com/sns/oauth2/refresh_token?appid=${encodeURIComponent(appId)}&grant_type=refresh_token&refresh_token=${encodeURIComponent(refresh_token)}`;\n    \n    let refreshResponse;\n    try {\n      refreshResponse = await fetch(refreshUrl, {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json',\n          'User-Agent': 'WeChat-OAuth-Server/1.0'\n        },\n        // \uD0C0\uC784\uC544\uC6C3 \uC124\uC815 (10\uCD08)\n        signal: AbortSignal.timeout(10000)\n      });\n    } catch (fetchError) {\n      console.error('\u274C WeChat \uD1A0\uD070 \uAC31\uC2E0 \uB124\uD2B8\uC6CC\uD06C \uC624\uB958:', fetchError);\n      const response = NextResponse.json(\n        { error: 'WeChat \uC11C\uBC84\uC5D0 \uC5F0\uACB0\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uC7A0\uC2DC \uD6C4 \uB2E4\uC2DC \uC2DC\uB3C4\uD574\uC8FC\uC138\uC694.' },\n        { status: 503 }\n      );\n      return setSecurityHeaders(response);\n    }\n    \n    if (!refreshResponse.ok) {\n      console.error('\u274C WeChat \uD1A0\uD070 \uAC31\uC2E0 HTTP \uC624\uB958:', {\n        status: refreshResponse.status,\n        statusText: refreshResponse.statusText\n      });\n      \n      const response = NextResponse.json(\n        { \n          error: 'WeChat \uD1A0\uD070 \uAC31\uC2E0 \uC694\uCCAD\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.',\n          details: `HTTP ${refreshResponse.status}: ${refreshResponse.statusText}`\n        },\n        { status: 502 }\n      );\n      return setSecurityHeaders(response);\n    }\n    \n    let refreshData;\n    try {\n      refreshData = await refreshResponse.json();\n    } catch (parseError) {\n      console.error('\u274C WeChat \uD1A0\uD070 \uAC31\uC2E0 \uC751\uB2F5 \uD30C\uC2F1 \uC624\uB958:', parseError);\n      const response = NextResponse.json(\n        { error: 'WeChat \uC11C\uBC84 \uC751\uB2F5\uC744 \uCC98\uB9AC\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.' },\n        { status: 502 }\n      );\n      return setSecurityHeaders(response);\n    }\n    \n    // WeChat API \uC624\uB958 \uCC98\uB9AC\n    if (refreshData.errcode) {\n      const errorMessage = handleWeChatApiError(refreshData.errcode, refreshData.errmsg);\n      console.error('\u274C WeChat \uD1A0\uD070 \uAC31\uC2E0 API \uC624\uB958:', {\n        errcode: refreshData.errcode,\n        errmsg: refreshData.errmsg,\n        friendlyMessage: errorMessage\n      });\n      \n      const response = NextResponse.json(\n        { \n          error: errorMessage,\n          code: refreshData.errcode\n        },\n        { status: 400 }\n      );\n      return setSecurityHeaders(response);\n    }\n    \n    const processingTime = Date.now() - startTime;\n    console.log('\u2705 WeChat \uD1A0\uD070 \uAC31\uC2E0 \uC644\uB8CC:', {\n      processingTime: `${processingTime}ms`,\n      hasNewToken: !!refreshData.access_token\n    });\n    \n    const response = NextResponse.json({\n      success: true,\n      tokens: {\n        access_token: refreshData.access_token,\n        refresh_token: refreshData.refresh_token,\n        expires_in: refreshData.expires_in,\n        openid: refreshData.openid\n      },\n      metadata: {\n        processingTime,\n        timestamp: new Date().toISOString()\n      }\n    });\n    \n    return setSecurityHeaders(response);\n    \n  } catch (error) {\n    const processingTime = Date.now() - startTime;\n    console.error('\u274C WeChat \uD1A0\uD070 \uAC31\uC2E0 \uC911 \uC608\uC0C1\uCE58 \uBABB\uD55C \uC624\uB958:', {\n      error: error instanceof Error ? error.message : String(error),\n      stack: error instanceof Error ? error.stack : undefined,\n      processingTime: `${processingTime}ms`\n    });\n    \n    const response = NextResponse.json(\n      { \n        error: '\uC11C\uBC84 \uB0B4\uBD80 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4. \uC7A0\uC2DC \uD6C4 \uB2E4\uC2DC \uC2DC\uB3C4\uD574\uC8FC\uC138\uC694.',\n        timestamp: new Date().toISOString()\n      },\n      { status: 500 }\n    );\n    \n    return setSecurityHeaders(response);\n  }\n}\n\n/**\n * OPTIONS \uC694\uCCAD \uCC98\uB9AC (CORS preflight)\n */\nexport async function OPTIONS(request: NextRequest) {\n  const response = new NextResponse(null, { status: 200 });\n  return setSecurityHeaders(response);\n}\n\n/**\n * JWT \uD1A0\uD070 \uC0DD\uC131 \uD568\uC218\n * jsonwebtoken \uB77C\uC774\uBE0C\uB7EC\uB9AC\uB97C \uC0AC\uC6A9\uD558\uC5EC \uC548\uC804\uD55C \uD1A0\uD070 \uC0DD\uC131\n */\nasync function generateJwtToken(payload: any): Promise<string> {\n  // JWT \uC2DC\uD06C\uB9BF \uD0A4 (\uD658\uACBD \uBCC0\uC218\uC5D0\uC11C \uAC00\uC838\uC624\uAC70\uB098 \uAE30\uBCF8\uAC12 \uC0AC\uC6A9)\n  const jwtSecret = process.env.JWT_SECRET || \n                   process.env.SUPABASE_JWT_SECRET || \n                   process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || \n                   'fallback-secret-key';\n  \n  if (jwtSecret === 'fallback-secret-key') {\n    console.warn('\u26A0\uFE0F JWT \uC2DC\uD06C\uB9BF \uD0A4\uAC00 \uC124\uC815\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uAE30\uBCF8\uAC12\uC744 \uC0AC\uC6A9\uD569\uB2C8\uB2E4.');\n  }\n  \n  const now = Math.floor(Date.now() / 1000);\n  const expiresIn = 3600; // 1\uC2DC\uAC04\n  \n  const tokenPayload = {\n    ...payload,\n    iat: now,\n    exp: now + expiresIn,\n    iss: 'picnic-web-wechat',\n    aud: 'picnic-web',\n    jti: `wechat_${Date.now()}_${Math.random().toString(36).substring(2)}`\n  };\n  \n  try {\n    return jwt.sign(tokenPayload, jwtSecret, {\n      algorithm: 'HS256'\n    });\n  } catch (jwtError) {\n    console.error('\u274C JWT \uD1A0\uD070 \uC0DD\uC131 \uC2E4\uD328:', jwtError);\n    throw new Error('JWT \uD1A0\uD070 \uC0DD\uC131\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.');\n  }\n} "],
      names: ["OPTIONS", "POST", "PUT", "requestCounts", "Map", "RATE_LIMIT_WINDOW", "RATE_LIMIT_MAX_REQUESTS", "checkRateLimit", "clientId", "now", "Date", "clientData", "get", "resetTime", "set", "count", "allowed", "remaining", "validateInput", "code", "state", "valid", "error", "length", "test", "handleWeChatApiError", "errcode", "errmsg", "errorCode", "toString", "errorMessages", "setSecurityHeaders", "response", "headers", "process", "env", "NEXT_PUBLIC_SITE_URL", "request", "startTime", "clientIp", "console", "log", "ip", "userAgent", "timestamp", "toISOString", "rateLimitResult", "warn", "NextResponse", "json", "retryAfter", "Math", "ceil", "status", "requestBody", "parseError", "validation", "appId", "NEXT_PUBLIC_WECHAT_APP_ID", "appSecret", "WECHAT_APP_SECRET", "supabase", "createClient", "NEXT_PUBLIC_SUPABASE_URL", "SUPABASE_SERVICE_ROLE_KEY", "auth", "autoRefreshToken", "persistSession", "supabaseError", "tokenUrl", "encodeURIComponent", "tokenResponse", "fetch", "method", "signal", "AbortSignal", "timeout", "fetchError", "ok", "statusText", "details", "tokenData", "errorMessage", "friendlyMessage", "accessToken", "access_token", "openId", "openid", "refreshToken", "refresh_token", "expiresIn", "expires_in", "hasAccessToken", "hasOpenId", "userInfoUrl", "userInfoResponse", "userInfo", "normalizedProfile", "normalizeWeChatProfile", "profileError", "idToken", "generateJwtToken", "sub", "id", "name", "picture", "avatar", "provider", "wechat_openid", "jwtError", "data", "existingUsers", "from", "select", "eq", "userId", "update", "display_name", "avatar_url", "updated_at", "processingTime", "substring", "success", "tokens", "id_token", "profile", "metadata", "Error", "message", "String", "stack", "undefined", "refreshUrl", "refreshResponse", "refreshData", "hasNewToken", "payload", "jwtSecret", "JWT_SECRET", "SUPABASE_JWT_SECRET", "NEXT_PUBLIC_SUPABASE_ANON_KEY", "floor", "tokenPayload", "iat", "exp", "iss", "aud", "jti", "random", "jwt", "sign", "algorithm"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "dd6f41d87850b9aad37b0e1a1d983d4e6445d1da"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1s23pk6n3v = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1s23pk6n3v();
cov_1s23pk6n3v().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_1s23pk6n3v().f[0]++;
  cov_1s23pk6n3v().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: all[name]
    });
  }
}
/* istanbul ignore next */
cov_1s23pk6n3v().s[3]++;
_export(exports, {
  OPTIONS: function () {
    /* istanbul ignore next */
    cov_1s23pk6n3v().f[1]++;
    cov_1s23pk6n3v().s[4]++;
    return OPTIONS;
  },
  POST: function () {
    /* istanbul ignore next */
    cov_1s23pk6n3v().f[2]++;
    cov_1s23pk6n3v().s[5]++;
    return POST;
  },
  PUT: function () {
    /* istanbul ignore next */
    cov_1s23pk6n3v().f[3]++;
    cov_1s23pk6n3v().s[6]++;
    return PUT;
  }
});
const _server =
/* istanbul ignore next */
(cov_1s23pk6n3v().s[7]++, require("next/server"));
const _supabasejs =
/* istanbul ignore next */
(cov_1s23pk6n3v().s[8]++, require("@supabase/supabase-js"));
const _wechat =
/* istanbul ignore next */
(cov_1s23pk6n3v().s[9]++, require("../../../../lib/supabase/social/wechat"));
const _jsonwebtoken =
/* istanbul ignore next */
(/*#__PURE__*/cov_1s23pk6n3v().s[10]++, _interop_require_default(require("jsonwebtoken")));
function _interop_require_default(obj) {
  /* istanbul ignore next */
  cov_1s23pk6n3v().f[4]++;
  cov_1s23pk6n3v().s[11]++;
  return /* istanbul ignore next */(cov_1s23pk6n3v().b[1][0]++, obj) &&
  /* istanbul ignore next */
  (cov_1s23pk6n3v().b[1][1]++, obj.__esModule) ?
  /* istanbul ignore next */
  (cov_1s23pk6n3v().b[0][0]++, obj) :
  /* istanbul ignore next */
  (cov_1s23pk6n3v().b[0][1]++, {
    default: obj
  });
}
// 레이트 리미팅을 위한 간단한 메모리 저장소
const requestCounts =
/* istanbul ignore next */
(cov_1s23pk6n3v().s[12]++, new Map());
const RATE_LIMIT_WINDOW =
/* istanbul ignore next */
(cov_1s23pk6n3v().s[13]++, 15 * 60 * 1000); // 15분
const RATE_LIMIT_MAX_REQUESTS =
/* istanbul ignore next */
(cov_1s23pk6n3v().s[14]++, 10); // 15분당 최대 10회 요청
/**
 * 레이트 리미팅 검사
 * 
 * @param clientId 클라이언트 식별자 (IP 주소 등)
 * @returns 요청 허용 여부
 */
function checkRateLimit(clientId) {
  /* istanbul ignore next */
  cov_1s23pk6n3v().f[5]++;
  const now =
  /* istanbul ignore next */
  (cov_1s23pk6n3v().s[15]++, Date.now());
  const clientData =
  /* istanbul ignore next */
  (cov_1s23pk6n3v().s[16]++, requestCounts.get(clientId));
  // 기존 데이터가 없거나 윈도우가 만료된 경우
  /* istanbul ignore next */
  cov_1s23pk6n3v().s[17]++;
  if (
  /* istanbul ignore next */
  (cov_1s23pk6n3v().b[3][0]++, !clientData) ||
  /* istanbul ignore next */
  (cov_1s23pk6n3v().b[3][1]++, now > clientData.resetTime)) {
    /* istanbul ignore next */
    cov_1s23pk6n3v().b[2][0]++;
    const resetTime =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[18]++, now + RATE_LIMIT_WINDOW);
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[19]++;
    requestCounts.set(clientId, {
      count: 1,
      resetTime
    });
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[20]++;
    return {
      allowed: true,
      remaining: RATE_LIMIT_MAX_REQUESTS - 1,
      resetTime
    };
  } else
  /* istanbul ignore next */
  {
    cov_1s23pk6n3v().b[2][1]++;
  }
  // 요청 횟수 증가
  cov_1s23pk6n3v().s[21]++;
  clientData.count++;
  /* istanbul ignore next */
  cov_1s23pk6n3v().s[22]++;
  if (clientData.count > RATE_LIMIT_MAX_REQUESTS) {
    /* istanbul ignore next */
    cov_1s23pk6n3v().b[4][0]++;
    cov_1s23pk6n3v().s[23]++;
    return {
      allowed: false,
      remaining: 0,
      resetTime: clientData.resetTime
    };
  } else
  /* istanbul ignore next */
  {
    cov_1s23pk6n3v().b[4][1]++;
  }
  cov_1s23pk6n3v().s[24]++;
  return {
    allowed: true,
    remaining: RATE_LIMIT_MAX_REQUESTS - clientData.count,
    resetTime: clientData.resetTime
  };
}
/**
 * 입력 검증 함수
 * 
 * @param code OAuth 코드
 * @param state 상태 토큰
 * @returns 검증 결과
 */
function validateInput(code, state) {
  /* istanbul ignore next */
  cov_1s23pk6n3v().f[6]++;
  cov_1s23pk6n3v().s[25]++;
  // 코드 검증
  if (
  /* istanbul ignore next */
  (cov_1s23pk6n3v().b[6][0]++, !code) ||
  /* istanbul ignore next */
  (cov_1s23pk6n3v().b[6][1]++, typeof code !== 'string')) {
    /* istanbul ignore next */
    cov_1s23pk6n3v().b[5][0]++;
    cov_1s23pk6n3v().s[26]++;
    return {
      valid: false,
      error: 'OAuth 코드가 필요합니다.'
    };
  } else
  /* istanbul ignore next */
  {
    cov_1s23pk6n3v().b[5][1]++;
  }
  cov_1s23pk6n3v().s[27]++;
  if (
  /* istanbul ignore next */
  (cov_1s23pk6n3v().b[8][0]++, code.length < 10) ||
  /* istanbul ignore next */
  (cov_1s23pk6n3v().b[8][1]++, code.length > 512)) {
    /* istanbul ignore next */
    cov_1s23pk6n3v().b[7][0]++;
    cov_1s23pk6n3v().s[28]++;
    return {
      valid: false,
      error: '유효하지 않은 OAuth 코드 형식입니다.'
    };
  } else
  /* istanbul ignore next */
  {
    cov_1s23pk6n3v().b[7][1]++;
  }
  // 코드에 허용되지 않는 문자가 있는지 확인
  cov_1s23pk6n3v().s[29]++;
  if (!/^[a-zA-Z0-9_-]+$/.test(code)) {
    /* istanbul ignore next */
    cov_1s23pk6n3v().b[9][0]++;
    cov_1s23pk6n3v().s[30]++;
    return {
      valid: false,
      error: 'OAuth 코드에 유효하지 않은 문자가 포함되어 있습니다.'
    };
  } else
  /* istanbul ignore next */
  {
    cov_1s23pk6n3v().b[9][1]++;
  }
  // 상태 토큰 검증 (선택사항)
  cov_1s23pk6n3v().s[31]++;
  if (
  /* istanbul ignore next */
  (cov_1s23pk6n3v().b[11][0]++, state) &&
  /* istanbul ignore next */
  (cov_1s23pk6n3v().b[11][1]++, typeof state === 'string')) {
    /* istanbul ignore next */
    cov_1s23pk6n3v().b[10][0]++;
    cov_1s23pk6n3v().s[32]++;
    if (state.length > 256) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().b[12][0]++;
      cov_1s23pk6n3v().s[33]++;
      return {
        valid: false,
        error: '상태 토큰이 너무 깁니다.'
      };
    } else
    /* istanbul ignore next */
    {
      cov_1s23pk6n3v().b[12][1]++;
    }
    cov_1s23pk6n3v().s[34]++;
    if (!/^[a-zA-Z0-9_-]+$/.test(state)) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().b[13][0]++;
      cov_1s23pk6n3v().s[35]++;
      return {
        valid: false,
        error: '상태 토큰에 유효하지 않은 문자가 포함되어 있습니다.'
      };
    } else
    /* istanbul ignore next */
    {
      cov_1s23pk6n3v().b[13][1]++;
    }
  } else
  /* istanbul ignore next */
  {
    cov_1s23pk6n3v().b[10][1]++;
  }
  cov_1s23pk6n3v().s[36]++;
  return {
    valid: true
  };
}
/**
 * WeChat API 오류 코드 처리
 * 
 * @param errcode WeChat API 오류 코드
 * @param errmsg WeChat API 오류 메시지
 * @returns 사용자 친화적인 오류 메시지
 */
function handleWeChatApiError(errcode, errmsg) {
  /* istanbul ignore next */
  cov_1s23pk6n3v().f[7]++;
  const errorCode =
  /* istanbul ignore next */
  (cov_1s23pk6n3v().s[37]++, errcode.toString());
  const errorMessages =
  /* istanbul ignore next */
  (cov_1s23pk6n3v().s[38]++, {
    // 토큰 관련 오류
    '40001': '액세스 토큰이 유효하지 않습니다.',
    '40002': '잘못된 자격 증명 타입입니다.',
    '40003': 'OpenID가 유효하지 않습니다.',
    '40013': '잘못된 앱 ID입니다.',
    '40125': '잘못된 앱 시크릿입니다.',
    // 코드 관련 오류
    '40029': '잘못된 OAuth 코드입니다.',
    '40163': '코드가 이미 사용되었습니다.',
    // 토큰 만료 오류
    '42001': '액세스 토큰이 만료되었습니다.',
    '42002': '리프레시 토큰이 만료되었습니다.',
    '42003': '액세스 토큰이 갱신되어야 합니다.',
    // 권한 관련 오류
    '48001': '앱이 승인되지 않았습니다.',
    '48002': '앱이 차단되었습니다.',
    '48003': '앱이 삭제되었습니다.',
    '48004': '앱이 일시 중단되었습니다.',
    // 사용자 관련 오류
    '50001': '사용자가 인증을 취소했습니다.',
    '50002': '사용자가 앱 사용을 거부했습니다.',
    // 시스템 오류
    '-1': 'WeChat 시스템 오류가 발생했습니다.',
    '40164': '요청이 너무 자주 발생했습니다. 잠시 후 다시 시도해주세요.',
    '89503': 'WeChat 서비스가 일시적으로 사용할 수 없습니다.'
  });
  /* istanbul ignore next */
  cov_1s23pk6n3v().s[39]++;
  return /* istanbul ignore next */(cov_1s23pk6n3v().b[14][0]++, errorMessages[errorCode]) ||
  /* istanbul ignore next */
  (cov_1s23pk6n3v().b[14][1]++, `WeChat API 오류: ${errmsg} (코드: ${errcode})`);
}
/**
 * 보안 헤더 설정
 * 
 * @param response NextResponse 객체
 * @returns 보안 헤더가 설정된 응답
 */
function setSecurityHeaders(response) {
  /* istanbul ignore next */
  cov_1s23pk6n3v().f[8]++;
  cov_1s23pk6n3v().s[40]++;
  // CORS 헤더
  response.headers.set('Access-Control-Allow-Origin',
  /* istanbul ignore next */
  (cov_1s23pk6n3v().b[15][0]++, process.env.NEXT_PUBLIC_SITE_URL) ||
  /* istanbul ignore next */
  (cov_1s23pk6n3v().b[15][1]++, '*'));
  /* istanbul ignore next */
  cov_1s23pk6n3v().s[41]++;
  response.headers.set('Access-Control-Allow-Methods', 'POST, PUT, OPTIONS');
  /* istanbul ignore next */
  cov_1s23pk6n3v().s[42]++;
  response.headers.set('Access-Control-Allow-Headers', 'Content-Type, Authorization');
  // 보안 헤더
  /* istanbul ignore next */
  cov_1s23pk6n3v().s[43]++;
  response.headers.set('X-Content-Type-Options', 'nosniff');
  /* istanbul ignore next */
  cov_1s23pk6n3v().s[44]++;
  response.headers.set('X-Frame-Options', 'DENY');
  /* istanbul ignore next */
  cov_1s23pk6n3v().s[45]++;
  response.headers.set('X-XSS-Protection', '1; mode=block');
  /* istanbul ignore next */
  cov_1s23pk6n3v().s[46]++;
  response.headers.set('Referrer-Policy', 'strict-origin-when-cross-origin');
  // 캐시 방지 (민감한 데이터)
  /* istanbul ignore next */
  cov_1s23pk6n3v().s[47]++;
  response.headers.set('Cache-Control', 'no-store, no-cache, must-revalidate, proxy-revalidate');
  /* istanbul ignore next */
  cov_1s23pk6n3v().s[48]++;
  response.headers.set('Pragma', 'no-cache');
  /* istanbul ignore next */
  cov_1s23pk6n3v().s[49]++;
  response.headers.set('Expires', '0');
  /* istanbul ignore next */
  cov_1s23pk6n3v().s[50]++;
  return response;
}
async function POST(request) {
  /* istanbul ignore next */
  cov_1s23pk6n3v().f[9]++;
  const startTime =
  /* istanbul ignore next */
  (cov_1s23pk6n3v().s[51]++, Date.now());
  /* istanbul ignore next */
  cov_1s23pk6n3v().s[52]++;
  try {
    // 클라이언트 IP 주소 가져오기 (레이트 리미팅용)
    const clientIp =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[53]++,
    /* istanbul ignore next */
    (cov_1s23pk6n3v().b[16][0]++, request.headers.get('x-forwarded-for')) ||
    /* istanbul ignore next */
    (cov_1s23pk6n3v().b[16][1]++, request.headers.get('x-real-ip')) ||
    /* istanbul ignore next */
    (cov_1s23pk6n3v().b[16][2]++, 'unknown'));
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[54]++;
    console.log('🔍 WeChat API 요청 시작:', {
      ip: clientIp,
      userAgent: request.headers.get('user-agent'),
      timestamp: new Date().toISOString()
    });
    // 레이트 리미팅 검사
    const rateLimitResult =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[55]++, checkRateLimit(clientIp));
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[56]++;
    if (!rateLimitResult.allowed) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().b[17][0]++;
      cov_1s23pk6n3v().s[57]++;
      console.warn('⚠️ 레이트 리미트 초과:', {
        ip: clientIp,
        resetTime: new Date(rateLimitResult.resetTime).toISOString()
      });
      const response =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[58]++, _server.NextResponse.json({
        error: '요청이 너무 자주 발생했습니다. 잠시 후 다시 시도해주세요.',
        retryAfter: Math.ceil((rateLimitResult.resetTime - Date.now()) / 1000)
      }, {
        status: 429
      }));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[59]++;
      response.headers.set('Retry-After', Math.ceil((rateLimitResult.resetTime - Date.now()) / 1000).toString());
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[60]++;
      response.headers.set('X-RateLimit-Limit', RATE_LIMIT_MAX_REQUESTS.toString());
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[61]++;
      response.headers.set('X-RateLimit-Remaining', '0');
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[62]++;
      response.headers.set('X-RateLimit-Reset', rateLimitResult.resetTime.toString());
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[63]++;
      return setSecurityHeaders(response);
    } else
    /* istanbul ignore next */
    {
      cov_1s23pk6n3v().b[17][1]++;
    }
    // 요청 본문 파싱
    let requestBody;
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[64]++;
    try {
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[65]++;
      requestBody = await request.json();
    } catch (parseError) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[66]++;
      console.error('❌ 요청 본문 파싱 오류:', parseError);
      const response =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[67]++, _server.NextResponse.json({
        error: '잘못된 JSON 형식입니다.'
      }, {
        status: 400
      }));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[68]++;
      return setSecurityHeaders(response);
    }
    const {
      code,
      state
    } =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[69]++, requestBody);
    // 입력 검증
    const validation =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[70]++, validateInput(code, state));
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[71]++;
    if (!validation.valid) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().b[18][0]++;
      cov_1s23pk6n3v().s[72]++;
      console.warn('⚠️ 입력 검증 실패:', validation.error);
      const response =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[73]++, _server.NextResponse.json({
        error: validation.error
      }, {
        status: 400
      }));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[74]++;
      return setSecurityHeaders(response);
    } else
    /* istanbul ignore next */
    {
      cov_1s23pk6n3v().b[18][1]++;
    }
    // 환경 변수 검증
    const appId =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[75]++, process.env.NEXT_PUBLIC_WECHAT_APP_ID);
    const appSecret =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[76]++, process.env.WECHAT_APP_SECRET);
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[77]++;
    if (
    /* istanbul ignore next */
    (cov_1s23pk6n3v().b[20][0]++, !appId) ||
    /* istanbul ignore next */
    (cov_1s23pk6n3v().b[20][1]++, !appSecret)) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().b[19][0]++;
      cov_1s23pk6n3v().s[78]++;
      console.error('❌ WeChat 환경 변수 누락');
      const response =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[79]++, _server.NextResponse.json({
        error: 'WeChat 서비스가 올바르게 설정되지 않았습니다.'
      }, {
        status: 500
      }));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[80]++;
      return setSecurityHeaders(response);
    } else
    /* istanbul ignore next */
    {
      cov_1s23pk6n3v().b[19][1]++;
    }
    // Supabase 클라이언트 생성
    let supabase;
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[81]++;
    try {
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[82]++;
      supabase = (0, _supabasejs.createClient)(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY, {
        auth: {
          autoRefreshToken: false,
          persistSession: false
        }
      });
    } catch (supabaseError) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[83]++;
      console.error('❌ Supabase 클라이언트 생성 실패:', supabaseError);
      const response =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[84]++, _server.NextResponse.json({
        error: '데이터베이스 연결에 실패했습니다.'
      }, {
        status: 500
      }));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[85]++;
      return setSecurityHeaders(response);
    }
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[86]++;
    console.log('🔍 WeChat 액세스 토큰 요청 시작');
    // 1. 코드로 액세스 토큰 획득
    const tokenUrl =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[87]++, `https://api.weixin.qq.com/sns/oauth2/access_token?appid=${encodeURIComponent(appId)}&secret=${encodeURIComponent(appSecret)}&code=${encodeURIComponent(code)}&grant_type=authorization_code`);
    let tokenResponse;
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[88]++;
    try {
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[89]++;
      tokenResponse = await fetch(tokenUrl, {
        method: 'GET',
        headers: {
          'Accept': 'application/json',
          'User-Agent': 'WeChat-OAuth-Server/1.0'
        },
        // 타임아웃 설정 (10초)
        signal: AbortSignal.timeout(10000)
      });
    } catch (fetchError) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[90]++;
      console.error('❌ WeChat 토큰 요청 네트워크 오류:', fetchError);
      const response =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[91]++, _server.NextResponse.json({
        error: 'WeChat 서버에 연결할 수 없습니다. 잠시 후 다시 시도해주세요.'
      }, {
        status: 503
      }));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[92]++;
      return setSecurityHeaders(response);
    }
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[93]++;
    if (!tokenResponse.ok) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().b[21][0]++;
      cov_1s23pk6n3v().s[94]++;
      console.error('❌ WeChat 토큰 요청 HTTP 오류:', {
        status: tokenResponse.status,
        statusText: tokenResponse.statusText
      });
      const response =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[95]++, _server.NextResponse.json({
        error: 'WeChat 토큰 요청에 실패했습니다.',
        details: `HTTP ${tokenResponse.status}: ${tokenResponse.statusText}`
      }, {
        status: 502
      }));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[96]++;
      return setSecurityHeaders(response);
    } else
    /* istanbul ignore next */
    {
      cov_1s23pk6n3v().b[21][1]++;
    }
    let tokenData;
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[97]++;
    try {
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[98]++;
      tokenData = await tokenResponse.json();
    } catch (parseError) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[99]++;
      console.error('❌ WeChat 토큰 응답 파싱 오류:', parseError);
      const response =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[100]++, _server.NextResponse.json({
        error: 'WeChat 서버 응답을 처리할 수 없습니다.'
      }, {
        status: 502
      }));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[101]++;
      return setSecurityHeaders(response);
    }
    // WeChat API 오류 처리
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[102]++;
    if (tokenData.errcode) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().b[22][0]++;
      const errorMessage =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[103]++, handleWeChatApiError(tokenData.errcode, tokenData.errmsg));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[104]++;
      console.error('❌ WeChat 토큰 API 오류:', {
        errcode: tokenData.errcode,
        errmsg: tokenData.errmsg,
        friendlyMessage: errorMessage
      });
      const response =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[105]++, _server.NextResponse.json({
        error: errorMessage,
        code: tokenData.errcode
      }, {
        status: 400
      }));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[106]++;
      return setSecurityHeaders(response);
    } else
    /* istanbul ignore next */
    {
      cov_1s23pk6n3v().b[22][1]++;
    }
    const accessToken =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[107]++, tokenData.access_token);
    const openId =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[108]++, tokenData.openid);
    const refreshToken =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[109]++, tokenData.refresh_token);
    const expiresIn =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[110]++, tokenData.expires_in);
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[111]++;
    if (
    /* istanbul ignore next */
    (cov_1s23pk6n3v().b[24][0]++, !accessToken) ||
    /* istanbul ignore next */
    (cov_1s23pk6n3v().b[24][1]++, !openId)) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().b[23][0]++;
      cov_1s23pk6n3v().s[112]++;
      console.error('❌ WeChat 토큰 응답에 필수 필드 누락:', {
        hasAccessToken: !!accessToken,
        hasOpenId: !!openId
      });
      const response =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[113]++, _server.NextResponse.json({
        error: 'WeChat에서 유효하지 않은 토큰 응답을 받았습니다.'
      }, {
        status: 502
      }));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[114]++;
      return setSecurityHeaders(response);
    } else
    /* istanbul ignore next */
    {
      cov_1s23pk6n3v().b[23][1]++;
    }
    cov_1s23pk6n3v().s[115]++;
    console.log('✅ WeChat 액세스 토큰 획득 완료');
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[116]++;
    console.log('🔍 WeChat 사용자 정보 요청 시작');
    // 2. 액세스 토큰으로 사용자 정보 가져오기
    const userInfoUrl =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[117]++, `https://api.weixin.qq.com/sns/userinfo?access_token=${encodeURIComponent(accessToken)}&openid=${encodeURIComponent(openId)}&lang=zh_CN`);
    let userInfoResponse;
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[118]++;
    try {
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[119]++;
      userInfoResponse = await fetch(userInfoUrl, {
        method: 'GET',
        headers: {
          'Accept': 'application/json',
          'User-Agent': 'WeChat-OAuth-Server/1.0'
        },
        // 타임아웃 설정 (10초)
        signal: AbortSignal.timeout(10000)
      });
    } catch (fetchError) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[120]++;
      console.error('❌ WeChat 사용자 정보 요청 네트워크 오류:', fetchError);
      const response =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[121]++, _server.NextResponse.json({
        error: 'WeChat 사용자 정보를 가져올 수 없습니다. 잠시 후 다시 시도해주세요.'
      }, {
        status: 503
      }));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[122]++;
      return setSecurityHeaders(response);
    }
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[123]++;
    if (!userInfoResponse.ok) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().b[25][0]++;
      cov_1s23pk6n3v().s[124]++;
      console.error('❌ WeChat 사용자 정보 요청 HTTP 오류:', {
        status: userInfoResponse.status,
        statusText: userInfoResponse.statusText
      });
      const response =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[125]++, _server.NextResponse.json({
        error: 'WeChat 사용자 정보 요청에 실패했습니다.',
        details: `HTTP ${userInfoResponse.status}: ${userInfoResponse.statusText}`
      }, {
        status: 502
      }));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[126]++;
      return setSecurityHeaders(response);
    } else
    /* istanbul ignore next */
    {
      cov_1s23pk6n3v().b[25][1]++;
    }
    let userInfo;
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[127]++;
    try {
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[128]++;
      userInfo = await userInfoResponse.json();
    } catch (parseError) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[129]++;
      console.error('❌ WeChat 사용자 정보 응답 파싱 오류:', parseError);
      const response =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[130]++, _server.NextResponse.json({
        error: 'WeChat 사용자 정보 응답을 처리할 수 없습니다.'
      }, {
        status: 502
      }));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[131]++;
      return setSecurityHeaders(response);
    }
    // WeChat API 오류 처리
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[132]++;
    if (userInfo.errcode) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().b[26][0]++;
      const errorMessage =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[133]++, handleWeChatApiError(userInfo.errcode, userInfo.errmsg));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[134]++;
      console.error('❌ WeChat 사용자 정보 API 오류:', {
        errcode: userInfo.errcode,
        errmsg: userInfo.errmsg,
        friendlyMessage: errorMessage
      });
      const response =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[135]++, _server.NextResponse.json({
        error: errorMessage,
        code: userInfo.errcode
      }, {
        status: 400
      }));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[136]++;
      return setSecurityHeaders(response);
    } else
    /* istanbul ignore next */
    {
      cov_1s23pk6n3v().b[26][1]++;
    }
    cov_1s23pk6n3v().s[137]++;
    console.log('✅ WeChat 사용자 정보 획득 완료');
    // 프로필 정보 정규화
    let normalizedProfile;
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[138]++;
    try {
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[139]++;
      normalizedProfile = (0, _wechat.normalizeWeChatProfile)(userInfo);
    } catch (profileError) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[140]++;
      console.error('❌ WeChat 프로필 정규화 오류:', profileError);
      const response =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[141]++, _server.NextResponse.json({
        error: 'WeChat 사용자 정보를 처리하는 중 오류가 발생했습니다.'
      }, {
        status: 500
      }));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[142]++;
      return setSecurityHeaders(response);
    }
    // 3. JWT 토큰 생성 (Supabase 인증용)
    let idToken;
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[143]++;
    try {
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[144]++;
      idToken = await generateJwtToken({
        sub: normalizedProfile.id,
        name: normalizedProfile.name,
        picture: normalizedProfile.avatar,
        provider: 'wechat',
        wechat_openid: normalizedProfile.id
      });
    } catch (jwtError) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[145]++;
      console.error('❌ JWT 토큰 생성 오류:', jwtError);
      const response =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[146]++, _server.NextResponse.json({
        error: '인증 토큰 생성에 실패했습니다.'
      }, {
        status: 500
      }));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[147]++;
      return setSecurityHeaders(response);
    }
    // 4. Supabase에 사용자 데이터 저장 (선택 사항)
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[148]++;
    try {
      // Supabase 사용자가 이미 존재하는지 확인 (openId 기준)
      const {
        data: existingUsers
      } =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[149]++, await supabase.from('user_profiles').select('id').eq('provider', 'wechat').eq('provider_id', normalizedProfile.id));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[150]++;
      if (
      /* istanbul ignore next */
      (cov_1s23pk6n3v().b[28][0]++, existingUsers) &&
      /* istanbul ignore next */
      (cov_1s23pk6n3v().b[28][1]++, existingUsers.length > 0)) {
        /* istanbul ignore next */
        cov_1s23pk6n3v().b[27][0]++;
        // 기존 사용자가 있으면 프로필 업데이트
        const userId =
        /* istanbul ignore next */
        (cov_1s23pk6n3v().s[151]++, existingUsers[0].id);
        /* istanbul ignore next */
        cov_1s23pk6n3v().s[152]++;
        await supabase.from('user_profiles').update({
          display_name: normalizedProfile.name,
          avatar_url: normalizedProfile.avatar,
          updated_at: new Date().toISOString()
        }).eq('id', userId);
        /* istanbul ignore next */
        cov_1s23pk6n3v().s[153]++;
        normalizedProfile.userId = userId;
        /* istanbul ignore next */
        cov_1s23pk6n3v().s[154]++;
        console.log('✅ 기존 WeChat 사용자 프로필 업데이트 완료');
      } else
      /* istanbul ignore next */
      {
        cov_1s23pk6n3v().b[27][1]++;
      }
    } catch (error) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[155]++;
      console.warn('⚠️ Supabase 사용자 업데이트 실패 (계속 진행):', error);
      // 사용자 업데이트 실패해도 계속 진행
    }
    const processingTime =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[156]++, Date.now() - startTime);
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[157]++;
    console.log('✅ WeChat API 처리 완료:', {
      processingTime: `${processingTime}ms`,
      openId: normalizedProfile.id.substring(0, 8) + '...' // 보안상 일부만 로그
    });
    const response =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[158]++, _server.NextResponse.json({
      success: true,
      tokens: {
        access_token: accessToken,
        refresh_token: refreshToken,
        expires_in: expiresIn,
        id_token: idToken
      },
      profile: normalizedProfile,
      metadata: {
        processingTime,
        timestamp: new Date().toISOString()
      }
    }));
    // 레이트 리미팅 헤더 추가
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[159]++;
    response.headers.set('X-RateLimit-Limit', RATE_LIMIT_MAX_REQUESTS.toString());
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[160]++;
    response.headers.set('X-RateLimit-Remaining', rateLimitResult.remaining.toString());
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[161]++;
    response.headers.set('X-RateLimit-Reset', rateLimitResult.resetTime.toString());
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[162]++;
    return setSecurityHeaders(response);
  } catch (error) {
    const processingTime =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[163]++, Date.now() - startTime);
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[164]++;
    console.error('❌ WeChat API 요청 처리 중 예상치 못한 오류:', {
      error: error instanceof Error ?
      /* istanbul ignore next */
      (cov_1s23pk6n3v().b[29][0]++, error.message) :
      /* istanbul ignore next */
      (cov_1s23pk6n3v().b[29][1]++, String(error)),
      stack: error instanceof Error ?
      /* istanbul ignore next */
      (cov_1s23pk6n3v().b[30][0]++, error.stack) :
      /* istanbul ignore next */
      (cov_1s23pk6n3v().b[30][1]++, undefined),
      processingTime: `${processingTime}ms`
    });
    const response =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[165]++, _server.NextResponse.json({
      error: '서버 내부 오류가 발생했습니다. 잠시 후 다시 시도해주세요.',
      timestamp: new Date().toISOString()
    }, {
      status: 500
    }));
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[166]++;
    return setSecurityHeaders(response);
  }
}
async function PUT(request) {
  /* istanbul ignore next */
  cov_1s23pk6n3v().f[10]++;
  const startTime =
  /* istanbul ignore next */
  (cov_1s23pk6n3v().s[167]++, Date.now());
  /* istanbul ignore next */
  cov_1s23pk6n3v().s[168]++;
  try {
    // 클라이언트 IP 주소 가져오기 (레이트 리미팅용)
    const clientIp =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[169]++,
    /* istanbul ignore next */
    (cov_1s23pk6n3v().b[31][0]++, request.headers.get('x-forwarded-for')) ||
    /* istanbul ignore next */
    (cov_1s23pk6n3v().b[31][1]++, request.headers.get('x-real-ip')) ||
    /* istanbul ignore next */
    (cov_1s23pk6n3v().b[31][2]++, 'unknown'));
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[170]++;
    console.log('🔍 WeChat 토큰 갱신 요청 시작:', {
      ip: clientIp,
      timestamp: new Date().toISOString()
    });
    // 레이트 리미팅 검사
    const rateLimitResult =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[171]++, checkRateLimit(clientIp));
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[172]++;
    if (!rateLimitResult.allowed) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().b[32][0]++;
      cov_1s23pk6n3v().s[173]++;
      console.warn('⚠️ 토큰 갱신 레이트 리미트 초과:', {
        ip: clientIp
      });
      const response =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[174]++, _server.NextResponse.json({
        error: '요청이 너무 자주 발생했습니다. 잠시 후 다시 시도해주세요.',
        retryAfter: Math.ceil((rateLimitResult.resetTime - Date.now()) / 1000)
      }, {
        status: 429
      }));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[175]++;
      response.headers.set('Retry-After', Math.ceil((rateLimitResult.resetTime - Date.now()) / 1000).toString());
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[176]++;
      return setSecurityHeaders(response);
    } else
    /* istanbul ignore next */
    {
      cov_1s23pk6n3v().b[32][1]++;
    }
    // 요청 본문 파싱
    let requestBody;
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[177]++;
    try {
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[178]++;
      requestBody = await request.json();
    } catch (parseError) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[179]++;
      console.error('❌ 토큰 갱신 요청 본문 파싱 오류:', parseError);
      const response =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[180]++, _server.NextResponse.json({
        error: '잘못된 JSON 형식입니다.'
      }, {
        status: 400
      }));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[181]++;
      return setSecurityHeaders(response);
    }
    const {
      refresh_token
    } =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[182]++, requestBody);
    // 입력 검증
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[183]++;
    if (
    /* istanbul ignore next */
    (cov_1s23pk6n3v().b[34][0]++, !refresh_token) ||
    /* istanbul ignore next */
    (cov_1s23pk6n3v().b[34][1]++, typeof refresh_token !== 'string')) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().b[33][0]++;
      const response =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[184]++, _server.NextResponse.json({
        error: '리프레시 토큰이 필요합니다.'
      }, {
        status: 400
      }));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[185]++;
      return setSecurityHeaders(response);
    } else
    /* istanbul ignore next */
    {
      cov_1s23pk6n3v().b[33][1]++;
    }
    cov_1s23pk6n3v().s[186]++;
    if (
    /* istanbul ignore next */
    (cov_1s23pk6n3v().b[36][0]++, refresh_token.length < 10) ||
    /* istanbul ignore next */
    (cov_1s23pk6n3v().b[36][1]++, refresh_token.length > 512)) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().b[35][0]++;
      const response =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[187]++, _server.NextResponse.json({
        error: '유효하지 않은 리프레시 토큰 형식입니다.'
      }, {
        status: 400
      }));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[188]++;
      return setSecurityHeaders(response);
    } else
    /* istanbul ignore next */
    {
      cov_1s23pk6n3v().b[35][1]++;
    }
    // WeChat API 설정
    const appId =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[189]++, process.env.NEXT_PUBLIC_WECHAT_APP_ID);
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[190]++;
    if (!appId) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().b[37][0]++;
      cov_1s23pk6n3v().s[191]++;
      console.error('❌ WeChat 앱 ID 환경 변수 누락');
      const response =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[192]++, _server.NextResponse.json({
        error: 'WeChat 서비스가 올바르게 설정되지 않았습니다.'
      }, {
        status: 500
      }));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[193]++;
      return setSecurityHeaders(response);
    } else
    /* istanbul ignore next */
    {
      cov_1s23pk6n3v().b[37][1]++;
    }
    cov_1s23pk6n3v().s[194]++;
    console.log('🔍 WeChat 토큰 갱신 API 호출');
    // 토큰 갱신 요청
    const refreshUrl =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[195]++, `https://api.weixin.qq.com/sns/oauth2/refresh_token?appid=${encodeURIComponent(appId)}&grant_type=refresh_token&refresh_token=${encodeURIComponent(refresh_token)}`);
    let refreshResponse;
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[196]++;
    try {
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[197]++;
      refreshResponse = await fetch(refreshUrl, {
        method: 'GET',
        headers: {
          'Accept': 'application/json',
          'User-Agent': 'WeChat-OAuth-Server/1.0'
        },
        // 타임아웃 설정 (10초)
        signal: AbortSignal.timeout(10000)
      });
    } catch (fetchError) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[198]++;
      console.error('❌ WeChat 토큰 갱신 네트워크 오류:', fetchError);
      const response =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[199]++, _server.NextResponse.json({
        error: 'WeChat 서버에 연결할 수 없습니다. 잠시 후 다시 시도해주세요.'
      }, {
        status: 503
      }));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[200]++;
      return setSecurityHeaders(response);
    }
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[201]++;
    if (!refreshResponse.ok) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().b[38][0]++;
      cov_1s23pk6n3v().s[202]++;
      console.error('❌ WeChat 토큰 갱신 HTTP 오류:', {
        status: refreshResponse.status,
        statusText: refreshResponse.statusText
      });
      const response =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[203]++, _server.NextResponse.json({
        error: 'WeChat 토큰 갱신 요청에 실패했습니다.',
        details: `HTTP ${refreshResponse.status}: ${refreshResponse.statusText}`
      }, {
        status: 502
      }));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[204]++;
      return setSecurityHeaders(response);
    } else
    /* istanbul ignore next */
    {
      cov_1s23pk6n3v().b[38][1]++;
    }
    let refreshData;
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[205]++;
    try {
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[206]++;
      refreshData = await refreshResponse.json();
    } catch (parseError) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[207]++;
      console.error('❌ WeChat 토큰 갱신 응답 파싱 오류:', parseError);
      const response =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[208]++, _server.NextResponse.json({
        error: 'WeChat 서버 응답을 처리할 수 없습니다.'
      }, {
        status: 502
      }));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[209]++;
      return setSecurityHeaders(response);
    }
    // WeChat API 오류 처리
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[210]++;
    if (refreshData.errcode) {
      /* istanbul ignore next */
      cov_1s23pk6n3v().b[39][0]++;
      const errorMessage =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[211]++, handleWeChatApiError(refreshData.errcode, refreshData.errmsg));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[212]++;
      console.error('❌ WeChat 토큰 갱신 API 오류:', {
        errcode: refreshData.errcode,
        errmsg: refreshData.errmsg,
        friendlyMessage: errorMessage
      });
      const response =
      /* istanbul ignore next */
      (cov_1s23pk6n3v().s[213]++, _server.NextResponse.json({
        error: errorMessage,
        code: refreshData.errcode
      }, {
        status: 400
      }));
      /* istanbul ignore next */
      cov_1s23pk6n3v().s[214]++;
      return setSecurityHeaders(response);
    } else
    /* istanbul ignore next */
    {
      cov_1s23pk6n3v().b[39][1]++;
    }
    const processingTime =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[215]++, Date.now() - startTime);
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[216]++;
    console.log('✅ WeChat 토큰 갱신 완료:', {
      processingTime: `${processingTime}ms`,
      hasNewToken: !!refreshData.access_token
    });
    const response =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[217]++, _server.NextResponse.json({
      success: true,
      tokens: {
        access_token: refreshData.access_token,
        refresh_token: refreshData.refresh_token,
        expires_in: refreshData.expires_in,
        openid: refreshData.openid
      },
      metadata: {
        processingTime,
        timestamp: new Date().toISOString()
      }
    }));
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[218]++;
    return setSecurityHeaders(response);
  } catch (error) {
    const processingTime =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[219]++, Date.now() - startTime);
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[220]++;
    console.error('❌ WeChat 토큰 갱신 중 예상치 못한 오류:', {
      error: error instanceof Error ?
      /* istanbul ignore next */
      (cov_1s23pk6n3v().b[40][0]++, error.message) :
      /* istanbul ignore next */
      (cov_1s23pk6n3v().b[40][1]++, String(error)),
      stack: error instanceof Error ?
      /* istanbul ignore next */
      (cov_1s23pk6n3v().b[41][0]++, error.stack) :
      /* istanbul ignore next */
      (cov_1s23pk6n3v().b[41][1]++, undefined),
      processingTime: `${processingTime}ms`
    });
    const response =
    /* istanbul ignore next */
    (cov_1s23pk6n3v().s[221]++, _server.NextResponse.json({
      error: '서버 내부 오류가 발생했습니다. 잠시 후 다시 시도해주세요.',
      timestamp: new Date().toISOString()
    }, {
      status: 500
    }));
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[222]++;
    return setSecurityHeaders(response);
  }
}
async function OPTIONS(request) {
  /* istanbul ignore next */
  cov_1s23pk6n3v().f[11]++;
  const response =
  /* istanbul ignore next */
  (cov_1s23pk6n3v().s[223]++, new _server.NextResponse(null, {
    status: 200
  }));
  /* istanbul ignore next */
  cov_1s23pk6n3v().s[224]++;
  return setSecurityHeaders(response);
}
/**
 * JWT 토큰 생성 함수
 * jsonwebtoken 라이브러리를 사용하여 안전한 토큰 생성
 */
async function generateJwtToken(payload) {
  /* istanbul ignore next */
  cov_1s23pk6n3v().f[12]++;
  // JWT 시크릿 키 (환경 변수에서 가져오거나 기본값 사용)
  const jwtSecret =
  /* istanbul ignore next */
  (cov_1s23pk6n3v().s[225]++,
  /* istanbul ignore next */
  (cov_1s23pk6n3v().b[42][0]++, process.env.JWT_SECRET) ||
  /* istanbul ignore next */
  (cov_1s23pk6n3v().b[42][1]++, process.env.SUPABASE_JWT_SECRET) ||
  /* istanbul ignore next */
  (cov_1s23pk6n3v().b[42][2]++, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY) ||
  /* istanbul ignore next */
  (cov_1s23pk6n3v().b[42][3]++, 'fallback-secret-key'));
  /* istanbul ignore next */
  cov_1s23pk6n3v().s[226]++;
  if (jwtSecret === 'fallback-secret-key') {
    /* istanbul ignore next */
    cov_1s23pk6n3v().b[43][0]++;
    cov_1s23pk6n3v().s[227]++;
    console.warn('⚠️ JWT 시크릿 키가 설정되지 않았습니다. 기본값을 사용합니다.');
  } else
  /* istanbul ignore next */
  {
    cov_1s23pk6n3v().b[43][1]++;
  }
  const now =
  /* istanbul ignore next */
  (cov_1s23pk6n3v().s[228]++, Math.floor(Date.now() / 1000));
  const expiresIn =
  /* istanbul ignore next */
  (cov_1s23pk6n3v().s[229]++, 3600); // 1시간
  const tokenPayload =
  /* istanbul ignore next */
  (cov_1s23pk6n3v().s[230]++, {
    ...payload,
    iat: now,
    exp: now + expiresIn,
    iss: 'picnic-web-wechat',
    aud: 'picnic-web',
    jti: `wechat_${Date.now()}_${Math.random().toString(36).substring(2)}`
  });
  /* istanbul ignore next */
  cov_1s23pk6n3v().s[231]++;
  try {
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[232]++;
    return _jsonwebtoken.default.sign(tokenPayload, jwtSecret, {
      algorithm: 'HS256'
    });
  } catch (jwtError) {
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[233]++;
    console.error('❌ JWT 토큰 생성 실패:', jwtError);
    /* istanbul ignore next */
    cov_1s23pk6n3v().s[234]++;
    throw new Error('JWT 토큰 생성에 실패했습니다.');
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPUFRJT05TIiwiY292XzFzMjNwazZuM3YiLCJmIiwicyIsIlBPU1QiLCJQVVQiLCJyZXF1ZXN0Q291bnRzIiwiTWFwIiwiUkFURV9MSU1JVF9XSU5ET1ciLCJSQVRFX0xJTUlUX01BWF9SRVFVRVNUUyIsImNoZWNrUmF0ZUxpbWl0IiwiY2xpZW50SWQiLCJub3ciLCJEYXRlIiwiY2xpZW50RGF0YSIsImdldCIsImIiLCJyZXNldFRpbWUiLCJzZXQiLCJjb3VudCIsImFsbG93ZWQiLCJyZW1haW5pbmciLCJ2YWxpZGF0ZUlucHV0IiwiY29kZSIsInN0YXRlIiwidmFsaWQiLCJlcnJvciIsImxlbmd0aCIsInRlc3QiLCJoYW5kbGVXZUNoYXRBcGlFcnJvciIsImVycmNvZGUiLCJlcnJtc2ciLCJlcnJvckNvZGUiLCJ0b1N0cmluZyIsImVycm9yTWVzc2FnZXMiLCJzZXRTZWN1cml0eUhlYWRlcnMiLCJyZXNwb25zZSIsImhlYWRlcnMiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU0lURV9VUkwiLCJyZXF1ZXN0Iiwic3RhcnRUaW1lIiwiY2xpZW50SXAiLCJjb25zb2xlIiwibG9nIiwiaXAiLCJ1c2VyQWdlbnQiLCJ0aW1lc3RhbXAiLCJ0b0lTT1N0cmluZyIsInJhdGVMaW1pdFJlc3VsdCIsIndhcm4iLCJfc2VydmVyIiwiTmV4dFJlc3BvbnNlIiwianNvbiIsInJldHJ5QWZ0ZXIiLCJNYXRoIiwiY2VpbCIsInN0YXR1cyIsInJlcXVlc3RCb2R5IiwicGFyc2VFcnJvciIsInZhbGlkYXRpb24iLCJhcHBJZCIsIk5FWFRfUFVCTElDX1dFQ0hBVF9BUFBfSUQiLCJhcHBTZWNyZXQiLCJXRUNIQVRfQVBQX1NFQ1JFVCIsInN1cGFiYXNlIiwiX3N1cGFiYXNlanMiLCJjcmVhdGVDbGllbnQiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIiwiYXV0aCIsImF1dG9SZWZyZXNoVG9rZW4iLCJwZXJzaXN0U2Vzc2lvbiIsInN1cGFiYXNlRXJyb3IiLCJ0b2tlblVybCIsImVuY29kZVVSSUNvbXBvbmVudCIsInRva2VuUmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsInNpZ25hbCIsIkFib3J0U2lnbmFsIiwidGltZW91dCIsImZldGNoRXJyb3IiLCJvayIsInN0YXR1c1RleHQiLCJkZXRhaWxzIiwidG9rZW5EYXRhIiwiZXJyb3JNZXNzYWdlIiwiZnJpZW5kbHlNZXNzYWdlIiwiYWNjZXNzVG9rZW4iLCJhY2Nlc3NfdG9rZW4iLCJvcGVuSWQiLCJvcGVuaWQiLCJyZWZyZXNoVG9rZW4iLCJyZWZyZXNoX3Rva2VuIiwiZXhwaXJlc0luIiwiZXhwaXJlc19pbiIsImhhc0FjY2Vzc1Rva2VuIiwiaGFzT3BlbklkIiwidXNlckluZm9VcmwiLCJ1c2VySW5mb1Jlc3BvbnNlIiwidXNlckluZm8iLCJub3JtYWxpemVkUHJvZmlsZSIsIl93ZWNoYXQiLCJub3JtYWxpemVXZUNoYXRQcm9maWxlIiwicHJvZmlsZUVycm9yIiwiaWRUb2tlbiIsImdlbmVyYXRlSnd0VG9rZW4iLCJzdWIiLCJpZCIsIm5hbWUiLCJwaWN0dXJlIiwiYXZhdGFyIiwicHJvdmlkZXIiLCJ3ZWNoYXRfb3BlbmlkIiwiand0RXJyb3IiLCJkYXRhIiwiZXhpc3RpbmdVc2VycyIsImZyb20iLCJzZWxlY3QiLCJlcSIsInVzZXJJZCIsInVwZGF0ZSIsImRpc3BsYXlfbmFtZSIsImF2YXRhcl91cmwiLCJ1cGRhdGVkX2F0IiwicHJvY2Vzc2luZ1RpbWUiLCJzdWJzdHJpbmciLCJzdWNjZXNzIiwidG9rZW5zIiwiaWRfdG9rZW4iLCJwcm9maWxlIiwibWV0YWRhdGEiLCJFcnJvciIsIm1lc3NhZ2UiLCJTdHJpbmciLCJzdGFjayIsInVuZGVmaW5lZCIsInJlZnJlc2hVcmwiLCJyZWZyZXNoUmVzcG9uc2UiLCJyZWZyZXNoRGF0YSIsImhhc05ld1Rva2VuIiwicGF5bG9hZCIsImp3dFNlY3JldCIsIkpXVF9TRUNSRVQiLCJTVVBBQkFTRV9KV1RfU0VDUkVUIiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJmbG9vciIsInRva2VuUGF5bG9hZCIsImlhdCIsImV4cCIsImlzcyIsImF1ZCIsImp0aSIsInJhbmRvbSIsIl9qc29ud2VidG9rZW4iLCJkZWZhdWx0Iiwic2lnbiIsImFsZ29yaXRobSJdLCJzb3VyY2VzIjpbIi9Vc2Vycy9jaGVvbGh5dW4vUmVwb3NpdG9yaWVzL3BpY25pYy13ZWIvYXBwL2FwaS9hdXRoL3dlY2hhdC9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcbmltcG9ydCB7IERhdGFiYXNlIH0gZnJvbSAnQC90eXBlcy9zdXBhYmFzZSc7XG5pbXBvcnQgeyBTb2NpYWxBdXRoRXJyb3IsIFNvY2lhbEF1dGhFcnJvckNvZGUgfSBmcm9tICdAL2xpYi9zdXBhYmFzZS9zb2NpYWwvdHlwZXMnO1xuaW1wb3J0IHsgbm9ybWFsaXplV2VDaGF0UHJvZmlsZSB9IGZyb20gJ0AvbGliL3N1cGFiYXNlL3NvY2lhbC93ZWNoYXQnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuXG4vLyDroIjsnbTtirgg66as66+47YyF7J2EIOychO2VnCDqsITri6jtlZwg66mU66qo66asIOyggOyepeyGjFxuY29uc3QgcmVxdWVzdENvdW50cyA9IG5ldyBNYXA8c3RyaW5nLCB7IGNvdW50OiBudW1iZXI7IHJlc2V0VGltZTogbnVtYmVyIH0+KCk7XG5jb25zdCBSQVRFX0xJTUlUX1dJTkRPVyA9IDE1ICogNjAgKiAxMDAwOyAvLyAxNeu2hFxuY29uc3QgUkFURV9MSU1JVF9NQVhfUkVRVUVTVFMgPSAxMDsgLy8gMTXrtoTri7kg7LWc64yAIDEw7ZqMIOyalOyyrVxuXG4vKipcbiAqIOugiOydtO2KuCDrpqzrr7jtjIUg6rKA7IKsXG4gKiBcbiAqIEBwYXJhbSBjbGllbnRJZCDtgbTrnbzsnbTslrjtirgg7Iud67OE7J6QIChJUCDso7zshowg65OxKVxuICogQHJldHVybnMg7JqU7LKtIO2XiOyaqSDsl6zrtoBcbiAqL1xuZnVuY3Rpb24gY2hlY2tSYXRlTGltaXQoY2xpZW50SWQ6IHN0cmluZyk6IHsgYWxsb3dlZDogYm9vbGVhbjsgcmVtYWluaW5nOiBudW1iZXI7IHJlc2V0VGltZTogbnVtYmVyIH0ge1xuICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICBjb25zdCBjbGllbnREYXRhID0gcmVxdWVzdENvdW50cy5nZXQoY2xpZW50SWQpO1xuICBcbiAgLy8g6riw7KG0IOuNsOydtO2EsOqwgCDsl4bqsbDrgpgg7JyI64+E7Jqw6rCAIOunjOujjOuQnCDqsr3smrBcbiAgaWYgKCFjbGllbnREYXRhIHx8IG5vdyA+IGNsaWVudERhdGEucmVzZXRUaW1lKSB7XG4gICAgY29uc3QgcmVzZXRUaW1lID0gbm93ICsgUkFURV9MSU1JVF9XSU5ET1c7XG4gICAgcmVxdWVzdENvdW50cy5zZXQoY2xpZW50SWQsIHsgY291bnQ6IDEsIHJlc2V0VGltZSB9KTtcbiAgICByZXR1cm4geyBhbGxvd2VkOiB0cnVlLCByZW1haW5pbmc6IFJBVEVfTElNSVRfTUFYX1JFUVVFU1RTIC0gMSwgcmVzZXRUaW1lIH07XG4gIH1cbiAgXG4gIC8vIOyalOyyrSDtmp/siJgg7Kad6rCAXG4gIGNsaWVudERhdGEuY291bnQrKztcbiAgXG4gIGlmIChjbGllbnREYXRhLmNvdW50ID4gUkFURV9MSU1JVF9NQVhfUkVRVUVTVFMpIHtcbiAgICByZXR1cm4geyBhbGxvd2VkOiBmYWxzZSwgcmVtYWluaW5nOiAwLCByZXNldFRpbWU6IGNsaWVudERhdGEucmVzZXRUaW1lIH07XG4gIH1cbiAgXG4gIHJldHVybiB7IFxuICAgIGFsbG93ZWQ6IHRydWUsIFxuICAgIHJlbWFpbmluZzogUkFURV9MSU1JVF9NQVhfUkVRVUVTVFMgLSBjbGllbnREYXRhLmNvdW50LCBcbiAgICByZXNldFRpbWU6IGNsaWVudERhdGEucmVzZXRUaW1lIFxuICB9O1xufVxuXG4vKipcbiAqIOyeheugpSDqsoDspp0g7ZWo7IiYXG4gKiBcbiAqIEBwYXJhbSBjb2RlIE9BdXRoIOy9lOuTnFxuICogQHBhcmFtIHN0YXRlIOyDge2DnCDthqDtgbBcbiAqIEByZXR1cm5zIOqygOymnSDqsrDqs7xcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVJbnB1dChjb2RlOiBzdHJpbmcsIHN0YXRlPzogc3RyaW5nKTogeyB2YWxpZDogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmcgfSB7XG4gIC8vIOy9lOuTnCDqsoDspp1cbiAgaWYgKCFjb2RlIHx8IHR5cGVvZiBjb2RlICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgZXJyb3I6ICdPQXV0aCDsvZTrk5zqsIAg7ZWE7JqU7ZWp64uI64ukLicgfTtcbiAgfVxuICBcbiAgaWYgKGNvZGUubGVuZ3RoIDwgMTAgfHwgY29kZS5sZW5ndGggPiA1MTIpIHtcbiAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIGVycm9yOiAn7Jyg7Zqo7ZWY7KeAIOyViuydgCBPQXV0aCDsvZTrk5wg7ZiV7Iud7J6F64uI64ukLicgfTtcbiAgfVxuICBcbiAgLy8g7L2U65Oc7JeQIO2XiOyaqeuQmOyngCDslYrripQg66y47J6Q6rCAIOyeiOuKlOyngCDtmZXsnbhcbiAgaWYgKCEvXlthLXpBLVowLTlfLV0rJC8udGVzdChjb2RlKSkge1xuICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgZXJyb3I6ICdPQXV0aCDsvZTrk5zsl5Ag7Jyg7Zqo7ZWY7KeAIOyViuydgCDrrLjsnpDqsIAg7Y+s7ZWo65CY7Ja0IOyeiOyKteuLiOuLpC4nIH07XG4gIH1cbiAgXG4gIC8vIOyDge2DnCDthqDtgbAg6rKA7KadICjshKDtg53sgqztla0pXG4gIGlmIChzdGF0ZSAmJiB0eXBlb2Ygc3RhdGUgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKHN0YXRlLmxlbmd0aCA+IDI1Nikge1xuICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcjogJ+yDge2DnCDthqDtgbDsnbQg64SI66y0IOq5geuLiOuLpC4nIH07XG4gICAgfVxuICAgIFxuICAgIGlmICghL15bYS16QS1aMC05Xy1dKyQvLnRlc3Qoc3RhdGUpKSB7XG4gICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIGVycm9yOiAn7IOB7YOcIO2GoO2BsOyXkCDsnKDtmqjtlZjsp4Ag7JWK7J2AIOusuOyekOqwgCDtj6ztlajrkJjslrQg7J6I7Iq164uI64ukLicgfTtcbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiB7IHZhbGlkOiB0cnVlIH07XG59XG5cbi8qKlxuICogV2VDaGF0IEFQSSDsmKTrpZgg7L2U65OcIOyymOumrFxuICogXG4gKiBAcGFyYW0gZXJyY29kZSBXZUNoYXQgQVBJIOyYpOulmCDsvZTrk5xcbiAqIEBwYXJhbSBlcnJtc2cgV2VDaGF0IEFQSSDsmKTrpZgg66mU7Iuc7KeAXG4gKiBAcmV0dXJucyDsgqzsmqnsnpAg7Lmc7ZmU7KCB7J24IOyYpOulmCDrqZTsi5zsp4BcbiAqL1xuZnVuY3Rpb24gaGFuZGxlV2VDaGF0QXBpRXJyb3IoZXJyY29kZTogc3RyaW5nIHwgbnVtYmVyLCBlcnJtc2c6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IGVycm9yQ29kZSA9IGVycmNvZGUudG9TdHJpbmcoKTtcbiAgXG4gIGNvbnN0IGVycm9yTWVzc2FnZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgLy8g7Yag7YGwIOq0gOugqCDsmKTrpZhcbiAgICAnNDAwMDEnOiAn7JWh7IS47IqkIO2GoO2BsOydtCDsnKDtmqjtlZjsp4Ag7JWK7Iq164uI64ukLicsXG4gICAgJzQwMDAyJzogJ+yemOuqu+uQnCDsnpDqsqkg7Kad66qFIO2DgOyeheyeheuLiOuLpC4nLFxuICAgICc0MDAwMyc6ICdPcGVuSUTqsIAg7Jyg7Zqo7ZWY7KeAIOyViuyKteuLiOuLpC4nLFxuICAgICc0MDAxMyc6ICfsnpjrqrvrkJwg7JWxIElE7J6F64uI64ukLicsXG4gICAgJzQwMTI1JzogJ+yemOuqu+uQnCDslbEg7Iuc7YGs66a/7J6F64uI64ukLicsXG4gICAgXG4gICAgLy8g7L2U65OcIOq0gOugqCDsmKTrpZhcbiAgICAnNDAwMjknOiAn7J6Y66q765CcIE9BdXRoIOy9lOuTnOyeheuLiOuLpC4nLFxuICAgICc0MDE2Myc6ICfsvZTrk5zqsIAg7J2066+4IOyCrOyaqeuQmOyXiOyKteuLiOuLpC4nLFxuICAgIFxuICAgIC8vIO2GoO2BsCDrp4zro4wg7Jik66WYXG4gICAgJzQyMDAxJzogJ+yVoeyEuOyKpCDthqDtgbDsnbQg66eM66OM65CY7JeI7Iq164uI64ukLicsXG4gICAgJzQyMDAyJzogJ+umrO2UhOugiOyLnCDthqDtgbDsnbQg66eM66OM65CY7JeI7Iq164uI64ukLicsXG4gICAgJzQyMDAzJzogJ+yVoeyEuOyKpCDthqDtgbDsnbQg6rCx7Iug65CY7Ja07JW8IO2VqeuLiOuLpC4nLFxuICAgIFxuICAgIC8vIOq2jO2VnCDqtIDroKgg7Jik66WYXG4gICAgJzQ4MDAxJzogJ+yVseydtCDsirnsnbjrkJjsp4Ag7JWK7JWY7Iq164uI64ukLicsXG4gICAgJzQ4MDAyJzogJ+yVseydtCDssKjri6jrkJjsl4jsirXri4jri6QuJyxcbiAgICAnNDgwMDMnOiAn7JWx7J20IOyCreygnOuQmOyXiOyKteuLiOuLpC4nLFxuICAgICc0ODAwNCc6ICfslbHsnbQg7J287IucIOykkeuLqOuQmOyXiOyKteuLiOuLpC4nLFxuICAgIFxuICAgIC8vIOyCrOyaqeyekCDqtIDroKgg7Jik66WYXG4gICAgJzUwMDAxJzogJ+yCrOyaqeyekOqwgCDsnbjspp3snYQg7Leo7IaM7ZaI7Iq164uI64ukLicsXG4gICAgJzUwMDAyJzogJ+yCrOyaqeyekOqwgCDslbEg7IKs7Jqp7J2EIOqxsOu2gO2WiOyKteuLiOuLpC4nLFxuICAgIFxuICAgIC8vIOyLnOyKpO2FnCDsmKTrpZhcbiAgICAnLTEnOiAnV2VDaGF0IOyLnOyKpO2FnCDsmKTrpZjqsIAg67Cc7IOd7ZaI7Iq164uI64ukLicsXG4gICAgJzQwMTY0JzogJ+yalOyyreydtCDrhIjrrLQg7J6Q7KO8IOuwnOyDne2WiOyKteuLiOuLpC4g7J6g7IucIO2bhCDri6Tsi5wg7Iuc64+E7ZW07KO87IS47JqULicsXG4gICAgJzg5NTAzJzogJ1dlQ2hhdCDshJzruYTsiqTqsIAg7J287Iuc7KCB7Jy866GcIOyCrOyaqe2VoCDsiJgg7JeG7Iq164uI64ukLicsXG4gIH07XG4gIFxuICByZXR1cm4gZXJyb3JNZXNzYWdlc1tlcnJvckNvZGVdIHx8IGBXZUNoYXQgQVBJIOyYpOulmDogJHtlcnJtc2d9ICjsvZTrk5w6ICR7ZXJyY29kZX0pYDtcbn1cblxuLyoqXG4gKiDrs7TslYgg7Zek642UIOyEpOyglVxuICogXG4gKiBAcGFyYW0gcmVzcG9uc2UgTmV4dFJlc3BvbnNlIOqwneyytFxuICogQHJldHVybnMg67O07JWIIO2XpOuNlOqwgCDshKTsoJXrkJwg7J2R64u1XG4gKi9cbmZ1bmN0aW9uIHNldFNlY3VyaXR5SGVhZGVycyhyZXNwb25zZTogTmV4dFJlc3BvbnNlKTogTmV4dFJlc3BvbnNlIHtcbiAgLy8gQ09SUyDtl6TrjZRcbiAgcmVzcG9uc2UuaGVhZGVycy5zZXQoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NJVEVfVVJMIHx8ICcqJyk7XG4gIHJlc3BvbnNlLmhlYWRlcnMuc2V0KCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJywgJ1BPU1QsIFBVVCwgT1BUSU9OUycpO1xuICByZXNwb25zZS5oZWFkZXJzLnNldCgnQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICdDb250ZW50LVR5cGUsIEF1dGhvcml6YXRpb24nKTtcbiAgXG4gIC8vIOuztOyViCDtl6TrjZRcbiAgcmVzcG9uc2UuaGVhZGVycy5zZXQoJ1gtQ29udGVudC1UeXBlLU9wdGlvbnMnLCAnbm9zbmlmZicpO1xuICByZXNwb25zZS5oZWFkZXJzLnNldCgnWC1GcmFtZS1PcHRpb25zJywgJ0RFTlknKTtcbiAgcmVzcG9uc2UuaGVhZGVycy5zZXQoJ1gtWFNTLVByb3RlY3Rpb24nLCAnMTsgbW9kZT1ibG9jaycpO1xuICByZXNwb25zZS5oZWFkZXJzLnNldCgnUmVmZXJyZXItUG9saWN5JywgJ3N0cmljdC1vcmlnaW4td2hlbi1jcm9zcy1vcmlnaW4nKTtcbiAgXG4gIC8vIOy6kOyLnCDrsKnsp4AgKOuvvOqwkO2VnCDrjbDsnbTthLApXG4gIHJlc3BvbnNlLmhlYWRlcnMuc2V0KCdDYWNoZS1Db250cm9sJywgJ25vLXN0b3JlLCBuby1jYWNoZSwgbXVzdC1yZXZhbGlkYXRlLCBwcm94eS1yZXZhbGlkYXRlJyk7XG4gIHJlc3BvbnNlLmhlYWRlcnMuc2V0KCdQcmFnbWEnLCAnbm8tY2FjaGUnKTtcbiAgcmVzcG9uc2UuaGVhZGVycy5zZXQoJ0V4cGlyZXMnLCAnMCcpO1xuICBcbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuXG4vKipcbiAqIFdlQ2hhdCDthqDtgbAg67CPIOyCrOyaqeyekCDsoJXrs7Qg7LKY66asIEFQSVxuICogXG4gKiDsnbQgQVBJ64qUIFdlQ2hhdCBPQXV0aCDsvZzrsLHsnLzroZzrtoDthLAg67Cb7J2AIOy9lOuTnOulvCDsgqzsmqntlZjsl6xcbiAqIOyVoeyEuOyKpCDthqDtgbDsnYQg7ZqN65Od7ZWY6rOgIOyCrOyaqeyekCDsoJXrs7Trpbwg6rCA7KC47Jik64qUIOyXre2VoOydhCDtlanri4jri6QuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gIFxuICB0cnkge1xuICAgIC8vIO2BtOudvOydtOyWuO2KuCBJUCDso7zshowg6rCA7KC47Jik6riwICjroIjsnbTtirgg66as66+47YyF7JqpKVxuICAgIGNvbnN0IGNsaWVudElwID0gcmVxdWVzdC5oZWFkZXJzLmdldCgneC1mb3J3YXJkZWQtZm9yJykgfHwgXG4gICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd4LXJlYWwtaXAnKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgICd1bmtub3duJztcbiAgICBcbiAgICBjb25zb2xlLmxvZygn8J+UjSBXZUNoYXQgQVBJIOyalOyyrSDsi5zsnpE6Jywge1xuICAgICAgaXA6IGNsaWVudElwLFxuICAgICAgdXNlckFnZW50OiByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd1c2VyLWFnZW50JyksXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH0pO1xuICAgIFxuICAgIC8vIOugiOydtO2KuCDrpqzrr7jtjIUg6rKA7IKsXG4gICAgY29uc3QgcmF0ZUxpbWl0UmVzdWx0ID0gY2hlY2tSYXRlTGltaXQoY2xpZW50SXApO1xuICAgIGlmICghcmF0ZUxpbWl0UmVzdWx0LmFsbG93ZWQpIHtcbiAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIOugiOydtO2KuCDrpqzrr7jtirgg7LSI6rO8OicsIHtcbiAgICAgICAgaXA6IGNsaWVudElwLFxuICAgICAgICByZXNldFRpbWU6IG5ldyBEYXRlKHJhdGVMaW1pdFJlc3VsdC5yZXNldFRpbWUpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IFxuICAgICAgICAgIGVycm9yOiAn7JqU7LKt7J20IOuEiOustCDsnpDso7wg67Cc7IOd7ZaI7Iq164uI64ukLiDsnqDsi5wg7ZuEIOuLpOyLnCDsi5zrj4TtlbTso7zshLjsmpQuJyxcbiAgICAgICAgICByZXRyeUFmdGVyOiBNYXRoLmNlaWwoKHJhdGVMaW1pdFJlc3VsdC5yZXNldFRpbWUgLSBEYXRlLm5vdygpKSAvIDEwMDApXG4gICAgICAgIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MjkgfVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgcmVzcG9uc2UuaGVhZGVycy5zZXQoJ1JldHJ5LUFmdGVyJywgTWF0aC5jZWlsKChyYXRlTGltaXRSZXN1bHQucmVzZXRUaW1lIC0gRGF0ZS5ub3coKSkgLyAxMDAwKS50b1N0cmluZygpKTtcbiAgICAgIHJlc3BvbnNlLmhlYWRlcnMuc2V0KCdYLVJhdGVMaW1pdC1MaW1pdCcsIFJBVEVfTElNSVRfTUFYX1JFUVVFU1RTLnRvU3RyaW5nKCkpO1xuICAgICAgcmVzcG9uc2UuaGVhZGVycy5zZXQoJ1gtUmF0ZUxpbWl0LVJlbWFpbmluZycsICcwJyk7XG4gICAgICByZXNwb25zZS5oZWFkZXJzLnNldCgnWC1SYXRlTGltaXQtUmVzZXQnLCByYXRlTGltaXRSZXN1bHQucmVzZXRUaW1lLnRvU3RyaW5nKCkpO1xuICAgICAgXG4gICAgICByZXR1cm4gc2V0U2VjdXJpdHlIZWFkZXJzKHJlc3BvbnNlKTtcbiAgICB9XG4gICAgXG4gICAgLy8g7JqU7LKtIOuzuOusuCDtjIzsi7FcbiAgICBsZXQgcmVxdWVzdEJvZHk7XG4gICAgdHJ5IHtcbiAgICAgIHJlcXVlc3RCb2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgfSBjYXRjaCAocGFyc2VFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIOyalOyyrSDrs7jrrLgg7YyM7IuxIOyYpOulmDonLCBwYXJzZUVycm9yKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICfsnpjrqrvrkJwgSlNPTiDtmJXsi53snoXri4jri6QuJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgICByZXR1cm4gc2V0U2VjdXJpdHlIZWFkZXJzKHJlc3BvbnNlKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgeyBjb2RlLCBzdGF0ZSB9ID0gcmVxdWVzdEJvZHk7XG4gICAgXG4gICAgLy8g7J6F66ClIOqygOymnVxuICAgIGNvbnN0IHZhbGlkYXRpb24gPSB2YWxpZGF0ZUlucHV0KGNvZGUsIHN0YXRlKTtcbiAgICBpZiAoIXZhbGlkYXRpb24udmFsaWQpIHtcbiAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIOyeheugpSDqsoDspp0g7Iuk7YyoOicsIHZhbGlkYXRpb24uZXJyb3IpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogdmFsaWRhdGlvbi5lcnJvciB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgICByZXR1cm4gc2V0U2VjdXJpdHlIZWFkZXJzKHJlc3BvbnNlKTtcbiAgICB9XG4gICAgXG4gICAgLy8g7ZmY6rK9IOuzgOyImCDqsoDspp1cbiAgICBjb25zdCBhcHBJZCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1dFQ0hBVF9BUFBfSUQ7XG4gICAgY29uc3QgYXBwU2VjcmV0ID0gcHJvY2Vzcy5lbnYuV0VDSEFUX0FQUF9TRUNSRVQ7XG4gICAgXG4gICAgaWYgKCFhcHBJZCB8fCAhYXBwU2VjcmV0KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgV2VDaGF0IO2ZmOqyvSDrs4DsiJgg64iE6529Jyk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnV2VDaGF0IOyEnOu5hOyKpOqwgCDsmKzrsJTrpbTqsowg7ISk7KCV65CY7KeAIOyViuyVmOyKteuLiOuLpC4nIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgKTtcbiAgICAgIHJldHVybiBzZXRTZWN1cml0eUhlYWRlcnMocmVzcG9uc2UpO1xuICAgIH1cbiAgICBcbiAgICAvLyBTdXBhYmFzZSDtgbTrnbzsnbTslrjtirgg7IOd7ISxXG4gICAgbGV0IHN1cGFiYXNlO1xuICAgIHRyeSB7XG4gICAgICBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudDxEYXRhYmFzZT4oXG4gICAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCEsXG4gICAgICAgIHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkhLFxuICAgICAgICB7XG4gICAgICAgICAgYXV0aDoge1xuICAgICAgICAgICAgYXV0b1JlZnJlc2hUb2tlbjogZmFsc2UsXG4gICAgICAgICAgICBwZXJzaXN0U2Vzc2lvbjogZmFsc2UsXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuICAgIH0gY2F0Y2ggKHN1cGFiYXNlRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBTdXBhYmFzZSDtgbTrnbzsnbTslrjtirgg7IOd7ISxIOyLpO2MqDonLCBzdXBhYmFzZUVycm9yKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICfrjbDsnbTthLDrsqDsnbTsiqQg7Jew6rKw7JeQIOyLpO2MqO2WiOyKteuLiOuLpC4nIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgKTtcbiAgICAgIHJldHVybiBzZXRTZWN1cml0eUhlYWRlcnMocmVzcG9uc2UpO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygn8J+UjSBXZUNoYXQg7JWh7IS47IqkIO2GoO2BsCDsmpTssq0g7Iuc7J6RJyk7XG4gICAgXG4gICAgLy8gMS4g7L2U65Oc66GcIOyVoeyEuOyKpCDthqDtgbAg7ZqN65OdXG4gICAgY29uc3QgdG9rZW5VcmwgPSBgaHR0cHM6Ly9hcGkud2VpeGluLnFxLmNvbS9zbnMvb2F1dGgyL2FjY2Vzc190b2tlbj9hcHBpZD0ke2VuY29kZVVSSUNvbXBvbmVudChhcHBJZCl9JnNlY3JldD0ke2VuY29kZVVSSUNvbXBvbmVudChhcHBTZWNyZXQpfSZjb2RlPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvZGUpfSZncmFudF90eXBlPWF1dGhvcml6YXRpb25fY29kZWA7XG4gICAgXG4gICAgbGV0IHRva2VuUmVzcG9uc2U7XG4gICAgdHJ5IHtcbiAgICAgIHRva2VuUmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0b2tlblVybCwge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnVXNlci1BZ2VudCc6ICdXZUNoYXQtT0F1dGgtU2VydmVyLzEuMCdcbiAgICAgICAgfSxcbiAgICAgICAgLy8g7YOA7J6E7JWE7JuDIOyEpOyglSAoMTDstIgpXG4gICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCgxMDAwMClcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGZldGNoRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBXZUNoYXQg7Yag7YGwIOyalOyyrSDrhKTtirjsm4ztgawg7Jik66WYOicsIGZldGNoRXJyb3IpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ1dlQ2hhdCDshJzrsoTsl5Ag7Jew6rKw7ZWgIOyImCDsl4bsirXri4jri6QuIOyeoOyLnCDtm4Qg64uk7IucIOyLnOuPhO2VtOyjvOyEuOyalC4nIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDMgfVxuICAgICAgKTtcbiAgICAgIHJldHVybiBzZXRTZWN1cml0eUhlYWRlcnMocmVzcG9uc2UpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoIXRva2VuUmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBXZUNoYXQg7Yag7YGwIOyalOyyrSBIVFRQIOyYpOulmDonLCB7XG4gICAgICAgIHN0YXR1czogdG9rZW5SZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHRva2VuUmVzcG9uc2Uuc3RhdHVzVGV4dFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgXG4gICAgICAgICAgZXJyb3I6ICdXZUNoYXQg7Yag7YGwIOyalOyyreyXkCDsi6TtjKjtlojsirXri4jri6QuJyxcbiAgICAgICAgICBkZXRhaWxzOiBgSFRUUCAke3Rva2VuUmVzcG9uc2Uuc3RhdHVzfTogJHt0b2tlblJlc3BvbnNlLnN0YXR1c1RleHR9YFxuICAgICAgICB9LFxuICAgICAgICB7IHN0YXR1czogNTAyIH1cbiAgICAgICk7XG4gICAgICByZXR1cm4gc2V0U2VjdXJpdHlIZWFkZXJzKHJlc3BvbnNlKTtcbiAgICB9XG4gICAgXG4gICAgbGV0IHRva2VuRGF0YTtcbiAgICB0cnkge1xuICAgICAgdG9rZW5EYXRhID0gYXdhaXQgdG9rZW5SZXNwb25zZS5qc29uKCk7XG4gICAgfSBjYXRjaCAocGFyc2VFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFdlQ2hhdCDthqDtgbAg7J2R64u1IO2MjOyLsSDsmKTrpZg6JywgcGFyc2VFcnJvcik7XG4gICAgICBjb25zdCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnV2VDaGF0IOyEnOuyhCDsnZHri7XsnYQg7LKY66as7ZWgIOyImCDsl4bsirXri4jri6QuJyB9LFxuICAgICAgICB7IHN0YXR1czogNTAyIH1cbiAgICAgICk7XG4gICAgICByZXR1cm4gc2V0U2VjdXJpdHlIZWFkZXJzKHJlc3BvbnNlKTtcbiAgICB9XG4gICAgXG4gICAgLy8gV2VDaGF0IEFQSSDsmKTrpZgg7LKY66asXG4gICAgaWYgKHRva2VuRGF0YS5lcnJjb2RlKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBoYW5kbGVXZUNoYXRBcGlFcnJvcih0b2tlbkRhdGEuZXJyY29kZSwgdG9rZW5EYXRhLmVycm1zZyk7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgV2VDaGF0IO2GoO2BsCBBUEkg7Jik66WYOicsIHtcbiAgICAgICAgZXJyY29kZTogdG9rZW5EYXRhLmVycmNvZGUsXG4gICAgICAgIGVycm1zZzogdG9rZW5EYXRhLmVycm1zZyxcbiAgICAgICAgZnJpZW5kbHlNZXNzYWdlOiBlcnJvck1lc3NhZ2VcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IFxuICAgICAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgICAgY29kZTogdG9rZW5EYXRhLmVycmNvZGUgXG4gICAgICAgIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICAgIHJldHVybiBzZXRTZWN1cml0eUhlYWRlcnMocmVzcG9uc2UpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IHRva2VuRGF0YS5hY2Nlc3NfdG9rZW47XG4gICAgY29uc3Qgb3BlbklkID0gdG9rZW5EYXRhLm9wZW5pZDtcbiAgICBjb25zdCByZWZyZXNoVG9rZW4gPSB0b2tlbkRhdGEucmVmcmVzaF90b2tlbjtcbiAgICBjb25zdCBleHBpcmVzSW4gPSB0b2tlbkRhdGEuZXhwaXJlc19pbjtcbiAgICBcbiAgICBpZiAoIWFjY2Vzc1Rva2VuIHx8ICFvcGVuSWQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBXZUNoYXQg7Yag7YGwIOydkeuLteyXkCDtlYTsiJgg7ZWE65OcIOuIhOudvTonLCB7XG4gICAgICAgIGhhc0FjY2Vzc1Rva2VuOiAhIWFjY2Vzc1Rva2VuLFxuICAgICAgICBoYXNPcGVuSWQ6ICEhb3BlbklkXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ1dlQ2hhdOyXkOyEnCDsnKDtmqjtlZjsp4Ag7JWK7J2AIO2GoO2BsCDsnZHri7XsnYQg67Cb7JWY7Iq164uI64ukLicgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMiB9XG4gICAgICApO1xuICAgICAgcmV0dXJuIHNldFNlY3VyaXR5SGVhZGVycyhyZXNwb25zZSk7XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCfinIUgV2VDaGF0IOyVoeyEuOyKpCDthqDtgbAg7ZqN65OdIOyZhOujjCcpO1xuICAgIGNvbnNvbGUubG9nKCfwn5SNIFdlQ2hhdCDsgqzsmqnsnpAg7KCV67O0IOyalOyyrSDsi5zsnpEnKTtcbiAgICBcbiAgICAvLyAyLiDslaHshLjsiqQg7Yag7YGw7Jy866GcIOyCrOyaqeyekCDsoJXrs7Qg6rCA7KC47Jik6riwXG4gICAgY29uc3QgdXNlckluZm9VcmwgPSBgaHR0cHM6Ly9hcGkud2VpeGluLnFxLmNvbS9zbnMvdXNlcmluZm8/YWNjZXNzX3Rva2VuPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGFjY2Vzc1Rva2VuKX0mb3BlbmlkPSR7ZW5jb2RlVVJJQ29tcG9uZW50KG9wZW5JZCl9Jmxhbmc9emhfQ05gO1xuICAgIFxuICAgIGxldCB1c2VySW5mb1Jlc3BvbnNlO1xuICAgIHRyeSB7XG4gICAgICB1c2VySW5mb1Jlc3BvbnNlID0gYXdhaXQgZmV0Y2godXNlckluZm9VcmwsIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ1VzZXItQWdlbnQnOiAnV2VDaGF0LU9BdXRoLVNlcnZlci8xLjAnXG4gICAgICAgIH0sXG4gICAgICAgIC8vIO2DgOyehOyVhOybgyDshKTsoJUgKDEw7LSIKVxuICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQoMTAwMDApXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChmZXRjaEVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgV2VDaGF0IOyCrOyaqeyekCDsoJXrs7Qg7JqU7LKtIOuEpO2KuOybjO2BrCDsmKTrpZg6JywgZmV0Y2hFcnJvcik7XG4gICAgICBjb25zdCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnV2VDaGF0IOyCrOyaqeyekCDsoJXrs7Trpbwg6rCA7KC47JisIOyImCDsl4bsirXri4jri6QuIOyeoOyLnCDtm4Qg64uk7IucIOyLnOuPhO2VtOyjvOyEuOyalC4nIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDMgfVxuICAgICAgKTtcbiAgICAgIHJldHVybiBzZXRTZWN1cml0eUhlYWRlcnMocmVzcG9uc2UpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoIXVzZXJJbmZvUmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBXZUNoYXQg7IKs7Jqp7J6QIOygleuztCDsmpTssq0gSFRUUCDsmKTrpZg6Jywge1xuICAgICAgICBzdGF0dXM6IHVzZXJJbmZvUmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiB1c2VySW5mb1Jlc3BvbnNlLnN0YXR1c1RleHRcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IFxuICAgICAgICAgIGVycm9yOiAnV2VDaGF0IOyCrOyaqeyekCDsoJXrs7Qg7JqU7LKt7JeQIOyLpO2MqO2WiOyKteuLiOuLpC4nLFxuICAgICAgICAgIGRldGFpbHM6IGBIVFRQICR7dXNlckluZm9SZXNwb25zZS5zdGF0dXN9OiAke3VzZXJJbmZvUmVzcG9uc2Uuc3RhdHVzVGV4dH1gXG4gICAgICAgIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDIgfVxuICAgICAgKTtcbiAgICAgIHJldHVybiBzZXRTZWN1cml0eUhlYWRlcnMocmVzcG9uc2UpO1xuICAgIH1cbiAgICBcbiAgICBsZXQgdXNlckluZm87XG4gICAgdHJ5IHtcbiAgICAgIHVzZXJJbmZvID0gYXdhaXQgdXNlckluZm9SZXNwb25zZS5qc29uKCk7XG4gICAgfSBjYXRjaCAocGFyc2VFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFdlQ2hhdCDsgqzsmqnsnpAg7KCV67O0IOydkeuLtSDtjIzsi7Eg7Jik66WYOicsIHBhcnNlRXJyb3IpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ1dlQ2hhdCDsgqzsmqnsnpAg7KCV67O0IOydkeuLteydhCDsspjrpqztlaAg7IiYIOyXhuyKteuLiOuLpC4nIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDIgfVxuICAgICAgKTtcbiAgICAgIHJldHVybiBzZXRTZWN1cml0eUhlYWRlcnMocmVzcG9uc2UpO1xuICAgIH1cbiAgICBcbiAgICAvLyBXZUNoYXQgQVBJIOyYpOulmCDsspjrpqxcbiAgICBpZiAodXNlckluZm8uZXJyY29kZSkge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gaGFuZGxlV2VDaGF0QXBpRXJyb3IodXNlckluZm8uZXJyY29kZSwgdXNlckluZm8uZXJybXNnKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBXZUNoYXQg7IKs7Jqp7J6QIOygleuztCBBUEkg7Jik66WYOicsIHtcbiAgICAgICAgZXJyY29kZTogdXNlckluZm8uZXJyY29kZSxcbiAgICAgICAgZXJybXNnOiB1c2VySW5mby5lcnJtc2csXG4gICAgICAgIGZyaWVuZGx5TWVzc2FnZTogZXJyb3JNZXNzYWdlXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBcbiAgICAgICAgICBlcnJvcjogZXJyb3JNZXNzYWdlLFxuICAgICAgICAgIGNvZGU6IHVzZXJJbmZvLmVycmNvZGUgXG4gICAgICAgIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICAgIHJldHVybiBzZXRTZWN1cml0eUhlYWRlcnMocmVzcG9uc2UpO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygn4pyFIFdlQ2hhdCDsgqzsmqnsnpAg7KCV67O0IO2ajeuTnSDsmYTro4wnKTtcbiAgICBcbiAgICAvLyDtlITroZztlYQg7KCV67O0IOygleq3nO2ZlFxuICAgIGxldCBub3JtYWxpemVkUHJvZmlsZTtcbiAgICB0cnkge1xuICAgICAgbm9ybWFsaXplZFByb2ZpbGUgPSBub3JtYWxpemVXZUNoYXRQcm9maWxlKHVzZXJJbmZvKTtcbiAgICB9IGNhdGNoIChwcm9maWxlRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBXZUNoYXQg7ZSE66Gc7ZWEIOygleq3nO2ZlCDsmKTrpZg6JywgcHJvZmlsZUVycm9yKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdXZUNoYXQg7IKs7Jqp7J6QIOygleuztOulvCDsspjrpqztlZjripQg7KSRIOyYpOulmOqwgCDrsJzsg53tlojsirXri4jri6QuJyB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgICk7XG4gICAgICByZXR1cm4gc2V0U2VjdXJpdHlIZWFkZXJzKHJlc3BvbnNlKTtcbiAgICB9XG4gICAgXG4gICAgLy8gMy4gSldUIO2GoO2BsCDsg53shLEgKFN1cGFiYXNlIOyduOymneyaqSlcbiAgICBsZXQgaWRUb2tlbjtcbiAgICB0cnkge1xuICAgICAgaWRUb2tlbiA9IGF3YWl0IGdlbmVyYXRlSnd0VG9rZW4oe1xuICAgICAgICBzdWI6IG5vcm1hbGl6ZWRQcm9maWxlLmlkLFxuICAgICAgICBuYW1lOiBub3JtYWxpemVkUHJvZmlsZS5uYW1lLFxuICAgICAgICBwaWN0dXJlOiBub3JtYWxpemVkUHJvZmlsZS5hdmF0YXIsXG4gICAgICAgIHByb3ZpZGVyOiAnd2VjaGF0JyxcbiAgICAgICAgd2VjaGF0X29wZW5pZDogbm9ybWFsaXplZFByb2ZpbGUuaWRcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGp3dEVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgSldUIO2GoO2BsCDsg53shLEg7Jik66WYOicsIGp3dEVycm9yKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICfsnbjspp0g7Yag7YGwIOyDneyEseyXkCDsi6TtjKjtlojsirXri4jri6QuJyB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgICk7XG4gICAgICByZXR1cm4gc2V0U2VjdXJpdHlIZWFkZXJzKHJlc3BvbnNlKTtcbiAgICB9XG4gICAgXG4gICAgLy8gNC4gU3VwYWJhc2Xsl5Ag7IKs7Jqp7J6QIOuNsOydtO2EsCDsoIDsnqUgKOyEoO2DnSDsgqztla0pXG4gICAgdHJ5IHtcbiAgICAgIC8vIFN1cGFiYXNlIOyCrOyaqeyekOqwgCDsnbTrr7gg7KG07J6s7ZWY64qU7KeAIO2ZleyduCAob3BlbklkIOq4sOykgClcbiAgICAgIGNvbnN0IHsgZGF0YTogZXhpc3RpbmdVc2VycyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3VzZXJfcHJvZmlsZXMnKVxuICAgICAgICAuc2VsZWN0KCdpZCcpXG4gICAgICAgIC5lcSgncHJvdmlkZXInLCAnd2VjaGF0JylcbiAgICAgICAgLmVxKCdwcm92aWRlcl9pZCcsIG5vcm1hbGl6ZWRQcm9maWxlLmlkKTtcbiAgICAgIFxuICAgICAgaWYgKGV4aXN0aW5nVXNlcnMgJiYgZXhpc3RpbmdVc2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIOq4sOyhtCDsgqzsmqnsnpDqsIAg7J6I7Jy866m0IO2UhOuhnO2VhCDsl4XrjbDsnbTtirhcbiAgICAgICAgY29uc3QgdXNlcklkID0gZXhpc3RpbmdVc2Vyc1swXS5pZDtcbiAgICAgICAgXG4gICAgICAgIGF3YWl0IHN1cGFiYXNlLmZyb20oJ3VzZXJfcHJvZmlsZXMnKS51cGRhdGUoe1xuICAgICAgICAgIGRpc3BsYXlfbmFtZTogbm9ybWFsaXplZFByb2ZpbGUubmFtZSxcbiAgICAgICAgICBhdmF0YXJfdXJsOiBub3JtYWxpemVkUHJvZmlsZS5hdmF0YXIsXG4gICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgIH0pLmVxKCdpZCcsIHVzZXJJZCk7XG4gICAgICAgIFxuICAgICAgICBub3JtYWxpemVkUHJvZmlsZS51c2VySWQgPSB1c2VySWQ7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUg6riw7KG0IFdlQ2hhdCDsgqzsmqnsnpAg7ZSE66Gc7ZWEIOyXheuNsOydtO2KuCDsmYTro4wnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gU3VwYWJhc2Ug7IKs7Jqp7J6QIOyXheuNsOydtO2KuCDsi6TtjKggKOqzhOyGjSDsp4TtlokpOicsIGVycm9yKTtcbiAgICAgIC8vIOyCrOyaqeyekCDsl4XrjbDsnbTtirgg7Iuk7Yyo7ZW064+EIOqzhOyGjSDsp4TtlolcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcHJvY2Vzc2luZ1RpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgIGNvbnNvbGUubG9nKCfinIUgV2VDaGF0IEFQSSDsspjrpqwg7JmE66OMOicsIHtcbiAgICAgIHByb2Nlc3NpbmdUaW1lOiBgJHtwcm9jZXNzaW5nVGltZX1tc2AsXG4gICAgICBvcGVuSWQ6IG5vcm1hbGl6ZWRQcm9maWxlLmlkLnN1YnN0cmluZygwLCA4KSArICcuLi4nIC8vIOuztOyViOyDgSDsnbzrtoDrp4wg66Gc6re4XG4gICAgfSk7XG4gICAgXG4gICAgY29uc3QgcmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgdG9rZW5zOiB7XG4gICAgICAgIGFjY2Vzc190b2tlbjogYWNjZXNzVG9rZW4sXG4gICAgICAgIHJlZnJlc2hfdG9rZW46IHJlZnJlc2hUb2tlbixcbiAgICAgICAgZXhwaXJlc19pbjogZXhwaXJlc0luLFxuICAgICAgICBpZF90b2tlbjogaWRUb2tlblxuICAgICAgfSxcbiAgICAgIHByb2ZpbGU6IG5vcm1hbGl6ZWRQcm9maWxlLFxuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgcHJvY2Vzc2luZ1RpbWUsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8g66CI7J207Yq4IOumrOuvuO2MhSDtl6TrjZQg7LaU6rCAXG4gICAgcmVzcG9uc2UuaGVhZGVycy5zZXQoJ1gtUmF0ZUxpbWl0LUxpbWl0JywgUkFURV9MSU1JVF9NQVhfUkVRVUVTVFMudG9TdHJpbmcoKSk7XG4gICAgcmVzcG9uc2UuaGVhZGVycy5zZXQoJ1gtUmF0ZUxpbWl0LVJlbWFpbmluZycsIHJhdGVMaW1pdFJlc3VsdC5yZW1haW5pbmcudG9TdHJpbmcoKSk7XG4gICAgcmVzcG9uc2UuaGVhZGVycy5zZXQoJ1gtUmF0ZUxpbWl0LVJlc2V0JywgcmF0ZUxpbWl0UmVzdWx0LnJlc2V0VGltZS50b1N0cmluZygpKTtcbiAgICBcbiAgICByZXR1cm4gc2V0U2VjdXJpdHlIZWFkZXJzKHJlc3BvbnNlKTtcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zdCBwcm9jZXNzaW5nVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG4gICAgY29uc29sZS5lcnJvcign4p2MIFdlQ2hhdCBBUEkg7JqU7LKtIOyymOumrCDspJEg7JiI7IOB7LmYIOuqu+2VnCDsmKTrpZg6Jywge1xuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSxcbiAgICAgIHN0YWNrOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiB1bmRlZmluZWQsXG4gICAgICBwcm9jZXNzaW5nVGltZTogYCR7cHJvY2Vzc2luZ1RpbWV9bXNgXG4gICAgfSk7XG4gICAgXG4gICAgY29uc3QgcmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgXG4gICAgICAgIGVycm9yOiAn7ISc67KEIOuCtOu2gCDsmKTrpZjqsIAg67Cc7IOd7ZaI7Iq164uI64ukLiDsnqDsi5wg7ZuEIOuLpOyLnCDsi5zrj4TtlbTso7zshLjsmpQuJyxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICAgIFxuICAgIHJldHVybiBzZXRTZWN1cml0eUhlYWRlcnMocmVzcG9uc2UpO1xuICB9XG59XG5cbi8qKlxuICogV2VDaGF0IO2GoO2BsCDqsLHsi6AgQVBJXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQVVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgXG4gIHRyeSB7XG4gICAgLy8g7YG065287J207Ja47Yq4IElQIOyjvOyGjCDqsIDsoLjsmKTquLAgKOugiOydtO2KuCDrpqzrr7jtjIXsmqkpXG4gICAgY29uc3QgY2xpZW50SXAgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd4LWZvcndhcmRlZC1mb3InKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3QuaGVhZGVycy5nZXQoJ3gtcmVhbC1pcCcpIHx8IFxuICAgICAgICAgICAgICAgICAgICAgJ3Vua25vd24nO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCfwn5SNIFdlQ2hhdCDthqDtgbAg6rCx7IugIOyalOyyrSDsi5zsnpE6Jywge1xuICAgICAgaXA6IGNsaWVudElwLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9KTtcbiAgICBcbiAgICAvLyDroIjsnbTtirgg66as66+47YyFIOqygOyCrFxuICAgIGNvbnN0IHJhdGVMaW1pdFJlc3VsdCA9IGNoZWNrUmF0ZUxpbWl0KGNsaWVudElwKTtcbiAgICBpZiAoIXJhdGVMaW1pdFJlc3VsdC5hbGxvd2VkKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyDthqDtgbAg6rCx7IugIOugiOydtO2KuCDrpqzrr7jtirgg7LSI6rO8OicsIHsgaXA6IGNsaWVudElwIH0pO1xuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IFxuICAgICAgICAgIGVycm9yOiAn7JqU7LKt7J20IOuEiOustCDsnpDso7wg67Cc7IOd7ZaI7Iq164uI64ukLiDsnqDsi5wg7ZuEIOuLpOyLnCDsi5zrj4TtlbTso7zshLjsmpQuJyxcbiAgICAgICAgICByZXRyeUFmdGVyOiBNYXRoLmNlaWwoKHJhdGVMaW1pdFJlc3VsdC5yZXNldFRpbWUgLSBEYXRlLm5vdygpKSAvIDEwMDApXG4gICAgICAgIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MjkgfVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgcmVzcG9uc2UuaGVhZGVycy5zZXQoJ1JldHJ5LUFmdGVyJywgTWF0aC5jZWlsKChyYXRlTGltaXRSZXN1bHQucmVzZXRUaW1lIC0gRGF0ZS5ub3coKSkgLyAxMDAwKS50b1N0cmluZygpKTtcbiAgICAgIHJldHVybiBzZXRTZWN1cml0eUhlYWRlcnMocmVzcG9uc2UpO1xuICAgIH1cbiAgICBcbiAgICAvLyDsmpTssq0g67O466y4IO2MjOyLsVxuICAgIGxldCByZXF1ZXN0Qm9keTtcbiAgICB0cnkge1xuICAgICAgcmVxdWVzdEJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICB9IGNhdGNoIChwYXJzZUVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwg7Yag7YGwIOqwseyLoCDsmpTssq0g67O466y4IO2MjOyLsSDsmKTrpZg6JywgcGFyc2VFcnJvcik7XG4gICAgICBjb25zdCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAn7J6Y66q765CcIEpTT04g7ZiV7Iud7J6F64uI64ukLicgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgICAgcmV0dXJuIHNldFNlY3VyaXR5SGVhZGVycyhyZXNwb25zZSk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHsgcmVmcmVzaF90b2tlbiB9ID0gcmVxdWVzdEJvZHk7XG4gICAgXG4gICAgLy8g7J6F66ClIOqygOymnVxuICAgIGlmICghcmVmcmVzaF90b2tlbiB8fCB0eXBlb2YgcmVmcmVzaF90b2tlbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICfrpqztlITroIjsi5wg7Yag7YGw7J20IO2VhOyalO2VqeuLiOuLpC4nIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICAgIHJldHVybiBzZXRTZWN1cml0eUhlYWRlcnMocmVzcG9uc2UpO1xuICAgIH1cbiAgICBcbiAgICBpZiAocmVmcmVzaF90b2tlbi5sZW5ndGggPCAxMCB8fCByZWZyZXNoX3Rva2VuLmxlbmd0aCA+IDUxMikge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ+ycoO2aqO2VmOyngCDslYrsnYAg66as7ZSE66CI7IucIO2GoO2BsCDtmJXsi53snoXri4jri6QuJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgICByZXR1cm4gc2V0U2VjdXJpdHlIZWFkZXJzKHJlc3BvbnNlKTtcbiAgICB9XG4gICAgXG4gICAgLy8gV2VDaGF0IEFQSSDshKTsoJVcbiAgICBjb25zdCBhcHBJZCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1dFQ0hBVF9BUFBfSUQ7XG4gICAgXG4gICAgaWYgKCFhcHBJZCkge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFdlQ2hhdCDslbEgSUQg7ZmY6rK9IOuzgOyImCDriITrnb0nKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdXZUNoYXQg7ISc67mE7Iqk6rCAIOyYrOuwlOultOqyjCDshKTsoJXrkJjsp4Ag7JWK7JWY7Iq164uI64ukLicgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApO1xuICAgICAgcmV0dXJuIHNldFNlY3VyaXR5SGVhZGVycyhyZXNwb25zZSk7XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCfwn5SNIFdlQ2hhdCDthqDtgbAg6rCx7IugIEFQSSDtmLjstpwnKTtcbiAgICBcbiAgICAvLyDthqDtgbAg6rCx7IugIOyalOyyrVxuICAgIGNvbnN0IHJlZnJlc2hVcmwgPSBgaHR0cHM6Ly9hcGkud2VpeGluLnFxLmNvbS9zbnMvb2F1dGgyL3JlZnJlc2hfdG9rZW4/YXBwaWQ9JHtlbmNvZGVVUklDb21wb25lbnQoYXBwSWQpfSZncmFudF90eXBlPXJlZnJlc2hfdG9rZW4mcmVmcmVzaF90b2tlbj0ke2VuY29kZVVSSUNvbXBvbmVudChyZWZyZXNoX3Rva2VuKX1gO1xuICAgIFxuICAgIGxldCByZWZyZXNoUmVzcG9uc2U7XG4gICAgdHJ5IHtcbiAgICAgIHJlZnJlc2hSZXNwb25zZSA9IGF3YWl0IGZldGNoKHJlZnJlc2hVcmwsIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ1VzZXItQWdlbnQnOiAnV2VDaGF0LU9BdXRoLVNlcnZlci8xLjAnXG4gICAgICAgIH0sXG4gICAgICAgIC8vIO2DgOyehOyVhOybgyDshKTsoJUgKDEw7LSIKVxuICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQoMTAwMDApXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChmZXRjaEVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgV2VDaGF0IO2GoO2BsCDqsLHsi6Ag64Sk7Yq47JuM7YGsIOyYpOulmDonLCBmZXRjaEVycm9yKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdXZUNoYXQg7ISc67KE7JeQIOyXsOqysO2VoCDsiJgg7JeG7Iq164uI64ukLiDsnqDsi5wg7ZuEIOuLpOyLnCDsi5zrj4TtlbTso7zshLjsmpQuJyB9LFxuICAgICAgICB7IHN0YXR1czogNTAzIH1cbiAgICAgICk7XG4gICAgICByZXR1cm4gc2V0U2VjdXJpdHlIZWFkZXJzKHJlc3BvbnNlKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKCFyZWZyZXNoUmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBXZUNoYXQg7Yag7YGwIOqwseyLoCBIVFRQIOyYpOulmDonLCB7XG4gICAgICAgIHN0YXR1czogcmVmcmVzaFJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVmcmVzaFJlc3BvbnNlLnN0YXR1c1RleHRcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IFxuICAgICAgICAgIGVycm9yOiAnV2VDaGF0IO2GoO2BsCDqsLHsi6Ag7JqU7LKt7JeQIOyLpO2MqO2WiOyKteuLiOuLpC4nLFxuICAgICAgICAgIGRldGFpbHM6IGBIVFRQICR7cmVmcmVzaFJlc3BvbnNlLnN0YXR1c306ICR7cmVmcmVzaFJlc3BvbnNlLnN0YXR1c1RleHR9YFxuICAgICAgICB9LFxuICAgICAgICB7IHN0YXR1czogNTAyIH1cbiAgICAgICk7XG4gICAgICByZXR1cm4gc2V0U2VjdXJpdHlIZWFkZXJzKHJlc3BvbnNlKTtcbiAgICB9XG4gICAgXG4gICAgbGV0IHJlZnJlc2hEYXRhO1xuICAgIHRyeSB7XG4gICAgICByZWZyZXNoRGF0YSA9IGF3YWl0IHJlZnJlc2hSZXNwb25zZS5qc29uKCk7XG4gICAgfSBjYXRjaCAocGFyc2VFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFdlQ2hhdCDthqDtgbAg6rCx7IugIOydkeuLtSDtjIzsi7Eg7Jik66WYOicsIHBhcnNlRXJyb3IpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ1dlQ2hhdCDshJzrsoQg7J2R64u17J2EIOyymOumrO2VoCDsiJgg7JeG7Iq164uI64ukLicgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMiB9XG4gICAgICApO1xuICAgICAgcmV0dXJuIHNldFNlY3VyaXR5SGVhZGVycyhyZXNwb25zZSk7XG4gICAgfVxuICAgIFxuICAgIC8vIFdlQ2hhdCBBUEkg7Jik66WYIOyymOumrFxuICAgIGlmIChyZWZyZXNoRGF0YS5lcnJjb2RlKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBoYW5kbGVXZUNoYXRBcGlFcnJvcihyZWZyZXNoRGF0YS5lcnJjb2RlLCByZWZyZXNoRGF0YS5lcnJtc2cpO1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFdlQ2hhdCDthqDtgbAg6rCx7IugIEFQSSDsmKTrpZg6Jywge1xuICAgICAgICBlcnJjb2RlOiByZWZyZXNoRGF0YS5lcnJjb2RlLFxuICAgICAgICBlcnJtc2c6IHJlZnJlc2hEYXRhLmVycm1zZyxcbiAgICAgICAgZnJpZW5kbHlNZXNzYWdlOiBlcnJvck1lc3NhZ2VcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IFxuICAgICAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgICAgY29kZTogcmVmcmVzaERhdGEuZXJyY29kZVxuICAgICAgICB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgICByZXR1cm4gc2V0U2VjdXJpdHlIZWFkZXJzKHJlc3BvbnNlKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcHJvY2Vzc2luZ1RpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgIGNvbnNvbGUubG9nKCfinIUgV2VDaGF0IO2GoO2BsCDqsLHsi6Ag7JmE66OMOicsIHtcbiAgICAgIHByb2Nlc3NpbmdUaW1lOiBgJHtwcm9jZXNzaW5nVGltZX1tc2AsXG4gICAgICBoYXNOZXdUb2tlbjogISFyZWZyZXNoRGF0YS5hY2Nlc3NfdG9rZW5cbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICB0b2tlbnM6IHtcbiAgICAgICAgYWNjZXNzX3Rva2VuOiByZWZyZXNoRGF0YS5hY2Nlc3NfdG9rZW4sXG4gICAgICAgIHJlZnJlc2hfdG9rZW46IHJlZnJlc2hEYXRhLnJlZnJlc2hfdG9rZW4sXG4gICAgICAgIGV4cGlyZXNfaW46IHJlZnJlc2hEYXRhLmV4cGlyZXNfaW4sXG4gICAgICAgIG9wZW5pZDogcmVmcmVzaERhdGEub3BlbmlkXG4gICAgICB9LFxuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgcHJvY2Vzc2luZ1RpbWUsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIHNldFNlY3VyaXR5SGVhZGVycyhyZXNwb25zZSk7XG4gICAgXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc3QgcHJvY2Vzc2luZ1RpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBXZUNoYXQg7Yag7YGwIOqwseyLoCDspJEg7JiI7IOB7LmYIOuqu+2VnCDsmKTrpZg6Jywge1xuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSxcbiAgICAgIHN0YWNrOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiB1bmRlZmluZWQsXG4gICAgICBwcm9jZXNzaW5nVGltZTogYCR7cHJvY2Vzc2luZ1RpbWV9bXNgXG4gICAgfSk7XG4gICAgXG4gICAgY29uc3QgcmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgXG4gICAgICAgIGVycm9yOiAn7ISc67KEIOuCtOu2gCDsmKTrpZjqsIAg67Cc7IOd7ZaI7Iq164uI64ukLiDsnqDsi5wg7ZuEIOuLpOyLnCDsi5zrj4TtlbTso7zshLjsmpQuJyxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICAgIFxuICAgIHJldHVybiBzZXRTZWN1cml0eUhlYWRlcnMocmVzcG9uc2UpO1xuICB9XG59XG5cbi8qKlxuICogT1BUSU9OUyDsmpTssq0g7LKY66asIChDT1JTIHByZWZsaWdodClcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIE9QVElPTlMocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgY29uc3QgcmVzcG9uc2UgPSBuZXcgTmV4dFJlc3BvbnNlKG51bGwsIHsgc3RhdHVzOiAyMDAgfSk7XG4gIHJldHVybiBzZXRTZWN1cml0eUhlYWRlcnMocmVzcG9uc2UpO1xufVxuXG4vKipcbiAqIEpXVCDthqDtgbAg7IOd7ISxIO2VqOyImFxuICoganNvbndlYnRva2VuIOudvOydtOu4jOufrOumrOulvCDsgqzsmqntlZjsl6wg7JWI7KCE7ZWcIO2GoO2BsCDsg53shLFcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVKd3RUb2tlbihwYXlsb2FkOiBhbnkpOiBQcm9taXNlPHN0cmluZz4ge1xuICAvLyBKV1Qg7Iuc7YGs66a/IO2CpCAo7ZmY6rK9IOuzgOyImOyXkOyEnCDqsIDsoLjsmKTqsbDrgpgg6riw67O46rCSIOyCrOyaqSlcbiAgY29uc3Qgand0U2VjcmV0ID0gcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCB8fCBcbiAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5TVVBBQkFTRV9KV1RfU0VDUkVUIHx8IFxuICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIHx8IFxuICAgICAgICAgICAgICAgICAgICdmYWxsYmFjay1zZWNyZXQta2V5JztcbiAgXG4gIGlmIChqd3RTZWNyZXQgPT09ICdmYWxsYmFjay1zZWNyZXQta2V5Jykge1xuICAgIGNvbnNvbGUud2Fybign4pqg77iPIEpXVCDsi5ztgazrpr8g7YKk6rCAIOyEpOygleuQmOyngCDslYrslZjsirXri4jri6QuIOq4sOuzuOqwkuydhCDsgqzsmqntlanri4jri6QuJyk7XG4gIH1cbiAgXG4gIGNvbnN0IG5vdyA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuICBjb25zdCBleHBpcmVzSW4gPSAzNjAwOyAvLyAx7Iuc6rCEXG4gIFxuICBjb25zdCB0b2tlblBheWxvYWQgPSB7XG4gICAgLi4ucGF5bG9hZCxcbiAgICBpYXQ6IG5vdyxcbiAgICBleHA6IG5vdyArIGV4cGlyZXNJbixcbiAgICBpc3M6ICdwaWNuaWMtd2ViLXdlY2hhdCcsXG4gICAgYXVkOiAncGljbmljLXdlYicsXG4gICAganRpOiBgd2VjaGF0XyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMil9YFxuICB9O1xuICBcbiAgdHJ5IHtcbiAgICByZXR1cm4gand0LnNpZ24odG9rZW5QYXlsb2FkLCBqd3RTZWNyZXQsIHtcbiAgICAgIGFsZ29yaXRobTogJ0hTMjU2J1xuICAgIH0pO1xuICB9IGNhdGNoIChqd3RFcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBKV1Qg7Yag7YGwIOyDneyEsSDsi6TtjKg6Jywgand0RXJyb3IpO1xuICAgIHRocm93IG5ldyBFcnJvcignSldUIO2GoO2BsCDsg53shLHsl5Ag7Iuk7Yyo7ZaI7Iq164uI64ukLicpO1xuICB9XG59ICJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUFvdEJzQkEsT0FBTyxXQUFBQSxDQUFBO0lBQUE7SUFBQUMsY0FBQSxHQUFBQyxDQUFBO0lBQUFELGNBQUEsR0FBQUUsQ0FBQTtXQUFQSCxPQUFBOztFQXZqQkFJLElB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QUFDMEcsVUFBVTtFQUFBO0VBQUEsQ0FBQWhKLGNBQUEsR0FBQWUsQ0FBQSxXQUN2QnNCLE9BQUEsQ0FBUUMsR0FBRyxDQUFDMkcsbUJBQW1CO0VBQUE7RUFBQSxDQUFBakosY0FBQSxHQUFBZSxDQUFBLFdBQy9Cc0IsT0FBQSxDQUFRQyxHQUFHLENBQUM0Ryw2QkFBNkI7RUFBQTtFQUFBLENBQUFsSixjQUFBLEdBQUFlLENBQUEsV0FDekM7RUFBQTtFQUFBZixjQUFBLEdBQUFFLENBQUE7RUFFakIsSUFBSTZJLFNBQUEsS0FBYyx1QkFBdUI7SUFBQTtJQUFBL0ksY0FBQSxHQUFBZSxDQUFBO0lBQUFmLGNBQUEsR0FBQUUsQ0FBQTtJQUN2Q3lDLE9BQUEsQ0FBUU8sSUFBSSxDQUFDO0VBQ2Y7RUFBQTtFQUFBO0lBQUFsRCxjQUFBLEdBQUFlLENBQUE7RUFBQTtFQUVBLE1BQU1KLEdBQUE7RUFBQTtFQUFBLENBQUFYLGNBQUEsR0FBQUUsQ0FBQSxTQUFNcUQsSUFBQSxDQUFLNEYsS0FBSyxDQUFDdkksSUFBQSxDQUFLRCxHQUFHLEtBQUs7RUFDcEMsTUFBTW9GLFNBQUE7RUFBQTtFQUFBLENBQUEvRixjQUFBLEdBQUFFLENBQUEsU0FBWSxPQUFNO0VBRXhCLE1BQU1rSixZQUFBO0VBQUE7RUFBQSxDQUFBcEosY0FBQSxHQUFBRSxDQUFBLFNBQWU7SUFDbkIsR0FBRzRJLE9BQU87SUFDVk8sR0FBQSxFQUFLMUksR0FBQTtJQUNMMkksR0FBQSxFQUFLM0ksR0FBQSxHQUFNb0YsU0FBQTtJQUNYd0QsR0FBQSxFQUFLO0lBQ0xDLEdBQUEsRUFBSztJQUNMQyxHQUFBLEVBQUssVUFBVTdJLElBQUEsQ0FBS0QsR0FBRyxNQUFNNEMsSUFBQSxDQUFLbUcsTUFBTSxHQUFHMUgsUUFBUSxDQUFDLElBQUkrRixTQUFTLENBQUM7RUFDcEU7RUFBQTtFQUFBL0gsY0FBQSxHQUFBRSxDQUFBO0VBRUEsSUFBSTtJQUFBO0lBQUFGLGNBQUEsR0FBQUUsQ0FBQTtJQUNGLE9BQU95SixhQUFBLENBQUFDLE9BQUcsQ0FBQ0MsSUFBSSxDQUFDVCxZQUFBLEVBQWNMLFNBQUEsRUFBVztNQUN2Q2UsU0FBQSxFQUFXO0lBQ2I7RUFDRixFQUFFLE9BQU8zQyxRQUFBLEVBQVU7SUFBQTtJQUFBbkgsY0FBQSxHQUFBRSxDQUFBO0lBQ2pCeUMsT0FBQSxDQUFRbEIsS0FBSyxDQUFDLG1CQUFtQjBGLFFBQUE7SUFBQTtJQUFBbkgsY0FBQSxHQUFBRSxDQUFBO0lBQ2pDLE1BQU0sSUFBSW1JLEtBQUEsQ0FBTTtFQUNsQjtBQUNGIiwiaWdub3JlTGlzdCI6W119