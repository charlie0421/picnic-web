{"version":3,"names":["_default","CurrentTime","initialTime","cov_p4q6v5i3d","b","Date","toISOString","showTimeZone","f","mounted","setMounted","s","_react","useState","currentTime","setCurrentTime","currentLanguage","_languageStore","useLanguageStore","timeZone","changed","_useTimeZoneDetection","useTimeZoneDetection","prevLanguage","useRef","prevTimeZone","useEffect","updateTime","now","locale","_date","getCurrentLocale","formattedTime","_datefns","format","tzCode","getTimeZoneCode","interval","setInterval","current","clearInterval","console","log","_jsxruntime","jsx","className","jsxs"],"sources":["/Users/cheolhyun/Repositories/picnic-web/components/client/vote/common/CurrentTime.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport { format } from 'date-fns';\nimport { useLanguageStore } from '@/stores/languageStore';\nimport { getCurrentLocale, getTimeZoneCode } from '@/utils/date';\nimport { useTimeZoneDetection } from '@/hooks/useTimeZoneDetection';\n\ninterface CurrentTimeProps {\n  initialTime?: string;\n  showTimeZone?: boolean;\n}\n\nconst CurrentTime: React.FC<CurrentTimeProps> = ({\n  initialTime = new Date().toISOString(),\n  showTimeZone = true,\n}) => {\n  const [mounted, setMounted] = useState(false);\n  const [currentTime, setCurrentTime] = useState<string>('');\n  const { currentLanguage } = useLanguageStore();\n  const { timeZone, changed } = useTimeZoneDetection();\n  const prevLanguage = useRef<string>(currentLanguage);\n  const prevTimeZone = useRef<string>(timeZone);\n\n  // Ïª¥Ìè¨ÎÑåÌä∏ ÎßàÏö¥Ìä∏ Ïãú Ï¥àÍ∏∞Ìôî\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  // Ïñ∏Ïñ¥ Î≥ÄÍ≤Ω, ÏãúÍ∞ÑÎåÄ Î≥ÄÍ≤Ω ÎòêÎäî ÎßàÏö¥Ìä∏ Ïãú ÏãúÍ∞Ñ Ìè¨Îß∑ ÏóÖÎç∞Ïù¥Ìä∏\n  useEffect(() => {\n    if (!mounted) return;\n\n    const updateTime = () => {\n      const now = new Date();\n      const locale = getCurrentLocale(currentLanguage);\n      let formattedTime = format(now, 'yyyy.MM.dd (EEE) HH:mm:ss', {\n        locale,\n      });\n\n      // ÏãúÍ∞ÑÎåÄ ÏΩîÎìú Ï∂îÍ∞Ä\n      if (showTimeZone) {\n        const tzCode = getTimeZoneCode(timeZone, currentLanguage);\n        formattedTime += ` ${tzCode}`;\n      }\n\n      setCurrentTime(formattedTime);\n    };\n\n    // Ï¶âÏãú Ìïú Î≤à ÏóÖÎç∞Ïù¥Ìä∏\n    updateTime();\n\n    // 1Ï¥àÎßàÎã§ ÏóÖÎç∞Ïù¥Ìä∏\n    const interval = setInterval(updateTime, 1000);\n\n    // Ïñ∏Ïñ¥ Î≥ÄÍ≤Ω Í∏∞Î°ù\n    prevLanguage.current = currentLanguage;\n    prevTimeZone.current = timeZone;\n\n    return () => clearInterval(interval);\n  }, [mounted, currentLanguage, timeZone, showTimeZone]);\n\n  // ÏãúÍ∞ÑÎåÄ Î≥ÄÍ≤Ω Í∞êÏßÄ Ïãú ÏãúÍ∞ÅÏ†Å ÌîºÎìúÎ∞±\n  useEffect(() => {\n    if (changed) {\n      console.log('üåç ÏãúÍ∞ÑÎåÄ Î≥ÄÍ≤ΩÎê®:', timeZone);\n    }\n  }, [changed, timeZone]);\n\n  if (!mounted) return null;\n\n  return (\n    <div className='flex items-center'>\n      <div className='px-3 py-1.5'>\n        <span \n          className={`font-mono font-medium text-xs sm:text-sm transition-colors duration-300 ${\n            changed ? 'text-blue-600' : 'text-gray-700'\n          }`}\n        >\n          {currentTime}\n        </span>\n        {changed && (\n          <span className=\"ml-2 text-xs text-blue-500 animate-pulse\">\n            ÏãúÍ∞ÑÎåÄ Î≥ÄÍ≤ΩÎê®\n          </span>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default CurrentTime;\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}