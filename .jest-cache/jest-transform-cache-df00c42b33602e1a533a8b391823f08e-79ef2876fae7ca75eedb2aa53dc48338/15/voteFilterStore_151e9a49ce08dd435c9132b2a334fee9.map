{"version":3,"names":["VOTE_AREAS","cov_52ym2qjfv","f","s","VOTE_STATUS","useVoteFilterStore","UPCOMING","ONGOING","COMPLETED","ALL","KPOP","MUSICAL","DEFAULT_STATUS","DEFAULT_AREA","isValidVoteStatus","value","Object","values","includes","isValidVoteArea","_zustand","create","_middleware","persist","set","get","selectedStatus","selectedArea","setSelectedStatus","status","b","console","warn","setSelectedArea","area","resetFilters","log","validateAndFixState","state","hasInvalidState","newState","name","onRehydrateStorage"],"sources":["/Users/cheolhyun/Repositories/picnic-web/stores/voteFilterStore.ts"],"sourcesContent":["import { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\n\nexport const VOTE_STATUS = {\n  UPCOMING: 'upcoming',\n  ONGOING: 'ongoing',\n  COMPLETED: 'completed',\n} as const;\n\nexport const VOTE_AREAS = {\n  ALL: 'all',\n  KPOP: 'kpop',\n  MUSICAL: 'musical',\n} as const;\n\nexport type VoteStatus = (typeof VOTE_STATUS)[keyof typeof VOTE_STATUS];\nexport type VoteArea = (typeof VOTE_AREAS)[keyof typeof VOTE_AREAS];\n\n// 기본값 정의\nconst DEFAULT_STATUS: VoteStatus = VOTE_STATUS.ONGOING;\nconst DEFAULT_AREA: VoteArea = VOTE_AREAS.ALL;\n\n// 상태 검증 함수\nconst isValidVoteStatus = (value: any): value is VoteStatus => {\n  return Object.values(VOTE_STATUS).includes(value);\n};\n\nconst isValidVoteArea = (value: any): value is VoteArea => {\n  return Object.values(VOTE_AREAS).includes(value);\n};\n\ninterface VoteFilterState {\n  selectedStatus: VoteStatus;\n  selectedArea: VoteArea;\n  setSelectedStatus: (status: VoteStatus) => void;\n  setSelectedArea: (area: VoteArea) => void;\n  resetFilters: () => void;\n  validateAndFixState: () => void;\n}\n\nexport const useVoteFilterStore = create<VoteFilterState>()(\n  persist(\n    (set, get) => ({\n      selectedStatus: DEFAULT_STATUS,\n      selectedArea: DEFAULT_AREA,\n      setSelectedStatus: (status) => {\n        if (isValidVoteStatus(status)) {\n          set({ selectedStatus: status });\n        } else {\n          console.warn('[VoteFilterStore] Invalid status provided:', status, 'Using default:', DEFAULT_STATUS);\n          set({ selectedStatus: DEFAULT_STATUS });\n        }\n      },\n      setSelectedArea: (area) => {\n        if (isValidVoteArea(area)) {\n          set({ selectedArea: area });\n        } else {\n          console.warn('[VoteFilterStore] Invalid area provided:', area, 'Using default:', DEFAULT_AREA);\n          set({ selectedArea: DEFAULT_AREA });\n        }\n      },\n      resetFilters: () => {\n        set({ \n          selectedStatus: DEFAULT_STATUS, \n          selectedArea: DEFAULT_AREA \n        });\n        console.log('[VoteFilterStore] Filters reset to default values');\n      },\n      validateAndFixState: () => {\n        const state = get();\n        let hasInvalidState = false;\n        const newState: Partial<{ selectedStatus: VoteStatus; selectedArea: VoteArea }> = {};\n\n        if (!isValidVoteStatus(state.selectedStatus)) {\n          newState.selectedStatus = DEFAULT_STATUS;\n          hasInvalidState = true;\n          console.warn('[VoteFilterStore] Invalid selectedStatus detected:', state.selectedStatus, 'Fixed to:', DEFAULT_STATUS);\n        }\n\n        if (!isValidVoteArea(state.selectedArea)) {\n          newState.selectedArea = DEFAULT_AREA;\n          hasInvalidState = true;\n          console.warn('[VoteFilterStore] Invalid selectedArea detected:', state.selectedArea, 'Fixed to:', DEFAULT_AREA);\n        }\n\n        if (hasInvalidState) {\n          set(newState);\n          console.log('[VoteFilterStore] State validation completed with fixes');\n        }\n      },\n    }),\n    {\n      name: 'vote-filter-storage',\n      onRehydrateStorage: () => (state) => {\n        // localStorage에서 복원된 후 상태 검증 실행\n        if (state) {\n          state.validateAndFixState();\n        }\n      },\n    }\n  )\n); "],"mappings":"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","ignoreList":[]}