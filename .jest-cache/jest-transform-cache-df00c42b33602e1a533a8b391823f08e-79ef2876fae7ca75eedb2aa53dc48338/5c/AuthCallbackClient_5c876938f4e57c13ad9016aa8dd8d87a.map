{"version":3,"names":["AuthCallbackClient","cov_1z11zxppgz","s","useSafeGlobalLoading","f","context","_react","useContext","_GlobalLoadingContext","GlobalLoadingContext","b","console","warn","isLoading","setIsLoading","loading","log","debugLog","message","data","process","env","NODE_ENV","debugError","error","provider","router","_navigation","useRouter","searchParams","useSearchParams","mounted","setMounted","useState","setError","isProcessing","setIsProcessing","processingStep","setProcessingStep","processedRef","useRef","useEffect","event","CustomEvent","detail","reason","window","dispatchEvent","setTimeout","immediateLoadingBar","document","getElementById","remove","minimumLoadingTime","startTime","Date","now","ensureMinimumLoading","callback","elapsed","remainingTime","Math","max","current","handleOAuthCallback","code","get","oauthError","Error","substring","appleParams","user","idToken","state","id_token","hasUser","hasIdToken","hasState","apiUrl","currentHost","location","hostname","controller","AbortController","timeoutId","abort","response","fetch","method","headers","body","JSON","stringify","signal","clearTimeout","ok","errorData","json","catch","status","success","syncResult","Promise","allSettled","credentials","AbortSignal","timeout","resolve","then","localStorage","setItem","removeItem","returnTo","returnUrl","_authredirect","handlePostLoginRedirect","undefined","handleBeforeUnload","addEventListener","removeEventListener","href","expectedPath","URL","origin","pathname","reload","err","push","_jsxruntime","jsx","className","jsxs","_image","default","src","alt","width","height","priority"],"sources":["/Users/cheolhyun/Repositories/picnic-web/components/client/auth/AuthCallback/AuthCallbackClient.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useRef, useContext } from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport Image from 'next/image';\nimport { handlePostLoginRedirect } from '@/utils/auth-redirect';\nimport { GlobalLoadingContext } from '@/contexts/GlobalLoadingContext';\n\ninterface AuthCallbackClientProps {\n  provider?: string;\n}\n\n// GlobalLoadingContextÎ•º ÏïàÏ†ÑÌïòÍ≤å ÏÇ¨Ïö©ÌïòÎäî ÌõÖ\nconst useSafeGlobalLoading = () => {\n  const context = useContext(GlobalLoadingContext);\n  if (context) {\n    return context;\n  }\n\n  // GlobalLoadingProviderÍ∞Ä ÏóÜÎäî Í≤ΩÏö∞ Îπà Ìï®Ïàò Î∞òÌôò\n  console.warn('GlobalLoadingProviderÍ∞Ä Ï†úÍ≥µÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§. ÎåÄÏ≤¥ Íµ¨ÌòÑÏùÑ ÏÇ¨Ïö©Ìï©ÎãàÎã§.');\n  return {\n    isLoading: false,\n    setIsLoading: (loading: boolean) => {\n      console.log('GlobalLoading ÏÉÅÌÉú:', loading);\n    },\n  };\n};\n\n// Í∞úÎ∞ú ÌôòÍ≤ΩÏóêÏÑúÎßå Î°úÍ∑∏ Ï∂úÎ†•\nconst debugLog = (message: string, data?: any) => {\n  if (process.env.NODE_ENV === 'development') {\n    console.log(message, data || '');\n  }\n};\n\nconst debugError = (message: string, data?: any) => {\n  if (process.env.NODE_ENV === 'development') {\n    console.error(message, data || '');\n  }\n};\n\nexport default function AuthCallbackClient({\n  provider,\n}: AuthCallbackClientProps) {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const { setIsLoading } = useSafeGlobalLoading();\n  const [mounted, setMounted] = useState(false); // ÌïòÏù¥ÎìúÎ†àÏù¥ÏÖò ÏôÑÎ£å ÌôïÏù∏\n  const [error, setError] = useState<string | null>(null);\n  const [isProcessing, setIsProcessing] = useState(true);\n  const [processingStep, setProcessingStep] = useState<string>('Ïù∏Ï¶ù Ï†ïÎ≥¥Î•º ÌôïÏù∏ÌïòÍ≥† ÏûàÏäµÎãàÎã§...');\n  \n  // üîß Ï§ëÎ≥µ Ï≤òÎ¶¨ Î∞©ÏßÄ\n  const processedRef = useRef(false);\n\n  // üîß ÌïòÏù¥ÎìúÎ†àÏù¥ÏÖò ÏôÑÎ£å ÌôïÏù∏\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  useEffect(() => {\n    // mountedÍ∞Ä falseÎ©¥ ÏïÑÏßÅ ÌïòÏù¥ÎìúÎ†àÏù¥ÏÖòÏù¥ ÏôÑÎ£åÎêòÏßÄ ÏïäÏïòÏúºÎØÄÎ°ú ÎåÄÍ∏∞\n    if (!mounted) return;\n\n    // üöÄ Ï†ÑÏó≠ Î°úÎî©Î∞î ÏãúÏûë (Ïª§Ïä§ÌÖÄ Ïù¥Î≤§Ìä∏ + Ïª®ÌÖçÏä§Ìä∏ Ïù¥Ï§ë Î≥¥Ïû•)\n    setIsLoading(true);\n    \n    // Ïª§Ïä§ÌÖÄ Ïù¥Î≤§Ìä∏Î°úÎèÑ Ï†ÑÏó≠ Î°úÎî©Î∞î ÏãúÏûë (Ïù¥Ï§ë Î≥¥Ïû•)\n    try {\n      const event = new CustomEvent('startGlobalLoading', { detail: { reason: 'auth-callback-client' } });\n      window.dispatchEvent(event);\n      debugLog('üîÑ [AuthCallback] Ï†ÑÏó≠ Î°úÎî©Î∞î ÏãúÏûë (Ïª®ÌÖçÏä§Ìä∏ + Ïù¥Î≤§Ìä∏)');\n    } catch (error) {\n      debugLog('üîÑ [AuthCallback] Ï†ÑÏó≠ Î°úÎî©Î∞î ÏãúÏûë (Ïª®ÌÖçÏä§Ìä∏Îßå)', error);\n    }\n    \n    // üóëÔ∏è Ï¶âÏãú Î°úÎî©Î∞î Ï†úÍ±∞ (Ï†ÑÏó≠ Î°úÎî©Î∞îÎ°ú ÎåÄÏ≤¥)\n    setTimeout(() => {\n      const immediateLoadingBar = document.getElementById('oauth-loading');\n      if (immediateLoadingBar) {\n        debugLog('üóëÔ∏è [AuthCallback] Ï¶âÏãú Î°úÎî©Î∞î Ï†úÍ±∞ (Ï†ÑÏó≠ Î°úÎî©Î∞îÎ°ú ÎåÄÏ≤¥)');\n        immediateLoadingBar.remove();\n      }\n    }, 100);\n    \n    // üîß ÏµúÏÜå Î°úÎî© ÏãúÍ∞Ñ Î≥¥Ïû• (ÏÇ¨Ïö©ÏûêÍ∞Ä Î°úÎî© ÏÉÅÌÉúÎ•º Ïù∏ÏßÄÌï† Ïàò ÏûàÎèÑÎ°ù)\n    const minimumLoadingTime = 1200; // 800ms ‚Üí 1200msÎ°ú ÎäòÎ¶º (Îçî ÌôïÏã§Ìïú Î°úÎî© Í≤ΩÌóò)\n    const startTime = Date.now();\n\n    const ensureMinimumLoading = async (callback: () => void) => {\n      const elapsed = Date.now() - startTime;\n      const remainingTime = Math.max(0, minimumLoadingTime - elapsed);\n      \n      if (remainingTime > 0) {\n        debugLog(`üîÑ [AuthCallback] ÏµúÏÜå Î°úÎî© ÏãúÍ∞Ñ Î≥¥Ïû•: ${remainingTime}ms ÎåÄÍ∏∞`);\n        setTimeout(callback, remainingTime);\n      } else {\n        callback();\n      }\n    };\n\n    // üö´ Ï§ëÎ≥µ Ï≤òÎ¶¨ Î∞©ÏßÄ\n    if (processedRef.current) {\n      return;\n    }\n    processedRef.current = true;\n    \n    debugLog('üîç [AuthCallback] OAuth ÏΩúÎ∞± Ï≤òÎ¶¨ ÏãúÏûë');\n\n    const handleOAuthCallback = async () => {\n      try {\n        setProcessingStep('OAuth ÏΩîÎìúÎ•º ÌôïÏù∏ÌïòÍ≥† ÏûàÏäµÎãàÎã§...');\n        \n        // OAuth ÏΩîÎìú ÌôïÏù∏\n        const code = searchParams?.get('code');\n        const oauthError = searchParams?.get('error');\n\n        if (oauthError) {\n          throw new Error(`OAuth Ïò§Î•ò: ${oauthError}`);\n        }\n\n        if (!code) {\n          throw new Error('OAuth ÏΩîÎìúÍ∞Ä ÏóÜÏäµÎãàÎã§');\n        }\n\n        debugLog('üîê [AuthCallback] OAuth ÏΩîÎìú Î∞úÍ≤¨:', { code: code.substring(0, 10) + '...' });\n        \n        // Apple ÌäπÌôî ÌååÎùºÎØ∏ÌÑ∞ ÏàòÏßë\n        let appleParams: Record<string, string> = {};\n        if (provider === 'apple') {\n          const user = searchParams?.get('user');\n          const idToken = searchParams?.get('id_token');\n          const state = searchParams?.get('state');\n          \n          if (user) appleParams.user = user;\n          if (idToken) appleParams.id_token = idToken;\n          if (state) appleParams.state = state;\n          \n          debugLog('üçé [AuthCallback] Apple ÌäπÌôî ÌååÎùºÎØ∏ÌÑ∞ ÏàòÏßë:', {\n            hasUser: !!user,\n            hasIdToken: !!idToken,\n            hasState: !!state\n          });\n        }\n        \n        setProcessingStep('ÏÑúÎ≤ÑÏóêÏÑú Ïù∏Ï¶ùÏùÑ Ï≤òÎ¶¨ÌïòÍ≥† ÏûàÏäµÎãàÎã§...');\n        debugLog('üîß [OAuth] ÏÑúÎ≤Ñ APIÎ°ú ÌÜ†ÌÅ∞ ÍµêÌôò ÏãúÎèÑ (ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ Î¨¥ÌïúÎåÄÍ∏∞ ÌöåÌîº)');\n        \n        // API ÎùºÏö∞Ìä∏Î•º ÌÜµÌïú ÏÑúÎ≤ÑÏÇ¨Ïù¥Îìú Ï≤òÎ¶¨ (Î™®Îì† ÌôòÍ≤Ω ÎèôÏùº)\n        const apiUrl = '/api/auth/exchange-code';\n        \n        debugLog('üîó [AuthCallback] API URL ÏÑ§Ï†ï:', { \n          apiUrl,\n          currentHost: window.location.hostname \n        });\n        \n        // üîß API Ìò∏Ï∂úÏóê ÌÉÄÏûÑÏïÑÏõÉ ÏÑ§Ï†ï (15Ï¥à)\n        const controller = new AbortController();\n        const timeoutId = setTimeout(() => controller.abort(), 15000);\n        \n        const response = await fetch(apiUrl, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            code,\n            provider: provider || 'google',\n            ...appleParams, // Apple ÌäπÌôî ÌååÎùºÎØ∏ÌÑ∞ Ìè¨Ìï®\n          }),\n          signal: controller.signal,\n        });\n\n        clearTimeout(timeoutId);\n\n        if (!response.ok) {\n          const errorData = await response.json().catch(() => ({ error: 'Unknown error' }));\n          throw new Error(errorData.error || `Server error: ${response.status}`);\n        }\n\n        const data = await response.json();\n\n        if (data.success) {\n          setProcessingStep('Ïù∏Ï¶ùÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§. Ïø†ÌÇ§Î•º ÎèôÍ∏∞ÌôîÌïòÍ≥† ÏûàÏäµÎãàÎã§...');\n          debugLog('‚úÖ [AuthCallback] ÏÑúÎ≤ÑÏÇ¨Ïù¥Îìú OAuth Ïù∏Ï¶ù ÏÑ±Í≥µ');\n          \n          // üîß Ïø†ÌÇ§ ÎèôÍ∏∞ÌôîÏôÄ ÏÑ±Í≥µ Ï≤òÎ¶¨Î•º Î≥ëÎ†¨Î°ú Ïã§Ìñâ\n          const [syncResult] = await Promise.allSettled([\n            // Ïø†ÌÇ§ ÎèôÍ∏∞Ìôî (ÌÉÄÏûÑÏïÑÏõÉ 5Ï¥à)\n            fetch('/api/auth/verify', {\n              method: 'GET',\n              credentials: 'include',\n              signal: AbortSignal.timeout(5000),\n            }),\n            // ÏÑ±Í≥µ Ï†ïÎ≥¥ Ï†ÄÏû• (Ï¶âÏãú ÏôÑÎ£å)\n            Promise.resolve().then(() => {\n              if (typeof window !== 'undefined') {\n                localStorage.setItem('auth_success', 'true');\n                localStorage.setItem('auth_provider', provider || 'google');\n                localStorage.removeItem('code_verifier');\n                \n                // üéØ ÏµúÍ∑º Î°úÍ∑∏Ïù∏ Ï†ïÎ≥¥Îäî AuthStoreÏóêÏÑú APIÎ•º ÌÜµÌï¥ ÏûêÎèôÏúºÎ°ú Ï≤òÎ¶¨Îê©ÎãàÎã§\n                // (Ï§ëÎ≥µ Ï≤òÎ¶¨ Î∞©ÏßÄÎ•º ÏúÑÌï¥ Ïó¨Í∏∞ÏÑúÎäî Ï†úÍ±∞Îê®)\n                debugLog('‚ÑπÔ∏è [AuthCallback] ÏµúÍ∑º Î°úÍ∑∏Ïù∏ Ï†ïÎ≥¥Îäî AuthStoreÏóêÏÑú ÏûêÎèô Ï≤òÎ¶¨Îê©ÎãàÎã§');\n              }\n            })\n          ]);\n          \n          // ÎèôÍ∏∞Ìôî Í≤∞Í≥º Î°úÍπÖ (Ïã§Ìå®Ìï¥ÎèÑ ÏßÑÌñâ)\n          if (syncResult.status === 'fulfilled') {\n            debugLog('‚úÖ [AuthCallback] Ïø†ÌÇ§ ÎèôÍ∏∞Ìôî ÏÑ±Í≥µ');\n          } else {\n            debugLog('‚ö†Ô∏è [AuthCallback] Ïø†ÌÇ§ ÎèôÍ∏∞Ìôî Ïã§Ìå®, ÌïòÏßÄÎßå ÏßÑÌñâ:', syncResult.reason);\n          }\n          \n          setProcessingStep('Î°úÍ∑∏Ïù∏Ïù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§. ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô Ï§ë...');\n          \n          // üöÄ Ï¶âÏãú Î°úÎî©Î∞î Ï†úÍ±∞ÌïòÏßÄ ÏïäÍ≥† Î¶¨Îã§Ïù¥Î†âÏÖòÍπåÏßÄ Ïú†ÏßÄ\n          debugLog('‚úÖ [AuthCallback] OAuth Ï≤òÎ¶¨ ÏôÑÎ£å, Î¶¨Îã§Ïù¥Î†âÏÖòÍπåÏßÄ Î°úÎî©Î∞î Ïú†ÏßÄ');\n          \n          // üéØ OAuth ÏÑ±Í≥µ Ïãú Ï†ÅÏ†àÌïú ÌéòÏù¥ÏßÄÎ°ú Î¶¨ÎîîÎ†âÏÖò\n          localStorage.removeItem('auth_return_url'); // Í∏∞Ï°¥ URL Ï†úÍ±∞\n          \n          // returnTo ÌååÎùºÎØ∏ÌÑ∞ ÌôïÏù∏ Î∞è Ï†ÅÏ†àÌïú Î¶¨Îã§Ïù¥Î†âÏÖò URL Í≤∞Ï†ï\n          const returnTo = searchParams?.get('returnTo');\n          const returnUrl = handlePostLoginRedirect(returnTo || undefined);\n\n          debugLog('üöÄ [AuthCallback] OAuth ÏÑ±Í≥µ ‚Üí Î¶¨ÎîîÎ†âÏÖò:', { returnTo, returnUrl });\n          \n          // üîß ÏµúÏÜå Î°úÎî© ÏãúÍ∞Ñ Î≥¥Ïû• ÌõÑ Î¶¨ÎîîÎ†âÏÖò\n          ensureMinimumLoading(() => {\n            debugLog('üîÑ [AuthCallback] ÌôïÏã§Ìïú Ïù∏Ï¶ù ÏÉÅÌÉú Î∞òÏòÅÏùÑ ÏúÑÌï¥ Í∞ïÏ†ú ÏÉàÎ°úÍ≥†Ïπ® Ïã§Ìñâ');\n            // ÏÑ±Í≥µ ÏãúÏóêÎäî Î°úÎî© ÏÉÅÌÉú Ïú†ÏßÄ (Î¶¨Îã§Ïù¥Î†âÏÖò ÏôÑÎ£åÍπåÏßÄ)\n            // setIsProcessing(false); // Ï†úÍ±∞: ÏÑ±Í≥µ ÏãúÏóêÎäî Î°úÎî©Î∞î Ïú†ÏßÄ\n            \n            // Î¶¨ÎîîÎ†âÏÖò ÏßÄÏó∞ ÏãúÍ∞ÑÏùÑ ÎäòÎ†§ÏÑú ÏÇ¨Ïö©ÏûêÍ∞Ä Î°úÎî©Î∞îÎ•º Ï∂©Î∂ÑÌûà Î≥º Ïàò ÏûàÎèÑÎ°ù Ìï®\n            setTimeout(() => {\n              debugLog('üöÄ [AuthCallback] Î°úÎî©Î∞î Ïú†ÏßÄÌïòÎ©¥ÏÑú Î¶¨ÎîîÎ†âÏÖò Ïã§Ìñâ');\n              // Î¶¨ÎîîÎ†âÏÖò ÏßÅÏ†ÑÍπåÏßÄ Î°úÎî©Î∞î Ïú†ÏßÄ\n              \n              // ÌéòÏù¥ÏßÄ Ïñ∏Î°úÎìúÍ∞Ä ÏãúÏûëÎê† ÎïåÍπåÏßÄ Î°úÎî© ÏÉÅÌÉú ÌôïÏã§Ìûà Ïú†ÏßÄ\n              const handleBeforeUnload = () => {\n                debugLog('üì§ [AuthCallback] ÌéòÏù¥ÏßÄ Ïñ∏Î°úÎìú ÏãúÏûë - Î°úÎî©Î∞î Ïú†ÏßÄÎê®');\n              };\n              \n              window.addEventListener('beforeunload', handleBeforeUnload);\n              \n              // üéØ Î¶¨Îã§Ïù¥Î†âÏÖò ÏßÅÏ†ÑÏóê Î°úÎî©Î∞î ÏÉÅÌÉú ÌôïÏù∏ (ÎÑàÎ¨¥ ÏûêÏ£º Ï≤¥ÌÅ¨ÌïòÏßÄ ÏïäÏùå)\n              debugLog('üöÄ [AuthCallback] Î¶¨Îã§Ïù¥Î†âÏÖò Ï§ÄÎπÑ ÏôÑÎ£å, Î°úÎî©Î∞î Í≥ÑÏÜç Ïú†ÏßÄ');\n              \n              // Ïã§Ï†ú Î¶¨ÎîîÎ†âÏÖò Ïã§Ìñâ\n              setTimeout(() => {\n                window.removeEventListener('beforeunload', handleBeforeUnload);\n                debugLog('üöÄ [AuthCallback] Î°úÎî©Î∞î Ïú†ÏßÄÌïòÎ©¥ÏÑú Î¶¨Îã§Ïù¥Î†âÏÖò Ïã§Ìñâ');\n                window.location.href = returnUrl;\n              }, 200);\n              \n              // Ï∂îÍ∞Ä Î≥¥Ìóò: 2Ï¥à ÌõÑÏóêÎèÑ Î¶¨Îã§Ïù¥Î†âÏÖò ÏïàÎêòÎ©¥ Í∞ïÏ†ú ÏÉàÎ°úÍ≥†Ïπ®\n              setTimeout(() => {\n                const expectedPath = new URL(returnUrl, window.location.origin).pathname;\n                if (window.location.pathname !== expectedPath) {\n                  debugLog('üí™ [AuthCallback] Ï∂îÍ∞Ä Î≥¥Ìóò: Í∞ïÏ†ú ÏÉàÎ°úÍ≥†Ïπ®');\n                  window.removeEventListener('beforeunload', handleBeforeUnload);\n                  window.location.reload();\n                }\n              }, 2000);\n            }, 500); // 500msÎ°ú Ï§ÑÏó¨ÏÑú Îçî Îπ†Î•∏ Ï†ÑÌôò\n          });\n          \n          return;\n        }\n\n        throw new Error(data.error || 'ÏÑúÎ≤ÑÏóêÏÑú OAuth Ï≤òÎ¶¨ Ïã§Ìå®');\n\n      } catch (err: any) {\n        debugError('‚ùå [AuthCallback] OAuth Ï≤òÎ¶¨ Ïã§Ìå®:', err);\n        \n        // üîß ÏóêÎü¨ ÏãúÏóêÎèÑ Ï†ÑÏó≠ Î°úÎî©Î∞î Ìï¥Ï†ú (Ïª®ÌÖçÏä§Ìä∏ + Ïù¥Î≤§Ìä∏ Ïù¥Ï§ë Î≥¥Ïû•)\n        setIsLoading(false);\n        \n        // Ïª§Ïä§ÌÖÄ Ïù¥Î≤§Ìä∏Î°úÎèÑ Ï†ÑÏó≠ Î°úÎî©Î∞î Ìï¥Ï†ú (Ïù¥Ï§ë Î≥¥Ïû•)\n        try {\n          const event = new CustomEvent('stopGlobalLoading', { detail: { reason: 'auth-callback-error' } });\n          window.dispatchEvent(event);\n          debugLog('üóëÔ∏è [AuthCallback] ÏóêÎü¨ Î∞úÏÉù, Ï†ÑÏó≠ Î°úÎî©Î∞î Ìï¥Ï†ú (Ïª®ÌÖçÏä§Ìä∏ + Ïù¥Î≤§Ìä∏)');\n        } catch (error) {\n          debugLog('üóëÔ∏è [AuthCallback] ÏóêÎü¨ Î∞úÏÉù, Ï†ÑÏó≠ Î°úÎî©Î∞î Ìï¥Ï†ú (Ïª®ÌÖçÏä§Ìä∏Îßå)', error);\n        }\n        \n        // Ï¶âÏãú Î°úÎî©Î∞îÎèÑ Ï†úÍ±∞ (ÌòπÏãú ÎÇ®ÏïÑÏûàÎã§Î©¥)\n        const immediateLoadingBar = document.getElementById('oauth-loading');\n        if (immediateLoadingBar) {\n          immediateLoadingBar.remove();\n        }\n        \n        ensureMinimumLoading(() => {\n          setError(`Î°úÍ∑∏Ïù∏ Ï§ë Î¨∏Ï†úÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§`);\n          setIsProcessing(false);\n\n          // 2Ï¥à ÌõÑ Î°úÍ∑∏Ïù∏ ÌéòÏù¥ÏßÄÎ°ú Î¶¨ÎîîÎ†âÏÖò\n          setTimeout(() => {\n            debugLog('üîÑ [AuthCallback] Ïò§Î•ò Î∞úÏÉù, Î°úÍ∑∏Ïù∏ ÌéòÏù¥ÏßÄÎ°ú Î¶¨ÎîîÎ†âÏÖò');\n            router.push('/ja/login');\n          }, 2000);\n        });\n      }\n    };\n\n    handleOAuthCallback();\n  }, [mounted]); // mounted ÏùòÏ°¥ÏÑ± Ï∂îÍ∞Ä\n\n  // üîß ÌïòÏù¥ÎìúÎ†àÏù¥ÏÖò ÎØ∏Ïä§Îß§Ïπò Î∞©ÏßÄ: ÏÑúÎ≤ÑÏôÄ ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ÏóêÏÑú ÎèôÏùºÌïú UI Î†åÎçîÎßÅ\n  if (!mounted) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          {/* ÌïòÏù¥ÎìúÎ†àÏù¥ÏÖò ÏôÑÎ£å Ï†ÑÏóêÎäî ÏÑúÎ≤ÑÏôÄ ÎèôÏùºÌïú UI */}\n          <div className=\"relative\">\n            <Image\n              src=\"/images/logo.png\"\n              alt=\"Picnic Loading\"\n              width={80}\n              height={80}\n              priority\n              className=\"w-20 h-20 rounded-full animate-pulse drop-shadow-lg object-cover\"\n            />\n          </div>\n          <div className=\"mt-6 text-gray-600 text-sm font-medium animate-pulse\">\n            Ïù∏Ï¶ù Ï†ïÎ≥¥Î•º ÌôïÏù∏ÌïòÍ≥† ÏûàÏäµÎãàÎã§...\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // UI Î†åÎçîÎßÅ\n  if (error) {\n    return (\n      <div className=\"flex flex-col items-center justify-center min-h-screen bg-gray-50\">\n        <div className=\"bg-white p-8 rounded-lg shadow-md max-w-md w-full text-center\">\n          <div className=\"text-red-500 text-6xl mb-4\">‚ùå</div>\n          <h2 className=\"text-xl font-semibold text-gray-800 mb-4\">Î°úÍ∑∏Ïù∏ Ïã§Ìå®</h2>\n          <p className=\"text-gray-600 mb-6\">{error}</p>\n          <p className=\"text-sm text-gray-500\">Ïû†Ïãú ÌõÑ Î°úÍ∑∏Ïù∏ ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen\">\n      <div className=\"text-center\">\n        {/* Î°úÍ≥† ÏïÑÏù¥ÏΩò with ÌéÑÏä§ Ïï†ÎãàÎ©îÏù¥ÏÖò */}\n        <div className=\"relative\">\n          <Image\n            src=\"/images/logo.png\"\n            alt=\"Picnic Loading\"\n            width={80}\n            height={80}\n            priority\n            className=\"w-20 h-20 rounded-full animate-pulse drop-shadow-lg object-cover\"\n          />\n        </div>\n        \n        {/* Î°úÎî© ÌÖçÏä§Ìä∏ */}\n        <div className=\"mt-6 text-gray-600 text-sm font-medium animate-pulse\">\n          {processingStep}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}