{"version":3,"names":["cov_2akd1p0lrx","actualCoverage","s","VoteList","f","default","_default","votes","propVotes","b","isLoading","propIsLoading","error","propError","onVoteClick","className","hasMore","onLoadMore","loadMoreText","emptyMessage","useStore","t","_useLocaleRouter","useLocaleRouter","currentVote","_voteStore","useVoteStore","vote","finalEmptyMessage","isMounted","setIsMounted","_react","useState","useEffect","length","_jsxruntime","jsxs","jsx","_VoteLoadingSkeleton","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick","window","location","reload","map","_VoteCard","VoteCard","id","disabled"],"sources":["/Users/cheolhyun/Repositories/picnic-web/components/client/vote/list/VoteList.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { Vote } from '@/types/interfaces';\nimport { VoteCard } from './VoteCard';\nimport VoteLoadingSkeleton from './VoteLoadingSkeleton';\nimport { useVoteStore } from '@/stores/voteStore';\nimport { useLocaleRouter } from '@/hooks/useLocaleRouter';\n\nexport interface VoteListProps {\n  votes?: Vote[];\n  isLoading?: boolean;\n  error?: string | null;\n  onVoteClick?: (voteId: string | number) => void;\n  className?: string;\n  hasMore?: boolean;\n  onLoadMore?: () => void;\n  loadMoreText?: string;\n  emptyMessage?: string;\n  // 스토어 사용 여부 (기본값: false - 기존 동작 유지)\n  useStore?: boolean;\n}\n\nexport function VoteList({\n  votes: propVotes = [],\n  isLoading: propIsLoading = false,\n  error: propError = null,\n  onVoteClick,\n  className = '',\n  hasMore = false,\n  onLoadMore,\n  loadMoreText = '더보기',\n  emptyMessage,\n  useStore = false\n}: VoteListProps) {\n  const { t } = useLocaleRouter();\n  \n  // Zustand 스토어 상태\n  const { currentVote } = useVoteStore();\n\n  // 스토어 사용 여부에 따라 상태 결정\n  const votes = useStore && currentVote.vote ? [currentVote.vote] : propVotes;\n  const isLoading = useStore ? currentVote.isLoading : propIsLoading;\n  const error = useStore ? currentVote.error : propError;\n\n  // emptyMessage가 제공되지 않으면 번역된 기본값 사용\n  const finalEmptyMessage = emptyMessage || t('text_vote_no_items');\n\n  const [isMounted, setIsMounted] = useState(false);\n\n  useEffect(() => {\n    setIsMounted(true);\n  }, []);\n\n  // 로딩 상태 처리\n  if (isLoading && votes.length === 0) {\n    return (\n      <div className={`space-y-4 ${className}`}>\n        <VoteLoadingSkeleton />\n        <VoteLoadingSkeleton />\n        <VoteLoadingSkeleton />\n      </div>\n    );\n  }\n\n  // 에러 상태 처리\n  if (error) {\n    return (\n      <div className={`text-center py-12 ${className}`}>\n        <div className=\"mb-4\">\n          <svg\n            className=\"w-16 h-16 text-red-300 mx-auto\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={1.5}\n              d=\"M12 9v2m0 4h.01M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9 9 4.03 9 9z\"\n            />\n          </svg>\n        </div>\n        <p className=\"text-red-500 mb-4\">{error}</p>\n        <button\n          onClick={() => window.location.reload()}\n          className=\"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors\"\n        >\n          다시 시도\n        </button>\n      </div>\n    );\n  }\n\n  // 빈 상태 처리\n  if (votes.length === 0) {\n    return (\n      <div className={className}>\n        <div className=\"flex flex-col items-center justify-center py-16 text-center\">\n          <div className=\"mb-4\">\n            <svg\n              className=\"w-16 h-16 text-gray-300 mx-auto\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={1.5}\n                d=\"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"\n              />\n            </svg>\n          </div>\n          <p className=\"text-gray-500 text-lg\">{finalEmptyMessage}</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={className}>\n      {/* 투표 목록 그리드 */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {votes.map((vote) => (\n          <VoteCard\n            key={vote.id}\n            vote={vote}\n            onClick={() => onVoteClick?.(vote.id)}\n          />\n        ))}\n      </div>\n\n      {/* 더보기 버튼 */}\n      {hasMore && onLoadMore && (\n        <div className=\"flex justify-center mt-8\">\n          <button\n            onClick={onLoadMore}\n            disabled={isLoading}\n            className=\"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 font-medium\"\n          >\n            {isLoading ? (\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n                <span>로딩 중...</span>\n              </div>\n            ) : (\n              loadMoreText\n            )}\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default VoteList; "],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}