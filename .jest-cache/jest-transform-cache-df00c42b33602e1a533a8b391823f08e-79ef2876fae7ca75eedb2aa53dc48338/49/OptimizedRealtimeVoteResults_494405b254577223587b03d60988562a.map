{"version":3,"names":["_default","VoteItemRow","cov_19ug5qoijs","s","_react","memo","item","totalVotes","rank","f","currentLanguage","_languageStore","useLanguageStore","percentage","useMemo","b","vote_total","isWinning","title","artist","name","_strings","hasValidLocalizedString","getLocalizedString","id","groupName","artistGroup","_jsxruntime","jsxs","className","jsx","toLocaleString","toFixed","style","width","Math","max","displayName","LoadingSkeleton","Array","map","_","index","ErrorDisplay","error","onRetry","message","onClick","PerformanceMonitoringPanel","performanceMetrics","connectionStatus","eventCount","renderCount","memoryUsage","OptimizedRealtimeVoteResults","voteId","artistVoteId","showDebugInfo","enablePerformanceMonitoring","showDetails","setShowDetails","useState","voteItems","isLoading","connectionInfo","systemStatus","lastUpdated","refreshData","manualReconnect","toggleSmartReconnect","toggleBatterySaver","_useVoteRealtimeOptimized","useVoteRealtimeOptimized","enabled","enableSmartReconnect","enableBatterySaver","sortedVoteItems","sort","a","handleRefresh","useCallback","err","console","handleReconnect","_OptimizedConnectionStatusDisplay","default","onToggleSmartReconnect","onToggleBatterySaver","isCompact","disabled","toLocaleTimeString","length"],"sources":["/Users/cheolhyun/Repositories/picnic-web/components/client/vote/list/OptimizedRealtimeVoteResults.tsx"],"sourcesContent":["'use client';\n\nimport React, { memo, useState, useMemo, useCallback } from 'react';\nimport { useVoteRealtimeOptimized } from '@/hooks/useVoteRealtimeOptimized';\nimport OptimizedConnectionStatusDisplay from '../common/OptimizedConnectionStatusDisplay';\nimport { VoteItem } from '@/types/interfaces';\nimport { getLocalizedString, hasValidLocalizedString } from '@/utils/api/strings';\nimport { useLanguageStore } from '@/stores/languageStore';\n\ninterface OptimizedRealtimeVoteResultsProps {\n  voteId: number;\n  artistVoteId?: number;\n  showDebugInfo?: boolean;\n  enablePerformanceMonitoring?: boolean;\n}\n\n// 투표 아이템 컴포넌트 (메모화)\nconst VoteItemRow = memo(({ \n  item, \n  totalVotes, \n  rank \n}: { \n  item: VoteItem; \n  totalVotes: number;\n  rank: number;\n}) => {\n  const { currentLanguage } = useLanguageStore();\n  \n  const percentage = useMemo(() => {\n    return totalVotes > 0 && item.vote_total ? (item.vote_total / totalVotes * 100) : 0;\n  }, [item.vote_total, totalVotes]);\n\n  const isWinning = rank === 1 && totalVotes > 0;\n\n  // 제목 추출 (아티스트 이름 우선, 그룹 이름은 별도 표시)\n  const title = useMemo(() => {\n    if (item.artist?.name && hasValidLocalizedString(item.artist.name)) {\n      return getLocalizedString(item.artist.name, currentLanguage);\n    }\n    return `투표 항목 ${item.id}`;\n  }, [item.artist, item.id, currentLanguage]);\n\n  // 그룹 이름 추출\n  const groupName = useMemo(() => {\n    if (item.artist?.artistGroup?.name && hasValidLocalizedString(item.artist.artistGroup.name)) {\n      return getLocalizedString(item.artist.artistGroup.name, currentLanguage);\n    }\n    return null;\n  }, [item.artist?.artistGroup, currentLanguage]);\n\n  return (\n    <div className={`p-4 border rounded-lg transition-all duration-300 ${\n      isWinning ? 'border-yellow-400 bg-yellow-50' : 'border-gray-200 bg-white'\n    }`}>\n      <div className=\"flex items-center justify-between mb-2\">\n        <div className=\"flex items-center gap-3\">\n          <span className={`font-bold text-lg ${\n            isWinning ? 'text-yellow-600' : 'text-gray-700'\n          }`}>\n            #{rank}\n          </span>\n          <div>\n            <h3 className=\"font-medium text-gray-900\">{title}</h3>\n            {groupName && (\n              <p className=\"text-sm text-gray-600\">{groupName}</p>\n            )}\n          </div>\n        </div>\n        <div className=\"text-right\">\n          <div className=\"font-bold text-lg text-blue-600\">\n            {(item.vote_total || 0).toLocaleString()}표\n          </div>\n          <div className=\"text-sm text-gray-500\">\n            {percentage.toFixed(1)}%\n          </div>\n        </div>\n      </div>\n      \n      {/* 진행 바 */}\n      <div className=\"w-full bg-gray-200 rounded-full h-3 overflow-hidden\">\n        <div \n          className={`h-full transition-all duration-500 ${\n            isWinning ? 'bg-yellow-500' : 'bg-blue-500'\n          }`}\n          style={{ width: `${Math.max(percentage, 2)}%` }}\n        />\n      </div>\n    </div>\n  );\n});\n\nVoteItemRow.displayName = 'VoteItemRow';\n\n// 로딩 스켈레톤 컴포넌트 (메모화)\nconst LoadingSkeleton = memo(() => (\n  <div className=\"space-y-4\">\n    {[...Array(3)].map((_, index) => (\n      <div key={index} className=\"animate-pulse\">\n        <div className=\"p-4 border border-gray-200 rounded-lg bg-gray-50\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-8 h-6 bg-gray-300 rounded\"></div>\n              <div className=\"w-32 h-5 bg-gray-300 rounded\"></div>\n            </div>\n            <div className=\"text-right\">\n              <div className=\"w-16 h-6 bg-gray-300 rounded mb-1\"></div>\n              <div className=\"w-12 h-4 bg-gray-300 rounded\"></div>\n            </div>\n          </div>\n          <div className=\"w-full h-3 bg-gray-300 rounded-full\"></div>\n        </div>\n      </div>\n    ))}\n  </div>\n));\n\nLoadingSkeleton.displayName = 'LoadingSkeleton';\n\n// 오류 표시 컴포넌트 (메모화)\nconst ErrorDisplay = memo(({ \n  error, \n  onRetry \n}: { \n  error: Error; \n  onRetry: () => void;\n}) => (\n  <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n    <div className=\"flex items-center justify-between\">\n      <div>\n        <h3 className=\"text-red-800 font-medium\">연결 오류</h3>\n        <p className=\"text-red-600 text-sm mt-1\">{error.message}</p>\n      </div>\n      <button\n        onClick={onRetry}\n        className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\n      >\n        다시 시도\n      </button>\n    </div>\n  </div>\n));\n\nErrorDisplay.displayName = 'ErrorDisplay';\n\n// 성능 모니터링 패널 (메모화)\nconst PerformanceMonitoringPanel = memo(({ \n  performanceMetrics,\n  connectionStatus,\n  eventCount\n}: {\n  performanceMetrics: any;\n  connectionStatus: string;\n  eventCount: number;\n}) => (\n  <div className=\"mt-4 p-3 bg-gray-50 border border-gray-200 rounded-lg\">\n    <h4 className=\"text-sm font-medium text-gray-700 mb-2\">성능 모니터링</h4>\n    <div className=\"grid grid-cols-2 gap-4 text-sm\">\n      <div>\n        <div className=\"text-gray-600\">컴포넌트 렌더링:</div>\n        <div className=\"font-mono text-gray-900\">{performanceMetrics.renderCount}회</div>\n      </div>\n      <div>\n        <div className=\"text-gray-600\">메모리 사용량:</div>\n        <div className=\"font-mono text-gray-900\">\n          {performanceMetrics.memoryUsage ? \n            `${(performanceMetrics.memoryUsage / 1024 / 1024).toFixed(1)}MB` : \n            'N/A'}\n        </div>\n      </div>\n      <div>\n        <div className=\"text-gray-600\">연결 상태:</div>\n        <div className=\"font-mono text-gray-900\">{connectionStatus}</div>\n      </div>\n      <div>\n        <div className=\"text-gray-600\">실시간 이벤트:</div>\n        <div className=\"font-mono text-gray-900\">{eventCount}개</div>\n      </div>\n    </div>\n  </div>\n));\n\nPerformanceMonitoringPanel.displayName = 'PerformanceMonitoringPanel';\n\n// 메인 컴포넌트\nconst OptimizedRealtimeVoteResults = memo(({\n  voteId,\n  artistVoteId,\n  showDebugInfo = false,\n  enablePerformanceMonitoring = false\n}: OptimizedRealtimeVoteResultsProps) => {\n  const [showDetails, setShowDetails] = useState(false);\n\n  // 최적화된 실시간 훅 사용\n  const {\n    voteItems,\n    totalVotes,\n    isLoading,\n    connectionStatus,\n    connectionInfo,\n    systemStatus,\n    performanceMetrics,\n    error,\n    eventCount,\n    lastUpdated,\n    refreshData,\n    manualReconnect,\n    toggleSmartReconnect,\n    toggleBatterySaver\n  } = useVoteRealtimeOptimized({\n    voteId,\n    artistVoteId,\n    enabled: true,\n    enableSmartReconnect: true,\n    enableBatterySaver: true\n  });\n\n  // 정렬된 투표 아이템 (메모화)\n  const sortedVoteItems = useMemo(() => {\n    if (!voteItems) return [];\n    return [...voteItems].sort((a, b) => (b.vote_total || 0) - (a.vote_total || 0));\n  }, [voteItems]);\n\n  // 새로고침 핸들러 (메모화)\n  const handleRefresh = useCallback(async () => {\n    try {\n      await refreshData();\n    } catch (err) {\n      console.error('새로고침 실패:', err);\n    }\n  }, [refreshData]);\n\n  // 재연결 핸들러 (메모화)\n  const handleReconnect = useCallback(() => {\n    manualReconnect();\n  }, [manualReconnect]);\n\n  // 로딩 상태\n  if (isLoading && !voteItems) {\n    return (\n      <div className=\"space-y-4\">\n        <LoadingSkeleton />\n        <div className=\"text-center text-gray-500 text-sm\">\n          투표 결과를 불러오는 중...\n        </div>\n      </div>\n    );\n  }\n\n  // 오류 상태\n  if (error && !voteItems) {\n    return <ErrorDisplay error={error} onRetry={handleRefresh} />;\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* 연결 상태 표시 */}\n      <OptimizedConnectionStatusDisplay\n        connectionStatus={connectionStatus}\n        connectionInfo={connectionInfo}\n        systemStatus={systemStatus}\n        performanceMetrics={performanceMetrics}\n        onToggleSmartReconnect={toggleSmartReconnect}\n        onToggleBatterySaver={toggleBatterySaver}\n        showDetails={showDetails}\n        isCompact={!showDebugInfo}\n      />\n\n      {/* 컨트롤 패널 */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">\n            실시간 투표 결과\n          </h2>\n          {totalVotes !== null && (\n            <span className=\"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full\">\n              총 {totalVotes.toLocaleString()}표\n            </span>\n          )}\n        </div>\n        \n        <div className=\"flex items-center gap-2\">\n          {showDebugInfo && (\n            <button\n              onClick={() => setShowDetails(!showDetails)}\n              className=\"px-3 py-1 text-xs border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\n            >\n              {showDetails ? '간단히' : '상세히'}\n            </button>\n          )}\n          <button\n            onClick={handleRefresh}\n            disabled={isLoading}\n            className=\"px-3 py-1 text-xs bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors\"\n          >\n            {isLoading ? '새로고침 중...' : '새로고침'}\n          </button>\n          {connectionStatus !== 'connected' && (\n            <button\n              onClick={handleReconnect}\n              className=\"px-3 py-1 text-xs bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n            >\n              재연결\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* 마지막 업데이트 시간 */}\n      {lastUpdated && (\n        <div className=\"text-xs text-gray-500 text-center\">\n          마지막 업데이트: {lastUpdated.toLocaleTimeString()}\n        </div>\n      )}\n\n      {/* 투표 결과 목록 */}\n      {sortedVoteItems.length > 0 ? (\n        <div className=\"space-y-3\">\n          {sortedVoteItems.map((item, index) => (\n            <VoteItemRow\n              key={item.id}\n              item={item}\n              totalVotes={totalVotes || 0}\n              rank={index + 1}\n            />\n          ))}\n        </div>\n      ) : (\n        <div className=\"text-center py-8 text-gray-500\">\n          아직 투표 결과가 없습니다.\n        </div>\n      )}\n\n      {/* 성능 모니터링 패널 */}\n      {enablePerformanceMonitoring && (\n        <PerformanceMonitoringPanel\n          performanceMetrics={performanceMetrics}\n          connectionStatus={connectionStatus}\n          eventCount={eventCount}\n        />\n      )}\n\n      {/* 오류 알림 (데이터가 있는 상태에서 오류 발생) */}\n      {error && voteItems && (\n        <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-3\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"text-yellow-800 text-sm\">\n              ⚠️ 실시간 업데이트 중 오류 발생: {error.message}\n            </div>\n            <button\n              onClick={handleReconnect}\n              className=\"px-3 py-1 text-xs bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors\"\n            >\n              재연결\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n});\n\nOptimizedRealtimeVoteResults.displayName = 'OptimizedRealtimeVoteResults';\n\nexport default OptimizedRealtimeVoteResults; "],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}