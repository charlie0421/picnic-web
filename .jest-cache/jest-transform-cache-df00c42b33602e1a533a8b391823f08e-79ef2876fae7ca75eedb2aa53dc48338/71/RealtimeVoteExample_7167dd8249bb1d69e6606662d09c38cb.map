{"version":3,"names":["cov_1vaksmse00","actualCoverage","s","RealtimeVoteExample","f","default","_default","voteId","title","b","enableRealtime","setEnableRealtime","_react","useState","showIndicator","setShowIndicator","animateChanges","setAnimateChanges","highlightNewVotes","setHighlightNewVotes","_jsxruntime","jsxs","className","jsx","type","checked","onChange","e","target","_RealtimeStatus","RealtimeStatusPanel","_VoteRealtimeContext","VoteRealtimeProvider","_list","OptimizedRealtimeVoteResults","showDebugInfo","enablePerformanceMonitoring"],"sources":["/Users/cheolhyun/Repositories/picnic-web/components/client/vote/examples/RealtimeVoteExample.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { OptimizedRealtimeVoteResults } from '../list';\nimport { VoteRealtimeProvider } from '@/contexts/VoteRealtimeContext';\nimport { RealtimeStatusPanel } from '../common/RealtimeStatus';\n\ninterface RealtimeVoteExampleProps {\n  voteId: number;\n  title?: string;\n}\n\n/**\n * 실시간 투표 결과 기능을 보여주는 예시 컴포넌트\n * \n * 이 컴포넌트는 다음 기능들을 시연합니다:\n * - 실시간 투표 결과 업데이트\n * - 연결 상태 표시\n * - 애니메이션 효과\n * - 설정 옵션들\n */\nexport function RealtimeVoteExample({ \n  voteId, \n  title = '실시간 투표 결과' \n}: RealtimeVoteExampleProps) {\n  const [enableRealtime, setEnableRealtime] = useState(true);\n  const [showIndicator, setShowIndicator] = useState(true);\n  const [animateChanges, setAnimateChanges] = useState(true);\n  const [highlightNewVotes, setHighlightNewVotes] = useState(true);\n\n  return (\n    <div className=\"max-w-4xl mx-auto p-6 space-y-6\">\n      {/* 제목 */}\n      <div className=\"text-center\">\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">{title}</h1>\n        <p className=\"text-gray-600\">\n          실시간으로 업데이트되는 투표 결과를 확인하세요\n        </p>\n      </div>\n\n      {/* 설정 패널 */}\n      <div className=\"bg-gray-50 rounded-lg p-4\">\n        <h3 className=\"text-lg font-semibold mb-4\">실시간 설정</h3>\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n          <label className=\"flex items-center space-x-2\">\n            <input\n              type=\"checkbox\"\n              checked={enableRealtime}\n              onChange={(e) => setEnableRealtime(e.target.checked)}\n              className=\"rounded border-gray-300\"\n            />\n            <span className=\"text-sm\">실시간 업데이트</span>\n          </label>\n          \n          <label className=\"flex items-center space-x-2\">\n            <input\n              type=\"checkbox\"\n              checked={showIndicator}\n              onChange={(e) => setShowIndicator(e.target.checked)}\n              className=\"rounded border-gray-300\"\n            />\n            <span className=\"text-sm\">상태 표시</span>\n          </label>\n          \n          <label className=\"flex items-center space-x-2\">\n            <input\n              type=\"checkbox\"\n              checked={animateChanges}\n              onChange={(e) => setAnimateChanges(e.target.checked)}\n              className=\"rounded border-gray-300\"\n            />\n            <span className=\"text-sm\">애니메이션</span>\n          </label>\n          \n          <label className=\"flex items-center space-x-2\">\n            <input\n              type=\"checkbox\"\n              checked={highlightNewVotes}\n              onChange={(e) => setHighlightNewVotes(e.target.checked)}\n              className=\"rounded border-gray-300\"\n            />\n            <span className=\"text-sm\">하이라이트</span>\n          </label>\n        </div>\n      </div>\n\n      {/* 실시간 상태 패널 */}\n      {enableRealtime && (\n        <RealtimeStatusPanel voteId={voteId} />\n      )}\n\n      {/* 실시간 투표 결과 */}\n      <div className=\"bg-white rounded-lg shadow-lg\">\n        <VoteRealtimeProvider voteId={voteId}>\n          <OptimizedRealtimeVoteResults\n            voteId={voteId}\n            showDebugInfo={showIndicator}\n            enablePerformanceMonitoring={animateChanges}\n          />\n        </VoteRealtimeProvider>\n      </div>\n\n      {/* 사용법 안내 */}\n      <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n        <h3 className=\"text-lg font-semibold text-blue-900 mb-2\">\n          💡 실시간 투표 결과 사용법\n        </h3>\n        <div className=\"text-sm text-blue-800 space-y-2\">\n          <p>\n            <strong>실시간 업데이트:</strong> 다른 사용자가 투표하면 자동으로 결과가 업데이트됩니다.\n          </p>\n          <p>\n            <strong>연결 상태:</strong> 우측 상단의 인디케이터로 실시간 연결 상태를 확인할 수 있습니다.\n          </p>\n          <p>\n            <strong>애니메이션:</strong> 순위 변동이나 새로운 투표가 있을 때 시각적 효과가 나타납니다.\n          </p>\n          <p>\n            <strong>폴백 모드:</strong> 실시간 연결이 실패하면 자동으로 주기적 업데이트로 전환됩니다.\n          </p>\n        </div>\n      </div>\n\n      {/* 기술 정보 */}\n      <div className=\"bg-gray-50 rounded-lg p-4\">\n        <h3 className=\"text-lg font-semibold mb-2\">기술 스택</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600\">\n          <div>\n            <h4 className=\"font-medium text-gray-900 mb-1\">프론트엔드</h4>\n            <ul className=\"space-y-1\">\n              <li>• React 18 + Next.js 13+</li>\n              <li>• Zustand (상태 관리)</li>\n              <li>• Tailwind CSS (스타일링)</li>\n              <li>• TypeScript (타입 안전성)</li>\n            </ul>\n          </div>\n          <div>\n            <h4 className=\"font-medium text-gray-900 mb-1\">백엔드</h4>\n            <ul className=\"space-y-1\">\n              <li>• Supabase Realtime</li>\n              <li>• PostgreSQL 트리거</li>\n              <li>• WebSocket 연결</li>\n              <li>• 자동 재연결 로직</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default RealtimeVoteExample; "],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAuJmC;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAAAA,cAAA,GAAAE,CAAA;;;;;;;;;;;;;;;;;;;;EAlInBC,mBAAmB,WAAAA,CAAA;IAAA;IAAAH,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAE,CAAA;WAAnBC,mBAAA;;EAkIhBE,OAAmC,WAAAA,CAAA;IAAA;IAAAL,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAE,CAAA;WAAnCI,QAAA;;;;;;;;yEArJgC;;;kCACa;;;kCACR;;;mCACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgB7B,SAASH,oBAAoB;EAClCI,MAAM;EACNC,KAAA;EAAA;EAAA,CAAAR,cAAA,GAAAS,CAAA,WAAQ,WAAW;AAAA,CACM;EAAA;EAAAT,cAAA,GAAAI,CAAA;EACzB,MAAM,CAACM,cAAA,EAAgBC,iBAAA,CAAkB;EAAA;EAAA,CAAAX,cAAA,GAAAE,CAAA,QAAG,IAAAU,MAAA,CAAAC,QAAQ,EAAC;EACrD,MAAM,CAACC,aAAA,EAAeC,gBAAA,CAAiB;EAAA;EAAA,CAAAf,cAAA,GAAAE,CAAA,QAAG,IAAAU,MAAA,CAAAC,QAAQ,EAAC;EACnD,MAAM,CAACG,cAAA,EAAgBC,iBAAA,CAAkB;EAAA;EAAA,CAAAjB,cAAA,GAAAE,CAAA,QAAG,IAAAU,MAAA,CAAAC,QAAQ,EAAC;EACrD,MAAM,CAACK,iBAAA,EAAmBC,oBAAA,CAAqB;EAAA;EAAA,CAAAnB,cAAA,GAAAE,CAAA,QAAG,IAAAU,MAAA,CAAAC,QAAQ,EAAC;EAAA;EAAAb,cAAA,GAAAE,CAAA;EAE3D,oBACE,IAAAkB,WAAA,CAAAC,IAAA,EAAC;IAAIC,SAAA,EAAU;4BAEb,IAAAF,WAAA,CAAAC,IAAA,EAAC;MAAIC,SAAA,EAAU;8BACb,IAAAF,WAAA,CAAAG,GAAA,EAAC;QAAGD,SAAA,EAAU;kBAAyCd;uBACvD,IAAAY,WAAA,CAAAG,GAAA,EAAC;QAAED,SAAA,EAAU;kBAAgB;;qBAM/B,IAAAF,WAAA,CAAAC,IAAA,EAAC;MAAIC,SAAA,EAAU;8BACb,IAAAF,WAAA,CAAAG,GAAA,EAAC;QAAGD,SAAA,EAAU;kBAA6B;uBAC3C,IAAAF,WAAA,CAAAC,IAAA,EAAC;QAAIC,SAAA,EAAU;gCACb,IAAAF,WAAA,CAAAC,IAAA,EAAC;UAAMC,SAAA,EAAU;kCACf,IAAAF,WAAA,CAAAG,GAAA,EAAC;YACCC,IAAA,EAAK;YACLC,OAAA,EAASf,cAAA;YACTgB,QAAA,EAAWC,CAAA,IAAM;cAAA;cAAA3B,cAAA,GAAAI,CAAA;cAAAJ,cAAA,GAAAE,CAAA;cAAA,OAAAS,iBAAA,CAAkBgB,CAAA,CAAEC,MAAM,CAACH,OAAO;YAAA;YACnDH,SAAA,EAAU;2BAEZ,IAAAF,WAAA,CAAAG,GAAA,EAAC;YAAKD,SAAA,EAAU;sBAAU;;yBAG5B,IAAAF,WAAA,CAAAC,IAAA,EAAC;UAAMC,SAAA,EAAU;kCACf,IAAAF,WAAA,CAAAG,GAAA,EAAC;YACCC,IAAA,EAAK;YACLC,OAAA,EAASX,aAAA;YACTY,QAAA,EAAWC,CAAA,IAAM;cAAA;cAAA3B,cAAA,GAAAI,CAAA;cAAAJ,cAAA,GAAAE,CAAA;cAAA,OAAAa,gBAAA,CAAiBY,CAAA,CAAEC,MAAM,CAACH,OAAO;YAAA;YAClDH,SAAA,EAAU;2BAEZ,IAAAF,WAAA,CAAAG,GAAA,EAAC;YAAKD,SAAA,EAAU;sBAAU;;yBAG5B,IAAAF,WAAA,CAAAC,IAAA,EAAC;UAAMC,SAAA,EAAU;kCACf,IAAAF,WAAA,CAAAG,GAAA,EAAC;YACCC,IAAA,EAAK;YACLC,OAAA,EAAST,cAAA;YACTU,QAAA,EAAWC,CAAA,IAAM;cAAA;cAAA3B,cAAA,GAAAI,CAAA;cAAAJ,cAAA,GAAAE,CAAA;cAAA,OAAAe,iBAAA,CAAkBU,CAAA,CAAEC,MAAM,CAACH,OAAO;YAAA;YACnDH,SAAA,EAAU;2BAEZ,IAAAF,WAAA,CAAAG,GAAA,EAAC;YAAKD,SAAA,EAAU;sBAAU;;yBAG5B,IAAAF,WAAA,CAAAC,IAAA,EAAC;UAAMC,SAAA,EAAU;kCACf,IAAAF,WAAA,CAAAG,GAAA,EAAC;YACCC,IAAA,EAAK;YACLC,OAAA,EAASP,iBAAA;YACTQ,QAAA,EAAWC,CAAA,IAAM;cAAA;cAAA3B,cAAA,GAAAI,CAAA;cAAAJ,cAAA,GAAAE,CAAA;cAAA,OAAAiB,oBAAA,CAAqBQ,CAAA,CAAEC,MAAM,CAACH,OAAO;YAAA;YACtDH,SAAA,EAAU;2BAEZ,IAAAF,WAAA,CAAAG,GAAA,EAAC;YAAKD,SAAA,EAAU;sBAAU;;;;;IAM/B;IAAA,CAAAtB,cAAA,GAAAS,CAAA,WAAAC,cAAA;IAAA;IAAA,CAAAV,cAAA,GAAAS,CAAA,wBACC,IAAAW,WAAA,CAAAG,GAAA,EAACM,eAAA,CAAAC,mBAAmB;MAACvB,MAAA,EAAQA;sBAI/B,IAAAa,WAAA,CAAAG,GAAA,EAAC;MAAID,SAAA,EAAU;gBACb,iBAAAF,WAAA,CAAAG,GAAA,EAACQ,oBAAA,CAAAC,oBAAoB;QAACzB,MAAA,EAAQA,MAAA;kBAC5B,iBAAAa,WAAA,CAAAG,GAAA,EAACU,KAAA,CAAAC,4BAA4B;UAC3B3B,MAAA,EAAQA,MAAA;UACR4B,aAAA,EAAerB,aAAA;UACfsB,2BAAA,EAA6BpB;;;qBAMnC,IAAAI,WAAA,CAAAC,IAAA,EAAC;MAAIC,SAAA,EAAU;8BACb,IAAAF,WAAA,CAAAG,GAAA,EAAC;QAAGD,SAAA,EAAU;kBAA2C;uBAGzD,IAAAF,WAAA,CAAAC,IAAA,EAAC;QAAIC,SAAA,EAAU;gCACb,IAAAF,WAAA,CAAAC,IAAA,EAAC;kCACC,IAAAD,WAAA,CAAAG,GAAA,EAAC;sBAAO;cAAkB;yBAE5B,IAAAH,WAAA,CAAAC,IAAA,EAAC;kCACC,IAAAD,WAAA,CAAAG,GAAA,EAAC;sBAAO;cAAe;yBAEzB,IAAAH,WAAA,CAAAC,IAAA,EAAC;kCACC,IAAAD,WAAA,CAAAG,GAAA,EAAC;sBAAO;cAAe;yBAEzB,IAAAH,WAAA,CAAAC,IAAA,EAAC;kCACC,IAAAD,WAAA,CAAAG,GAAA,EAAC;sBAAO;cAAe;;;qBAM7B,IAAAH,WAAA,CAAAC,IAAA,EAAC;MAAIC,SAAA,EAAU;8BACb,IAAAF,WAAA,CAAAG,GAAA,EAAC;QAAGD,SAAA,EAAU;kBAA6B;uBAC3C,IAAAF,WAAA,CAAAC,IAAA,EAAC;QAAIC,SAAA,EAAU;gCACb,IAAAF,WAAA,CAAAC,IAAA,EAAC;kCACC,IAAAD,WAAA,CAAAG,GAAA,EAAC;YAAGD,SAAA,EAAU;sBAAiC;2BAC/C,IAAAF,WAAA,CAAAC,IAAA,EAAC;YAAGC,SAAA,EAAU;oCACZ,IAAAF,WAAA,CAAAG,GAAA,EAAC;wBAAG;6BACJ,IAAAH,WAAA,CAAAG,GAAA,EAAC;wBAAG;6BACJ,IAAAH,WAAA,CAAAG,GAAA,EAAC;wBAAG;6BACJ,IAAAH,WAAA,CAAAG,GAAA,EAAC;wBAAG;;;yBAGR,IAAAH,WAAA,CAAAC,IAAA,EAAC;kCACC,IAAAD,WAAA,CAAAG,GAAA,EAAC;YAAGD,SAAA,EAAU;sBAAiC;2BAC/C,IAAAF,WAAA,CAAAC,IAAA,EAAC;YAAGC,SAAA,EAAU;oCACZ,IAAAF,WAAA,CAAAG,GAAA,EAAC;wBAAG;6BACJ,IAAAH,WAAA,CAAAG,GAAA,EAAC;wBAAG;6BACJ,IAAAH,WAAA,CAAAG,GAAA,EAAC;wBAAG;6BACJ,IAAAH,WAAA,CAAAG,GAAA,EAAC;wBAAG;;;;;;;AAOlB;MAEAjB,QAAA;AAAA;AAAA,CAAAN,cAAA,GAAAE,CAAA,QAAeC,mBAAA","ignoreList":[]}