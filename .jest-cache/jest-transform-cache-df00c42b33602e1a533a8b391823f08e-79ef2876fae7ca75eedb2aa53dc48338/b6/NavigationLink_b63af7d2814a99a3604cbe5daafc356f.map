{"version":3,"names":["NavigationLink","href","children","className","cov_x4luy5njj","b","onClick","title","ariaLabel","ariaDescribedBy","id","role","tabIndex","unknownProps","f","isNavigating","setIsNavigating","s","_react","useState","setIsLoading","_GlobalLoadingContext","useGlobalLoading","router","_navigation","useRouter","pathname","usePathname","extractLocaleFromPath","getLocalizedPath","currentLocale","_useLocaleRouter","useLocaleRouter","handleClick","e","preventDefault","path","currentCleanPath","targetCleanPath","normalizedTargetHref","startsWith","console","log","currentPath","isSamePage","push","safeDivProps","handleKeyDown","key","_jsxruntime","jsx","onKeyDown","style","userSelect"],"sources":["/Users/cheolhyun/Repositories/picnic-web/components/client/NavigationLink.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { useRouter, usePathname } from 'next/navigation';\nimport { useGlobalLoading } from '@/contexts/GlobalLoadingContext';\nimport { useLocaleRouter } from '@/hooks/useLocaleRouter';\n\ninterface NavigationLinkProps {\n  href: string;\n  children: React.ReactNode;\n  className?: string;\n  onClick?: () => void;\n  // div 요소에 안전하게 전달할 수 있는 속성들\n  title?: string;\n  'aria-label'?: string;\n  'aria-describedby'?: string;\n  id?: string;\n  role?: string;\n  tabIndex?: number;\n}\n\n// 페이지 전환을 빠르게 하기 위한 최적화된 네비게이션 링크 컴포넌트\nexport default function NavigationLink({\n  href,\n  children,\n  className = '',\n  onClick,\n  // div에 안전한 속성들만 분리\n  title,\n  'aria-label': ariaLabel,\n  'aria-describedby': ariaDescribedBy,\n  id,\n  role,\n  tabIndex,\n  ...unknownProps // 이제 안전하지 않은 속성들은 버림\n}: NavigationLinkProps) {\n  const [isNavigating, setIsNavigating] = useState(false);\n  const { setIsLoading } = useGlobalLoading();\n  const router = useRouter();\n  const pathname = usePathname();\n  const { extractLocaleFromPath, getLocalizedPath, currentLocale } = useLocaleRouter();\n  \n  const handleClick = (e: React.MouseEvent) => {\n    e.preventDefault(); // 기본 링크 동작 방지\n    \n    // 현재 경로와 타겟 경로를 언어 경로를 고려하여 비교\n    const { path: currentCleanPath } = extractLocaleFromPath(pathname);\n    const { path: targetCleanPath } = extractLocaleFromPath(href);\n    \n    // href가 로케일화되지 않은 경우 현재 로케일로 로케일화\n    const normalizedTargetHref = href.startsWith(`/${currentLocale}/`) \n      ? href \n      : getLocalizedPath(href, currentLocale);\n    \n    console.log('🔍 [NavigationLink] Link click:', {\n      href,\n      normalizedTargetHref,\n      currentPath: pathname,\n      currentCleanPath,\n      targetCleanPath,\n      isSamePage: currentCleanPath === targetCleanPath,\n      currentLocale\n    });\n    \n    // 같은 페이지인지 확인 (언어 경로 제외하고 비교)\n    if (currentCleanPath === targetCleanPath) {\n      console.log('🔍 [NavigationLink] Same page detected, cancelling navigation');\n      \n      // 사용자 정의 onClick 콜백은 실행 (메뉴 닫기 등의 동작을 위해)\n      if (onClick) {\n        onClick();\n      }\n      \n      // 네비게이션은 취소\n      return;\n    }\n    \n    // 다른 페이지인 경우 로딩 시작 및 네비게이션 진행\n    console.log('🔍 [NavigationLink] Starting loading for navigation to:', normalizedTargetHref);\n    setIsLoading(true);\n    setIsNavigating(true);\n    \n    // 프로그래매틱 네비게이션 (정규화된 href 사용)\n    router.push(normalizedTargetHref);\n\n    // 사용자 정의 onClick 콜백 실행\n    if (onClick) {\n      onClick();\n    }\n  };\n  \n  // div에 안전한 속성들만 전달\n  const safeDivProps = {\n    title,\n    'aria-label': ariaLabel,\n    'aria-describedby': ariaDescribedBy,\n    id,\n    role: role || 'button', // 접근성을 위해 role=\"button\" 기본값\n    tabIndex: tabIndex || 0, // 키보드 접근성을 위해 tabIndex 기본값\n  };\n  \n  // 키보드 이벤트 핸들러 (Enter, Space 키 지원)\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' || e.key === ' ') {\n      e.preventDefault();\n      handleClick(e as any);\n    }\n  };\n  \n  return (\n    <div \n      onClick={handleClick}\n      onKeyDown={handleKeyDown}\n      className={`${className} ${isNavigating ? 'opacity-90' : 'opacity-100'} transition-opacity duration-200 cursor-pointer`}\n      style={{ userSelect: 'none' }}\n      {...safeDivProps}\n    >\n      {children}\n    </div>\n  );\n} "],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}