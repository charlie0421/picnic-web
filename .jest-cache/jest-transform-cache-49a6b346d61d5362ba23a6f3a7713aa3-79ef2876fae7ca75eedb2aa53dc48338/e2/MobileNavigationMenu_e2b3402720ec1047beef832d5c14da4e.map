{"version":3,"names":["_default","MobileNavigationMenu","className","cov_134em94fjt","b","f","isAuthenticated","userProfile","user","isLoading","s","_authprovider","useAuth","currentLocale","getLocalizedPath","_useLocaleRouter","useLocaleRouter","globalLoading","setIsLoading","_GlobalLoadingContext","useGlobalLoading","isOpen","setIsOpen","_react","useState","menuRef","useRef","pathname","_navigation","usePathname","tDynamic","t","_useTranslations","useTranslations","stableAuthState","showLoading","showUserArea","showGuestArea","userInfo","avatar_url","name","nickname","user_metadata","full_name","email","is_admin","profileImageLoading","getFilteredMenuItems","adminOnlyPortals","_enums","PortalType","COMMUNITY","PIC","NOVEL","_navigation1","PORTAL_MENU","filter","item","type","VOTE","includes","filteredMenuItems","handleLinkClick","href","useEffect","handleEscapeKey","event","key","document","addEventListener","removeEventListener","handleClickOutside","current","contains","target","_jsxruntime","jsxs","ref","jsx","onClick","_ProfileImageContainer","ProfileImageContainer","avatarUrl","width","height","borderRadius","DefaultAvatar","_lucidereact","User","Fragment","length","map","isActive","isVoteRelatedPath","_link","default","path","toLowerCase","Settings","LogIn"],"sources":["/Users/charlie.hyun/Repositories/picnic-web/components/layouts/MobileNavigationMenu.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { useLocaleRouter } from '@/hooks/useLocaleRouter';\nimport { useGlobalLoading } from '@/contexts/GlobalLoadingContext';\nimport { useAuth } from '@/lib/supabase/auth-provider';\nimport { PortalType } from '@/utils/enums';\nimport { isVoteRelatedPath, PORTAL_MENU } from '@/config/navigation';\nimport menuConfig from '@/config/menu.json';\nimport { Menu as MenuIcon, X, User, LogIn, Settings } from 'lucide-react';\nimport { DefaultAvatar, ProfileImageContainer } from '@/components/ui/ProfileImageContainer';\nimport { useTranslations } from '@/hooks/useTranslations';\n\ninterface MobileNavigationMenuProps {\n  className?: string;\n}\n\nconst MobileNavigationMenu: React.FC<MobileNavigationMenuProps> = ({ className = '' }) => {\n  const { isAuthenticated, userProfile, user, isLoading } = useAuth();\n  const { currentLocale, getLocalizedPath } = useLocaleRouter();\n  const { isLoading: globalLoading, setIsLoading } = useGlobalLoading();\n  const [isOpen, setIsOpen] = useState(false);\n  const menuRef = useRef<HTMLDivElement>(null);\n  const pathname = usePathname();\n  const { tDynamic: t } = useTranslations();\n\n  // 안정적인 인증 상태 관리\n  const stableAuthState = {\n    showLoading: isLoading,\n    showUserArea: !isLoading && isAuthenticated,\n    showGuestArea: !isLoading && !isAuthenticated,\n  };\n\n  // 사용자 정보 (안전하게 접근) - DB 프로필만 사용\n  const userInfo = {\n    avatar_url: userProfile?.avatar_url || null, // JWT 토큰 이미지 제거\n    name: userProfile?.nickname || user?.user_metadata?.full_name || user?.email || null,\n    is_admin: userProfile?.is_admin || false,\n  };\n\n  // 프로필 이미지 로딩 상태\n  const profileImageLoading = stableAuthState.showUserArea && !userInfo.name;\n\n  // 관리자 권한에 따른 메뉴 필터링\n  const getFilteredMenuItems = () => {\n    const adminOnlyPortals = [PortalType.COMMUNITY, PortalType.PIC, PortalType.NOVEL];\n    \n    return PORTAL_MENU.filter(item => {\n      // VOTE는 항상 표시\n      if (item.type === PortalType.VOTE) return true;\n      \n      // 나머지는 관리자만 표시\n      return userInfo.is_admin && adminOnlyPortals.includes(item.type as PortalType);\n    });\n  };\n\n  const filteredMenuItems = getFilteredMenuItems();\n\n  const handleLinkClick = (href: string) => {\n    setIsLoading(true);\n    setIsOpen(false);\n  };\n\n  // ESC 키로 메뉴 닫기\n  useEffect(() => {\n    const handleEscapeKey = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        setIsOpen(false);\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('keydown', handleEscapeKey);\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleEscapeKey);\n    };\n  }, [isOpen]);\n\n  // 외부 클릭으로 메뉴 닫기\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isOpen]);\n\n  return (\n    <div className={`relative ${className}`} ref={menuRef}>\n      <div className=\"flex items-center\">\n        {/* 프로필/햄버거 통합 버튼 */}\n        <button\n          onClick={() => setIsOpen(!isOpen)}\n          className='relative hover:bg-gray-100 rounded-lg transition-colors w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center'\n          aria-label={t('common.menu.openMenu')}\n          aria-expanded={isOpen}\n        >\n          {stableAuthState.showLoading ? (\n            // 로딩 중일 때 shimmer 효과\n            <div className=\"w-full h-full rounded-lg shimmer-effect bg-gray-200\" />\n          ) : stableAuthState.showUserArea ? (\n            // 인증된 사용자 - 프로필 이미지\n            profileImageLoading || (isAuthenticated && !userInfo.avatar_url && userProfile === null) ? (\n              <div className=\"w-full h-full rounded-lg shimmer-effect bg-gray-200\" />\n            ) : userInfo.avatar_url ? (\n              <ProfileImageContainer\n                avatarUrl={userInfo.avatar_url}\n                width={40} // 태블릿 크기에 맞춤\n                height={40}\n                borderRadius={8}\n                className=\"w-full h-full object-cover\"\n              />\n            ) : (\n              <DefaultAvatar width={40} height={40} className=\"w-full h-full\" />\n            )\n          ) : (\n            // 미인증 사용자 - User 아이콘\n            <div className=\"w-full h-full flex items-center justify-center bg-gray-100 rounded-lg\">\n              <User className=\"w-5 h-5 text-gray-600\" />\n            </div>\n          )}\n        </button>\n      </div>\n\n      {/* 드롭다운 메뉴 */}\n      {isOpen && (\n        <div className=\"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border z-50\">\n          <div className=\"p-4\">\n            {stableAuthState.showUserArea ? (\n              // 인증된 사용자 메뉴\n              <>\n                {/* 사용자 정보 섹션 */}\n                <div className=\"flex items-center space-x-3 mb-4 pb-4 border-b\">\n                  {profileImageLoading || (isAuthenticated && !userInfo.avatar_url && userProfile === null) ? (\n                    <div className=\"w-12 h-12 rounded-lg shimmer-effect bg-gray-200\" />\n                  ) : userInfo.avatar_url ? (\n                    <ProfileImageContainer\n                      avatarUrl={userInfo.avatar_url}\n                      width={48} // 드롭다운에서는 더 큰 크기\n                      height={48}\n                      borderRadius={8}\n                    />\n                  ) : (\n                    <DefaultAvatar width={48} height={48} />\n                  )}\n                  <div className=\"flex-1 min-w-0\">\n                    <p className=\"text-sm font-medium text-gray-900 truncate\">\n                      {userInfo.name || t('common.user.unknown')}\n                    </p>\n                    {userInfo.is_admin && (\n                      <p className=\"text-xs text-blue-600\">{t('common.user.admin')}</p>\n                    )}\n                  </div>\n                </div>\n\n                {/* 네비게이션 메뉴 */}\n                {filteredMenuItems.length > 0 && (\n                  <div className=\"mb-4\">\n                    <div className=\"space-y-1\">\n                      {filteredMenuItems.map((item) => {\n                        const isActive = isVoteRelatedPath(pathname) && item.type === PortalType.VOTE;\n                        return (\n                          <Link\n                            key={item.type}\n                            href={getLocalizedPath(item.path)}\n                            onClick={() => handleLinkClick(item.path)}\n                            className={`block w-full text-left px-3 py-2 rounded-md text-sm transition-colors ${\n                              isActive\n                                ? 'bg-blue-50 text-blue-700 font-medium'\n                                : 'text-gray-700 hover:bg-gray-50'\n                            }`}\n                          >\n                            {t(`nav.menu.${item.type.toLowerCase()}`)}\n                          </Link>\n                        );\n                      })}\n                    </div>\n                  </div>\n                )}\n\n                {/* 마이페이지 링크 */}\n                <div className=\"pt-2 border-t\">\n                  <Link\n                    href={getLocalizedPath('/mypage')}\n                    onClick={() => handleLinkClick('/mypage')}\n                    className=\"flex items-center space-x-2 w-full text-left px-3 py-2 rounded-md text-sm text-gray-700 hover:bg-gray-50 transition-colors\"\n                  >\n                    <Settings className=\"w-4 h-4\" />\n                    <span>{t('nav.menu.mypage')}</span>\n                  </Link>\n                </div>\n              </>\n            ) : (\n              // 미인증 사용자 메뉴\n              <div className=\"space-y-3\">\n                <p className=\"text-sm text-gray-600 mb-4\">\n                  {t('common.auth.loginPrompt')}\n                </p>\n                \n                <Link\n                  href={getLocalizedPath('/login')}\n                  onClick={() => handleLinkClick('/login')}\n                  className=\"flex items-center justify-center space-x-2 w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\n                >\n                  <LogIn className=\"w-4 h-4\" />\n                  <span>{t('common.auth.login')}</span>\n                </Link>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      <style jsx>{`\n        .shimmer-effect {\n          background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\n          background-size: 200% 100%;\n          animation: shimmer 1.5s ease-in-out infinite;\n        }\n        @keyframes shimmer {\n          0% { background-position: -200% 0; }\n          100% { background-position: 200% 0; }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default MobileNavigationMenu; "],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}