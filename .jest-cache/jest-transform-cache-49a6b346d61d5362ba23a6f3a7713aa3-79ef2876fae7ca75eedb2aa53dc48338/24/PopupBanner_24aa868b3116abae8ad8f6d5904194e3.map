{"version":3,"names":["_default","PopupBanner","isOpen","onClose","onCloseFor7Days","slides","cov_wmtrcu9w","f","current","setCurrent","s","_react","useState","direction","setDirection","contentRef","useRef","isOverflow","setIsOverflow","imageUrl","title","content","b","t","_languageStore","useLanguageStore","useEffect","scrollHeight","clientHeight","length","handlePrev","setTimeout","prev","handleNext","_jsxruntime","jsx","className","jsxs","onClick","xmlns","fill","viewBox","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","style","position","paddingTop","_image","default","src","alt","ref"],"sources":["/Users/charlie.hyun/Repositories/picnic-web/components/client/vote/dialogs/PopupBanner.tsx"],"sourcesContent":["import { useLanguageStore } from '@/stores/languageStore';\nimport React, { useState, useRef, useEffect } from 'react';\nimport Image from 'next/image';\n\ninterface Slide {\n  imageUrl?: string;\n  title?: string;\n  content?: string;\n}\n\ninterface PopupBannerProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onCloseFor7Days: () => void;\n  slides: Slide[];\n}\n\nconst PopupBanner: React.FC<PopupBannerProps> = ({\n  isOpen,\n  onClose,\n  onCloseFor7Days,\n  slides,\n}) => {\n  const [current, setCurrent] = useState(0);\n  const [direction, setDirection] = useState<'left' | 'right' | null>(null);\n  const contentRef = useRef<HTMLParagraphElement>(null);\n  const [isOverflow, setIsOverflow] = useState(false);\n\n  const { imageUrl, title, content } = slides[current] || {};\n  const { t } = useLanguageStore();\n\n  useEffect(() => {\n    if (contentRef.current) {\n      setIsOverflow(contentRef.current.scrollHeight > contentRef.current.clientHeight);\n    }\n  }, [content, current]);\n\n  if (!isOpen || !slides || slides.length === 0) return null;\n\n  const handlePrev = () => {\n    if (current > 0) {\n      setDirection('left');\n      setTimeout(() => {\n        setCurrent((prev) => prev - 1);\n        setDirection(null);\n      }, 250);\n    }\n  };\n\n  const handleNext = () => {\n    if (current < slides.length - 1) {\n      setDirection('right');\n      setTimeout(() => {\n        setCurrent((prev) => prev + 1);\n        setDirection(null);\n      }, 250);\n    }\n  };\n\n  return (\n    <div className='fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-8'>\n      <div\n        className={`bg-white rounded-lg shadow-lg w-full max-w-sm flex flex-col relative overflow-hidden min-h-[400px] max-h-[90vh]`}\n      >\n        {/* 좌우 버튼 */}\n        {current > 0 && (\n          <button\n            className='absolute left-2 top-1/2 -translate-y-1/2 bg-primary bg-opacity-80 shadow-lg rounded-full p-2 flex items-center justify-center hover:bg-primary-dark hover:bg-opacity-100 transition-all duration-200 z-10'\n            onClick={handlePrev}\n            aria-label='이전'\n          >\n            <svg\n              xmlns='http://www.w3.org/2000/svg'\n              className='h-6 w-6'\n              fill='none'\n              viewBox='0 0 24 24'\n              stroke='white'\n              strokeWidth={2}\n            >\n              <path\n                strokeLinecap='round'\n                strokeLinejoin='round'\n                d='M15 19l-7-7 7-7'\n              />\n            </svg>\n          </button>\n        )}\n        {current < slides.length - 1 && (\n          <button\n            className='absolute right-2 top-1/2 -translate-y-1/2 bg-primary bg-opacity-80 shadow-lg rounded-full p-2 flex items-center justify-center hover:bg-primary-dark hover:bg-opacity-100 transition-all duration-200 z-10'\n            onClick={handleNext}\n            aria-label='다음'\n          >\n            <svg\n              xmlns='http://www.w3.org/2000/svg'\n              className='h-6 w-6'\n              fill='none'\n              viewBox='0 0 24 24'\n              stroke='white'\n              strokeWidth={2}\n            >\n              <path\n                strokeLinecap='round'\n                strokeLinejoin='round'\n                d='M9 5l7 7-7 7'\n              />\n            </svg>\n          </button>\n        )}\n        \n        {/* 콘텐츠 영역 */}\n        <div className='flex-1 flex flex-col overflow-hidden'>\n          <div\n            className={`flex flex-col items-center w-full h-full transition-transform duration-300 ease-in-out ${\n              direction === 'left'\n                ? '-translate-x-10 opacity-0'\n                : direction === 'right'\n                ? 'translate-x-10 opacity-0'\n                : 'translate-x-0 opacity-100'\n            }`}\n          >\n            {/* 이미지 영역 */}\n            <div\n              className='w-full flex-shrink-0 rounded-t-lg overflow-hidden bg-gray-100'\n              style={{ position: 'relative', paddingTop: '56.25%' }}\n            >\n              <Image\n                src={imageUrl || '/images/logo_alpha.png'}\n                alt='popup'\n                fill\n                className={`${imageUrl ? 'object-cover' : 'object-contain'}`}\n              />\n            </div>\n            \n            {/* 제목과 내용 영역 */}\n            <div className='flex-1 flex flex-col w-full p-4 overflow-hidden'>\n              {title && (\n                <h2 className='text-lg font-bold mb-3 text-center text-black px-2 py-1 flex-shrink-0'>\n                  {title}\n                </h2>\n              )}\n              {content && (\n                <div className='flex-1 px-2 relative text-sm overflow-hidden'>\n                  <p\n                    ref={contentRef}\n                    className='text-gray-700 text-left whitespace-pre-line overflow-y-auto h-full p-3 rounded-lg bg-gray-50'\n                  >\n                    {content}\n                  </p>\n                  {isOverflow && (\n                    <div className='pointer-events-none absolute left-5 right-5 bottom-3 h-6 bg-gradient-to-t from-gray-50 to-transparent rounded-b-lg' />\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n        \n        {/* 버튼 영역 - 항상 하단에 고정 */}\n        <div className='flex-shrink-0 flex flex-row gap-2 w-full p-4 pt-2 bg-white border-t border-gray-100'>\n          <button\n            className='flex-1 py-2 px-4 rounded bg-gray-200 text-gray-700 hover:bg-gray-300 transition-colors'\n            onClick={onClose}\n          >\n            {t('label_popup_close')}\n          </button>\n          <button\n            className='flex-1 py-2 px-4 rounded bg-primary text-white hover:bg-primary-dark transition-colors'\n            onClick={onCloseFor7Days}\n          >\n            {t('label_popup_hide_7days')}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PopupBanner; "],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BAkLA;;;;;;WAAAA,QAAA;;;;;;;;gCAlLiC;;;uEACkB;;;sEACjC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}