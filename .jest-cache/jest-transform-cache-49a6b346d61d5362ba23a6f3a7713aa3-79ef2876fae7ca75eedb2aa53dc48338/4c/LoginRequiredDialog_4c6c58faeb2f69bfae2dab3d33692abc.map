{"version":3,"names":["LoginRequiredDialog","isOpen","cov_14hgo3o4zg","b","redirectUrl","onLogin","onCancel","title","description","loginText","cancelText","dialogProps","f","router","s","_navigation","useRouter","t","currentLanguage","isHydrated","_languageStore","useLanguageStore","console","log","hasTitle","hasDescription","getDefaultTitle","translated","trim","startsWith","getDefaultDescription","getDefaultLoginText","getDefaultCancelText","handleLogin","_authredirect","saveRedirectUrl","redirectToLogin","handleCancel","onClose","_jsxruntime","jsx","_Dialog","Dialog","type","size","animation","jsxs","Footer","className","onClick","_utils","cn","_theme","buttonTheme","base","sizes","md","variants","secondary","primary","_lucidereact","LogIn"],"sources":["/Users/charlie.hyun/Repositories/picnic-web/components/ui/Dialog/LoginRequiredDialog.tsx"],"sourcesContent":["'use client';\n\nimport { useRouter } from 'next/navigation';\nimport { LogIn, X } from 'lucide-react';\nimport { Dialog } from './Dialog';\nimport { LoginRequiredDialogProps } from './types';\nimport { buttonTheme } from './theme';\nimport { saveRedirectUrl, redirectToLogin } from '@/utils/auth-redirect';\nimport { useLanguageStore } from '@/stores/languageStore';\nimport { cn } from '@/lib/utils';\n\nexport function LoginRequiredDialog({\n  isOpen = false,\n  redirectUrl,\n  onLogin,\n  onCancel,\n  title,\n  description,\n  loginText,\n  cancelText,\n  ...dialogProps\n}: LoginRequiredDialogProps) {\n  const router = useRouter();\n  const { t, currentLanguage, isHydrated } = useLanguageStore();\n\n  // 디버깅용 로깅\n  console.log('[LoginRequiredDialog] State:', {\n    currentLanguage,\n    isHydrated,\n    isOpen,\n    hasTitle: !!title,\n    hasDescription: !!description\n  });\n\n  // 더 안전한 다국어 지원 기본값\n  const getDefaultTitle = () => {\n    if (title) return title;\n    const translated = t('dialog_content_login_required');\n    console.log('[LoginRequiredDialog] Title translation:', translated);\n    if (translated && translated.trim() && !translated.startsWith('[')) {\n      return translated;\n    }\n    return 'Login Required';\n  };\n\n  const getDefaultDescription = () => {\n    if (description) return description;\n    const translated = t('dialog_login_required_description');\n    console.log('[LoginRequiredDialog] Description translation:', translated);\n    if (translated && translated.trim() && !translated.startsWith('[')) {\n      return translated;\n    }\n    return 'Please log in to continue using this service.';\n  };\n\n  const getDefaultLoginText = () => {\n    if (loginText) return loginText;\n    const translated = t('dialog_login_required_login_button');\n    console.log('[LoginRequiredDialog] Login button translation:', translated);\n    if (translated && translated.trim() && !translated.startsWith('[')) {\n      return translated;\n    }\n    return 'Login';\n  };\n\n  const getDefaultCancelText = () => {\n    if (cancelText) return cancelText;\n    const translated = t('dialog_login_required_cancel_button');\n    console.log('[LoginRequiredDialog] Cancel button translation:', translated);\n    if (translated && translated.trim() && !translated.startsWith('[')) {\n      return translated;\n    }\n    return 'Cancel';\n  };\n\n  const handleLogin = () => {\n    if (onLogin) {\n      onLogin(redirectUrl);\n    } else {\n      if (redirectUrl) {\n        saveRedirectUrl(redirectUrl);\n      }\n      redirectToLogin(redirectUrl);\n    }\n  };\n\n  const handleCancel = () => {\n    if (onCancel) {\n      onCancel();\n    }\n    dialogProps.onClose();\n  };\n\n  return (\n    <Dialog\n      {...dialogProps}\n      isOpen={isOpen}\n      title={getDefaultTitle()}\n      description={getDefaultDescription()}\n      type=\"info\"\n      size=\"md\"\n      animation=\"scale\"\n    >\n      <Dialog.Footer className=\"flex flex-col-reverse sm:flex-row gap-2 sm:gap-3\">\n        <button\n          type='button'\n          onClick={handleCancel}\n          className={cn(\n            buttonTheme.base,\n            buttonTheme.sizes.md,\n            buttonTheme.variants.secondary,\n            'w-full sm:w-auto order-2 sm:order-1',\n          )}\n        >\n          {getDefaultCancelText()}\n        </button>\n        <button\n          type='button'\n          onClick={handleLogin}\n          className={cn(\n            buttonTheme.base,\n            buttonTheme.sizes.md,\n            buttonTheme.variants.primary,\n            'w-full sm:w-auto order-1 sm:order-2',\n          )}\n        >\n          <div className=\"flex items-center justify-center gap-2\">\n            <LogIn className='h-4 w-4' />\n            <span>{getDefaultLoginText()}</span>\n          </div>\n        </button>\n      </Dialog.Footer>\n    </Dialog>\n  );\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}