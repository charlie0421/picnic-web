{"version":3,"names":["VoteItems","vote","mode","cov_avw52h1kw","b","onNavigateToDetail","f","displayStatus","setDisplayStatus","s","_react","useState","_voteFilterStore","VOTE_STATUS","UPCOMING","calculateStatus","date","start_at","stop_at","start","Date","end","getTime","COMPLETED","ONGOING","useEffect","now","initialStatus","_jsxruntime","jsx","_UpcomingVoteItems","UpcomingVoteItems","_OngoingVoteItems","OngoingVoteItems","_CompletedVoteItems","CompletedVoteItems"],"sources":["/Users/charlie.hyun/Repositories/picnic-web/components/client/vote/list/VoteItems.tsx"],"sourcesContent":["'use client';\n\nimport React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { Vote, VoteItem } from '@/types/interfaces';\nimport { VOTE_STATUS, VoteStatus } from '@/stores/voteFilterStore';\nimport { OngoingVoteItems } from './OngoingVoteItems';\nimport { CompletedVoteItems } from './CompletedVoteItems';\nimport { UpcomingVoteItems } from './UpcomingVoteItems';\n\ninterface VoteItemsProps {\n  vote: Vote & { voteItem?: Array<VoteItem & { artist?: any }> };\n  mode?: 'list' | 'detail'; // 투표 리스트 vs 투표 상세 모드\n  onNavigateToDetail?: (voteId?: string | number) => void; // 투표 상세로 이동\n}\n\n/**\n * 투표 항목 컴포넌트\n *\n * 투표 상태(예정/진행중/완료)에 따라 다른 하위 컴포넌트를 렌더링합니다.\n * 클라이언트 컴포넌트로 구현되어야 하는 이유:\n * 1. 이벤트 핸들러 사용\n * 2. useRef, useCallback 등 React 훅 사용\n */\nexport const VoteItems = ({ vote, mode = 'list', onNavigateToDetail }: VoteItemsProps) => {\n  const [displayStatus, setDisplayStatus] = useState<VoteStatus>(\n    VOTE_STATUS.UPCOMING,\n  );\n\n  // 투표 상태 계산 함수\n  const calculateStatus = (date: Date): VoteStatus => {\n    if (!vote.start_at || !vote.stop_at) return VOTE_STATUS.UPCOMING;\n\n    const start = new Date(vote.start_at);\n    const end = new Date(vote.stop_at);\n\n    // 현재 시간이 시작 시간보다 이전인지 확인\n    if (date.getTime() < start.getTime()) return VOTE_STATUS.UPCOMING;\n    // 현재 시간이 종료 시간을 지났는지 확인\n    if (date.getTime() > end.getTime()) return VOTE_STATUS.COMPLETED;\n    // 그 외의 경우는 진행 중\n    return VOTE_STATUS.ONGOING;\n  };\n\n  // 컴포넌트 마운트 시 초기 상태 계산\n  useEffect(() => {\n    const now = new Date();\n    const initialStatus = calculateStatus(now);\n    setDisplayStatus(initialStatus);\n  }, [vote]);\n\n  switch (displayStatus) {\n    case VOTE_STATUS.UPCOMING:\n      return <UpcomingVoteItems vote={vote} />;\n    case VOTE_STATUS.ONGOING:\n      // 메인 투표 리스트에서는 onVoteChange를 전달하지 않아 투표 기능 비활성화\n      return <OngoingVoteItems vote={vote} mode={mode} onNavigateToDetail={onNavigateToDetail} />;\n    case VOTE_STATUS.COMPLETED:\n      return <CompletedVoteItems vote={vote} />;\n    default:\n      return null;\n  }\n};\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}