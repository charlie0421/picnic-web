{"version":3,"names":["SocialLoginButtons","onLoginStart","onLoginComplete","onError","providers","cov_1balcyamum","b","size","f","isLoading","setIsLoading","s","_react","useState","lastUsedProvider","setLastUsedProvider","sortedProviders","setSortedProviders","t","_languageStore","useLanguageStore","authLoading","_authprovider","useAuth","setGlobalLoading","_GlobalLoadingContext","useGlobalLoading","useEffect","lastProvider","_authhelpers","getLastLoginProvider","sortProvidersByLastUsed","handleSocialLogin","useCallback","provider","console","log","toUpperCase","socialAuthService","_social","getSocialAuthService","authResult","signInWithProvider","success","error","Error","providerConfig","google","label","bgColor","textColor","hoverColor","iconPath","borderColor","apple","kakao","wechat","hasLastUsedProvider","includes","otherProviders","filter","p","_jsxruntime","jsxs","className","jsx","renderLoginButton","length","map","isLastUsed","config","buttonHeight","getProviderStyle","baseStyle","_Button","Button","variant","onClick","disabled","_image","default","src","alt","charAt","slice","width","height","priority","unoptimized"],"sources":["/Users/charlie.hyun/Repositories/picnic-web/components/client/auth/SocialLoginButtons.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useCallback, useEffect } from 'react';\nimport Image from 'next/image';\nimport { createBrowserSupabaseClient } from '@/lib/supabase/client';\nimport { useAuth } from '@/lib/supabase/auth-provider';\nimport { useLanguageStore } from '@/stores/languageStore';\nimport { useGlobalLoading } from '@/contexts/GlobalLoadingContext';\nimport { getSocialAuthService } from '@/lib/supabase/social';\nimport type { SocialLoginProvider } from '@/lib/supabase/social/types';\nimport { Button } from '@/components/common/atoms/Button';\nimport { \n  getLastLoginProvider, \n  sortProvidersByLastUsed\n} from '@/utils/auth-helpers';\n\ninterface SocialLoginButtonsProps {\n  onLoginStart?: () => void;\n  onLoginComplete?: () => void;\n  onError?: (error: Error) => void;\n  providers?: SocialLoginProvider[];\n  size?: 'small' | 'medium' | 'large';\n}\n\n// 모든 환경에서 동일 처리: 로컬 특별 로직 제거\n\nexport function SocialLoginButtons({\n  onLoginStart,\n  onLoginComplete,\n  onError,\n  providers = ['google', 'apple'], // 'kakao' 임시 제거 - 웹에서 지원 안함\n  size = 'medium',\n}: SocialLoginButtonsProps) {\n  const [isLoading, setIsLoading] = useState<SocialLoginProvider | null>(null);\n  const [lastUsedProvider, setLastUsedProvider] = useState<SocialLoginProvider | null>(null);\n  const [sortedProviders, setSortedProviders] = useState<SocialLoginProvider[]>(providers);\n  const { t } = useLanguageStore();\n  const { isLoading: authLoading } = useAuth();\n  const { setIsLoading: setGlobalLoading } = useGlobalLoading();\n\n  // 컴포넌트 마운트 시 최근 사용한 로그인 수단을 확인\n  useEffect(() => {\n    const lastProvider = getLastLoginProvider();\n    setLastUsedProvider(lastProvider);\n    setSortedProviders(sortProvidersByLastUsed(providers));\n  }, [providers]);\n\n  const handleSocialLogin = useCallback(\n    async (provider: SocialLoginProvider) => {\n\n      console.log(`🔄 [SocialLogin] ${provider.toUpperCase()} 로그인 시작`);\n      \n      try {\n        // 로딩 상태 설정 (다른 버튼들도 비활성화됨)\n        setIsLoading(provider);\n        setGlobalLoading(true); // 전역 로딩바 시작\n        \n        // 로그인 시작 콜백\n        onLoginStart?.();\n\n        // 소셜 로그인 서비스 인스턴스 가져오기 (자동으로 Supabase 클라이언트 생성)\n        const socialAuthService = getSocialAuthService();\n        console.log(`🔗 [SocialLogin] ${provider.toUpperCase()} 인증 서비스 생성 완료`);\n\n        // 선택된 제공자로 로그인 시도\n        console.log(`🔍 [SocialLoginButtons] ${provider} 로그인 서비스 호출 시작`);\n        const authResult = await socialAuthService.signInWithProvider(provider);\n\n        console.log(`🔗 [SocialLogin] ${provider.toUpperCase()} 인증 결과:`, authResult);\n        \n        if (authResult.success) {\n          // 로그인 리다이렉트 성공 - 실제 인증 완료는 콜백에서 처리됨\n          // (saveLastLoginProvider는 AuthCallback에서 실제 인증 성공 시 호출됨)\n          \n          console.log(`✅ [SocialLoginButtons] ${provider} 리다이렉트 성공`);\n          onLoginComplete?.();\n          // 성공 시에는 로딩 상태를 유지하여 리다이렉트까지 버튼 비활성화\n        } else {\n          // 오류 처리\n          console.error(`❌ [SocialLoginButtons] ${provider} 로그인 실패:`, authResult.error);\n          onError?.(authResult.error || new Error(t('unknown_login_error')));\n          // 실패 시에만 로딩 상태 해제\n          setIsLoading(null);\n          setGlobalLoading(false); // 전역 로딩바 종료\n        }\n      } catch (error) {\n        console.error(`💥 [SocialLoginButtons] ${provider} 소셜 로그인 오류:`, error);\n        onError?.(\n          error instanceof Error\n            ? error\n            : new Error(t('unknown_login_error')),\n        );\n        // 에러 시에만 로딩 상태 해제\n        setIsLoading(null);\n        setGlobalLoading(false); // 전역 로딩바 종료\n      }\n      // finally 블록 제거 - 성공 시에는 로딩 상태를 유지하여 리다이렉트까지 버튼 비활성화\n    },\n    [onLoginStart, onError, t, providers, setGlobalLoading],\n  );\n\n  // 각 소셜 로그인 버튼의 스타일 및 내용 설정\n  const providerConfig: Record<\n    SocialLoginProvider,\n    {\n      label: string;\n      bgColor: string;\n      textColor: string;\n      hoverColor: string;\n      iconPath: string;\n      borderColor?: string;\n    }\n  > = {\n    google: {\n      label: t('label_login_with_google') || 'Google로 로그인',\n      bgColor: 'bg-white',\n      textColor: 'text-gray-700',\n      hoverColor: 'hover:bg-gray-50',\n      iconPath: '/images/auth/google.svg',\n      borderColor: 'border-gray-300',\n    },\n    apple: {\n      label: t('label_login_with_apple') || 'Apple로 로그인',\n      bgColor: 'bg-black',\n      textColor: 'text-white',\n      hoverColor: 'hover:bg-gray-900',\n      iconPath: '/images/auth/apple.svg',\n    },\n    kakao: {\n      label: t('label_login_with_kakao') || 'Kakao로 로그인',\n      bgColor: 'bg-yellow-400',\n      textColor: 'text-gray-900',\n      hoverColor: 'hover:bg-yellow-500',\n      iconPath: '/images/auth/kakao.svg',\n    },\n    wechat: {\n      label: t('label_login_with_wechat') || 'WeChat으로 로그인',\n      bgColor: 'bg-green-500',\n      textColor: 'text-white',\n      hoverColor: 'hover:bg-green-600',\n      iconPath: '/images/auth/wechat.svg',\n    },\n  };\n\n  // 최근 사용한 provider가 있는지 확인\n  const hasLastUsedProvider = lastUsedProvider && sortedProviders.includes(lastUsedProvider);\n  const otherProviders = hasLastUsedProvider \n    ? sortedProviders.filter(p => p !== lastUsedProvider)\n    : sortedProviders;\n\n  return (\n    <div className='flex flex-col w-full gap-2 sm:gap-3'>\n      {/* 최근 사용한 로그인 수단 섹션 */}\n      {hasLastUsedProvider && (\n        <div className=\"space-y-2\">\n          <div className=\"flex items-center gap-2 text-xs sm:text-sm text-gray-600 mb-2\">\n            <span className=\"h-px bg-gray-300 flex-1\"></span>\n            <span className=\"px-2 bg-white text-gray-500 font-medium\">\n              {t('label_last_used_login') || '최근 사용'}\n            </span>\n            <span className=\"h-px bg-gray-300 flex-1\"></span>\n          </div>\n          \n          {renderLoginButton(lastUsedProvider, true)}\n          \n          {otherProviders.length > 0 && (\n            <div className=\"flex items-center gap-2 text-xs sm:text-sm text-gray-600 mt-4 mb-2\">\n              <span className=\"h-px bg-gray-300 flex-1\"></span>\n              <span className=\"px-2 bg-white text-gray-500 font-medium\">\n                {t('label_other_login_methods') || '다른 로그인 방법'}\n              </span>\n              <span className=\"h-px bg-gray-300 flex-1\"></span>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* 다른 로그인 수단들 */}\n      {otherProviders.map((provider) => renderLoginButton(provider, false))}\n      \n      {/* 모든 제공자 동일 처리: 특별 안내 메시지 제거 */}\n    </div>\n  );\n\n  function renderLoginButton(provider: SocialLoginProvider, isLastUsed: boolean) {\n    const config = providerConfig[provider];\n    // size에 따른 버튼 높이 조정 - 모바일에서 더 적절한 크기 제공\n    const buttonHeight = size === 'small' \n      ? 'h-10 sm:h-9' \n      : size === 'large' \n      ? 'h-14 sm:h-16' \n      : isLastUsed\n      ? 'h-14 sm:h-16' // 최근 사용한 버튼은 조금 더 크게\n      : 'h-12 sm:h-14';\n\n    // provider별 특별한 스타일링\n    const getProviderStyle = () => {\n      const baseStyle = isLastUsed ? 'ring-2 ring-blue-500 ring-opacity-50 ' : '';\n      \n      switch (provider) {\n        case 'google':\n          return baseStyle + 'bg-white hover:bg-gray-50 border-2 border-gray-200 hover:border-gray-300 hover:shadow-lg !text-gray-700 transform hover:scale-[1.02] active:scale-[0.98]';\n        case 'apple':\n          return baseStyle + 'bg-gradient-to-r from-gray-900 to-black hover:from-black hover:to-gray-900 border-2 border-gray-800 hover:border-gray-700 !text-white hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98]';\n        case 'kakao':\n          return baseStyle + 'bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 border-2 border-yellow-400 hover:border-yellow-500 !text-gray-900 hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98]';\n        case 'wechat':\n          return baseStyle + 'bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 border-2 border-green-600 hover:border-green-700 !text-white hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98]';\n        default:\n          return baseStyle + 'bg-white hover:bg-gray-50 border-2 border-gray-200 hover:border-gray-300 !text-gray-700';\n      }\n    };\n\n    // 모든 제공자 동일 처리: 특별 비활성화 조건 제거\n\n    return (\n      <div key={provider} className=\"relative\">\n        <Button\n          variant=\"ghost\"\n          onClick={() => handleSocialLogin(provider)}\n          disabled={isLoading !== null || authLoading}\n          className={`relative flex items-center justify-center w-full gap-2 sm:gap-3 ${buttonHeight} px-4 sm:px-6 rounded-lg sm:rounded-xl transition-all duration-300 font-medium text-xs sm:text-sm md:text-base shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none ${getProviderStyle()}`}\n        >\n          {/* 로딩 상태일 때의 오버레이 */}\n          {isLoading === provider && (\n            <div className=\"absolute inset-0 bg-white/20 rounded-lg sm:rounded-xl flex items-center justify-center\">\n              <div className=\"w-4 h-4 sm:w-5 sm:h-5 border-2 border-current border-t-transparent rounded-full animate-spin\"></div>\n            </div>\n          )}\n          \n          {/* 최근 사용 표시 */}\n          {isLastUsed && (\n            <div className=\"absolute -top-2 -right-2 z-10\">\n              <div className=\"bg-blue-500 text-white text-xs px-2 py-1 rounded-full shadow-lg\">\n                {t('label_last_provider') || '최근'}\n              </div>\n            </div>\n          )}\n          \n          {/* 아이콘 */}\n          <div className={`flex items-center justify-center flex-shrink-0 ${size === 'large' || isLastUsed ? 'w-6 h-6 sm:w-8 sm:h-8' : 'w-5 h-5 sm:w-6 sm:h-6'} transition-transform duration-300 ${isLoading === provider ? 'scale-0' : 'scale-100'}`}>\n            <Image\n              src={config.iconPath}\n              alt={`${provider.charAt(0).toUpperCase() + provider.slice(1)} 로그인`}\n              width={size === 'large' || isLastUsed ? 24 : 20}\n              height={size === 'large' || isLastUsed ? 24 : 20}\n              className={`${size === 'large' || isLastUsed ? 'w-6 h-6 sm:w-8 sm:h-8' : 'w-5 h-5 sm:w-6 sm:h-6'} object-contain ${\n                provider === 'apple' ? 'filter brightness-0 invert' : ''\n              }`}\n              priority={provider === 'google' || isLastUsed}\n              unoptimized={provider === 'wechat'} // WeChat SVG의 렌더링 문제 해결\n            />\n          </div>\n          \n          {/* 텍스트 */}\n          <span className={`font-medium text-xs sm:text-sm md:text-base whitespace-nowrap transition-all duration-300 ${\n            provider === 'google' ? '!text-gray-700' :\n            provider === 'apple' ? '!text-white' :\n            provider === 'kakao' ? '!text-gray-900' :\n            provider === 'wechat' ? '!text-white' : '!text-gray-700'\n          } ${isLoading === provider ? 'opacity-0 translate-x-2' : 'opacity-100 translate-x-0'}`}>\n            {isLoading === provider ? (t('label_logging_in') || '로그인 중...') : config.label}\n          </span>\n\n          {/* 버튼 하이라이트 효과 */}\n          <div className=\"absolute inset-0 rounded-lg sm:rounded-xl bg-gradient-to-r from-white/0 via-white/20 to-white/0 opacity-0 hover:opacity-100 transition-opacity duration-500 pointer-events-none\"></div>\n        </Button>\n\n      </div>\n    );\n  }\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}