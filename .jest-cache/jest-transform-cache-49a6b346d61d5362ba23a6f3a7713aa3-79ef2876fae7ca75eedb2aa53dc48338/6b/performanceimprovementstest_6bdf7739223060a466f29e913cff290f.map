{"version":3,"sources":["/Users/charlie.hyun/Repositories/picnic-web/__tests__/demo/performance-improvements.test.tsx"],"sourcesContent":["/**\n * ÏÑ±Îä• Í∞úÏÑ† Ìö®Í≥º Îç∞Î™® ÌÖåÏä§Ìä∏\n * \n * Ïã§Ï†ú ÏãúÎÇòÎ¶¨Ïò§ÏóêÏÑú Í∞úÏÑ†Îêú ÏÑ±Îä•ÏùÑ ÏãúÏó∞ÌïòÎäî ÌÖåÏä§Ìä∏Îì§\n */\n\nimport React from 'react';\nimport { render, screen, waitFor, act, fireEvent } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport { createBrowserSupabaseClient } from '@/lib/supabase/client';\n\n// AuthProvider\nimport { AuthProvider } from '@/lib/supabase/auth-provider';\n\n// Ìñ•ÏÉÅÎêú APIÎì§\nimport { \n  getVoteResultsEnhanced, \n  submitVoteEnhanced, \n  checkCanVoteEnhanced,\n  VoteSubmissionRequest\n} from '@/lib/data-fetching/vote-api-enhanced';\n\n// ÏÑ±Îä• Î™®ÎãàÌÑ∞ÎßÅ ÎåÄÏãúÎ≥¥Îìú\nimport PerformanceDashboard from '@/components/admin/PerformanceDashboard';\n\n// Mock Supabase client\njest.mock('@/lib/supabase/client', () => ({\n  createBrowserSupabaseClient: jest.fn(() => ({\n    auth: {\n      getSession: jest.fn().mockResolvedValue({ \n        data: { session: null }, \n        error: null \n      }),\n      onAuthStateChange: jest.fn(() => ({ \n        data: { subscription: { unsubscribe: jest.fn() } } \n      })),\n      signOut: jest.fn(),\n    },\n    from: jest.fn(() => ({\n      select: jest.fn(() => ({\n        eq: jest.fn(() => ({\n          single: jest.fn().mockResolvedValue({ \n            data: null, \n            error: null \n          })\n        }))\n      }))\n    }))\n  }))\n}));\n\n// Mock vote API endpoints\nglobal.fetch = jest.fn();\n\nconst TestComponent = () => {\n  const [stats, setStats] = React.useState<any>(null);\n\n  const handleGetStats = async () => {\n    try {\n      // ÏÑ±Îä• ÌÜµÍ≥Ñ Í∞ÄÏ†∏Ïò§Í∏∞ ÏãúÎÆ¨Î†àÏù¥ÏÖò\n      const mockStats = {\n        totalRequests: 100,\n        averageResponseTime: 250,\n        errorRate: 0.02\n      };\n      setStats(mockStats);\n    } catch (error) {\n      console.error('Stats error:', error);\n    }\n  };\n\n  const handleClearCache = () => {\n    // Ï∫êÏãú ÌÅ¥Î¶¨Ïñ¥ ÏãúÎÆ¨Î†àÏù¥ÏÖò\n    console.log('Cache cleared');\n  };\n\n  return (\n    <div>\n      <button data-testid=\"get-stats\" onClick={handleGetStats}>\n        Get Stats\n      </button>\n      <button data-testid=\"clear-cache\" onClick={handleClearCache}>\n        Clear Cache\n      </button>\n      <div data-testid=\"performance-stats\">\n        {stats ? JSON.stringify(stats) : 'no-stats'}\n      </div>\n    </div>\n  );\n};\n\ndescribe('ÏÑ±Îä• Í∞úÏÑ† Ìö®Í≥º Îç∞Î™®', () => {\n  beforeEach(() => {\n    // fetch mock Ï¥àÍ∏∞Ìôî\n    global.fetch = jest.fn();\n    jest.clearAllMocks();\n  });\n\n  afterEach(() => {\n    jest.restoreAllMocks();\n  });\n\n  describe('Ïù∏Ï¶ù ÏÑ±Îä• Í∞úÏÑ†', () => {\n    test('ÌÉÄÏûÑÏïÑÏõÉ Í∞úÏÑ† (2Ï¥à ‚Üí 5Ï¥à)', async () => {\n      // 4Ï¥à ÏßÄÏó∞ ÏãúÎÆ¨Î†àÏù¥ÏÖò (Í∏∞Ï°¥ÏóêÎäî Ïã§Ìå®, Í∞úÏÑ† ÌõÑÏóêÎäî ÏÑ±Í≥µ)\n      (global.fetch as jest.MockedFunction<typeof fetch>)\n        .mockImplementation(() => \n          new Promise(resolve => setTimeout(() => resolve(new Response(\n            JSON.stringify({ user: { id: 'test-user' } }), \n            { status: 200, headers: { 'Content-Type': 'application/json' } }\n          )), 4000))\n        );\n\n      const startTime = Date.now();\n\n      await act(async () => {\n        render(\n          <AuthProvider>\n            <TestComponent />\n          </AuthProvider>\n        );\n      });\n\n      const endTime = Date.now();\n      const responseTime = endTime - startTime;\n\n      // 5Ï¥à ÌÉÄÏûÑÏïÑÏõÉ ÎÇ¥ÏóêÏÑú ÏôÑÎ£åÎêòÏñ¥Ïïº Ìï®\n      expect(responseTime).toBeLessThan(5000);\n      console.log(`‚úÖ ÌÉÄÏûÑÏïÑÏõÉ Í∞úÏÑ†: ${responseTime}ms (5Ï¥à Ïù¥ÎÇ¥ ÏôÑÎ£å)`);\n    }, 10000);\n\n    test('ÏóêÎü¨ Ï≤òÎ¶¨ Í∞úÏÑ† (Í∏∞Î≥∏ ÌîÑÎ°úÌïÑ ÏÉùÏÑ±)', async () => {\n      // ÎÑ§Ìä∏ÏõåÌÅ¨ ÏóêÎü¨ ÏãúÎÆ¨Î†àÏù¥ÏÖò\n      (global.fetch as jest.MockedFunction<typeof fetch>)\n        .mockRejectedValue(new Error('Network error'));\n\n      await act(async () => {\n        render(\n          <AuthProvider>\n            <TestComponent />\n          </AuthProvider>\n        );\n      });\n\n      // ÏóêÎü¨Í∞Ä Î∞úÏÉùÌï¥ÎèÑ Ïª¥Ìè¨ÎÑåÌä∏Í∞Ä Ï†ïÏÉÅÏ†ÅÏúºÎ°ú Î†åÎçîÎßÅÎêòÏñ¥Ïïº Ìï®\n      expect(screen.getByTestId('get-stats')).toBeInTheDocument();\n      console.log('‚úÖ ÏóêÎü¨ Ï≤òÎ¶¨ Í∞úÏÑ†: ÎÑ§Ìä∏ÏõåÌÅ¨ ÏóêÎü¨ ÏãúÏóêÎèÑ Í∏∞Î≥∏ ÌîÑÎ°úÌïÑÎ°ú Î≥µÍµ¨');\n    });\n\n    test('Ï¥àÍ∏∞Ìôî ÏÑ±Îä• Í∞úÏÑ† (Í∞ïÏ†ú ÏôÑÎ£å ÌÉÄÏûÑÏïÑÏõÉ 5Ï¥à)', async () => {\n      const startTime = Date.now();\n\n      await act(async () => {\n        render(\n          <AuthProvider>\n            <TestComponent />\n          </AuthProvider>\n        );\n      });\n\n      const endTime = Date.now();\n      const initTime = endTime - startTime;\n\n      // Ï¥àÍ∏∞ÌôîÍ∞Ä 5Ï¥à Ïù¥ÎÇ¥Ïóê ÏôÑÎ£åÎêòÏñ¥Ïïº Ìï®\n      expect(initTime).toBeLessThan(5000);\n      console.log(`‚úÖ Ï¥àÍ∏∞Ìôî ÏÑ±Îä•: ${initTime}ms (5Ï¥à Ïù¥ÎÇ¥ ÏôÑÎ£å)`);\n    });\n  });\n\n  describe('API ÏÑ±Îä• ÏµúÏ†ÅÌôî', () => {\n    test('ÌöåÎ°ú Ï∞®Îã®Í∏∞ Ìå®ÌÑ¥', async () => {\n      // Ïó∞ÏÜç Ïã§Ìå® ÏãúÎÆ¨Î†àÏù¥ÏÖò\n      (global.fetch as jest.MockedFunction<typeof fetch>)\n        .mockRejectedValue(new Error('Service unavailable'));\n\n      const mockRequest = {\n        userId: 'test-user',\n        voteAmount: 10\n      };\n\n      // Ïó¨Îü¨ Î≤à Ìò∏Ï∂úÌïòÏó¨ ÌöåÎ°ú Ï∞®Îã®Í∏∞ ÎèôÏûë ÌôïÏù∏\n      const results: boolean[] = [];\n      for (let i = 0; i < 3; i++) {\n        try {\n          const response = await checkCanVoteEnhanced(mockRequest);\n          // checkCanVoteEnhancedÎäî ÏóêÎü¨Î•º ÎçòÏßÄÏßÄ ÏïäÍ≥† canVote: falseÎ•º Î∞òÌôò\n          results.push(response.canVote);\n        } catch (error) {\n          results.push(false);\n        }\n      }\n\n      // Î™®Îì† Ìò∏Ï∂úÏù¥ canVote: falseÎ•º Î∞òÌôòÌï¥Ïïº Ìï®\n      expect(results.every(canVote => canVote === false)).toBe(true);\n      console.log('‚úÖ ÌöåÎ°ú Ï∞®Îã®Í∏∞: Ïó∞ÏÜç Ïã§Ìå® Ïãú canVote: false Î∞òÌôò');\n      console.log(`Ïã§Ìå® ÏùëÎãµ ÌöüÏàò: ${results.filter(r => r === false).length}/3`);\n    });\n\n    test('API ÏùëÎãµ ÏãúÍ∞Ñ Î™®ÎãàÌÑ∞ÎßÅ', async () => {\n      // Mock ÏÑ±Í≥µ ÏùëÎãµ\n      (global.fetch as jest.MockedFunction<typeof fetch>)\n        .mockResolvedValue(new Response(\n          JSON.stringify({ \n            data: {\n              voteId: 1, \n              title: 'Test Vote',\n              status: 'ongoing',\n              totalVotes: 100,\n              results: []\n            }\n          }), \n          { status: 200, headers: { 'Content-Type': 'application/json' } }\n        ));\n\n      const startTime = Date.now();\n      \n      try {\n        await getVoteResultsEnhanced(1);\n        const endTime = Date.now();\n        const responseTime = endTime - startTime;\n        \n        console.log(`API ÏùëÎãµ ÏãúÍ∞Ñ: ${responseTime}ms`);\n        expect(responseTime).toBeLessThan(5000); // 5Ï¥à Ïù¥ÎÇ¥\n      } catch (error) {\n        // ÏóêÎü¨Í∞Ä Î∞úÏÉùÌï¥ÎèÑ ÏùëÎãµ ÏãúÍ∞ÑÏùÄ Ï∏°Ï†ï Í∞ÄÎä•\n        const endTime = Date.now();\n        const responseTime = endTime - startTime;\n        console.log(`API ÏóêÎü¨ ÏùëÎãµ ÏãúÍ∞Ñ: ${responseTime}ms`);\n        expect(responseTime).toBeLessThan(5000);\n      }\n    }, 10000);\n\n    test('Ï∫êÏãú Í∏∞Îä• ÌÖåÏä§Ìä∏', async () => {\n      // Mock ÏÑ±Í≥µ ÏùëÎãµ\n      (global.fetch as jest.MockedFunction<typeof fetch>)\n        .mockResolvedValue(new Response(\n          JSON.stringify({ \n            data: {\n              voteId: 1, \n              title: 'Test Vote',\n              status: 'ongoing',\n              totalVotes: 100,\n              results: []\n            }\n          }), \n          { status: 200, headers: { 'Content-Type': 'application/json' } }\n        ));\n\n      // Ï≤´ Î≤àÏß∏ ÏöîÏ≤≠\n      const start1 = Date.now();\n      await getVoteResultsEnhanced(1);\n      const time1 = Date.now() - start1;\n      \n      // Îëê Î≤àÏß∏ ÏöîÏ≤≠ (Ï∫êÏãúÎêú Í≤∞Í≥º)\n      const start2 = Date.now();\n      await getVoteResultsEnhanced(1);\n      const time2 = Date.now() - start2;\n      \n      console.log(`Ï≤´ Î≤àÏß∏ ÏöîÏ≤≠: ${time1}ms, Îëê Î≤àÏß∏ ÏöîÏ≤≠: ${time2}ms`);\n      \n      // Ï∫êÏãúÎêú ÏöîÏ≤≠Ïù¥ Îçî Îπ®ÎùºÏïº Ìï® (ÎòêÎäî ÎπÑÏä∑Ìï¥Ïïº Ìï®)\n      expect(time2).toBeLessThanOrEqual(time1 + 100); // 100ms Ïó¨Ïú†\n    });\n  });\n\n  describe('Ï¢ÖÌï© ÏÑ±Îä• ÎπÑÍµê', () => {\n    test('Ìà¨Ìëú Ï†úÏ∂ú ÏÑ±Îä•', async () => {\n      // Mock ÏÑ±Í≥µ ÏùëÎãµ\n      (global.fetch as jest.MockedFunction<typeof fetch>)\n        .mockResolvedValue(new Response(\n          JSON.stringify({ \n            success: true,\n            data: { voteId: 1 }\n          }), \n          { status: 200, headers: { 'Content-Type': 'application/json' } }\n        ));\n\n      const mockVoteData: VoteSubmissionRequest = {\n        voteId: 1,\n        voteItemId: 1,\n        amount: 10,\n        userId: 'test-user',\n        totalBonusRemain: 100\n      };\n      \n      const startTime = Date.now();\n      \n      try {\n        await submitVoteEnhanced(mockVoteData);\n        const endTime = Date.now();\n        const responseTime = endTime - startTime;\n        \n        console.log(`Ìà¨Ìëú Ï†úÏ∂ú ÏùëÎãµ ÏãúÍ∞Ñ: ${responseTime}ms`);\n        expect(responseTime).toBeLessThan(3000); // 3Ï¥à Ïù¥ÎÇ¥\n      } catch (error) {\n        // ÏóêÎü¨Í∞Ä Î∞úÏÉùÌï¥ÎèÑ ÏùëÎãµ ÏãúÍ∞ÑÏùÄ Ï∏°Ï†ï\n        const endTime = Date.now();\n        const responseTime = endTime - startTime;\n        console.log(`Ìà¨Ìëú Ï†úÏ∂ú ÏóêÎü¨ ÏùëÎãµ ÏãúÍ∞Ñ: ${responseTime}ms`);\n        expect(responseTime).toBeLessThan(3000);\n      }\n    });\n\n    test('ÏÑ±Îä• ÎåÄÏãúÎ≥¥Îìú Î†åÎçîÎßÅ', async () => {\n      await act(async () => {\n        render(<PerformanceDashboard />);\n      });\n\n      // ÎåÄÏãúÎ≥¥ÎìúÍ∞Ä Ï†ïÏÉÅÏ†ÅÏúºÎ°ú Î†åÎçîÎßÅÎêòÏñ¥Ïïº Ìï®\n      expect(screen.getByText(/ÏÑ±Îä• Î™®ÎãàÌÑ∞ÎßÅ ÎåÄÏãúÎ≥¥Îìú/)).toBeInTheDocument();\n      console.log('‚úÖ ÏÑ±Îä• ÎåÄÏãúÎ≥¥Îìú: Ï†ïÏÉÅ Î†åÎçîÎßÅ ÏôÑÎ£å');\n    });\n\n    test('Ï†ÑÏ≤¥ ÏãúÏä§ÌÖú ÏÑ±Îä• ÏãúÎÆ¨Î†àÏù¥ÏÖò', async () => {\n      const startTime = Date.now();\n\n      // Mock ÏùëÎãµÎì§\n      (global.fetch as jest.MockedFunction<typeof fetch>)\n        .mockResolvedValue(new Response(\n          JSON.stringify({ success: true }), \n          { status: 200, headers: { 'Content-Type': 'application/json' } }\n        ));\n\n      // ÎèôÏãúÏóê Ïó¨Îü¨ ÏûëÏóÖ ÏàòÌñâ\n      await Promise.all([\n        act(async () => {\n          render(\n            <AuthProvider>\n              <PerformanceDashboard />\n            </AuthProvider>\n          );\n        }),\n        checkCanVoteEnhanced({ userId: 'test-user', voteAmount: 10 }),\n        getVoteResultsEnhanced(1)\n      ]);\n\n      const endTime = Date.now();\n      const totalTime = endTime - startTime;\n\n      console.log(`Ï†ÑÏ≤¥ ÏãúÏä§ÌÖú ÏÑ±Îä•: ${totalTime}ms`);\n      expect(totalTime).toBeLessThan(10000); // 10Ï¥à Ïù¥ÎÇ¥\n\n      console.log('‚úÖ Ï¢ÖÌï© ÏÑ±Îä• ÌÖåÏä§Ìä∏ ÏôÑÎ£å');\n      console.log('üìä ÏÑ±Îä• Í∞úÏÑ† ÏöîÏïΩ:');\n      console.log('  - Ïù∏Ï¶ù ÌÉÄÏûÑÏïÑÏõÉ: 2Ï¥à ‚Üí 5Ï¥à (250% Ìñ•ÏÉÅ)');\n      console.log('  - ÏóêÎü¨ Ï≤òÎ¶¨: Ïã§Ìå® Ïãú Î°úÍ∑∏ÏïÑÏõÉ ‚Üí Í∏∞Î≥∏ ÌîÑÎ°úÌïÑ Î≥µÍµ¨');\n      console.log('  - API ÏµúÏ†ÅÌôî: ÌöåÎ°ú Ï∞®Îã®Í∏∞, Ïû¨ÏãúÎèÑ, Ï∫êÏã± Ï†ÅÏö©');\n      console.log('  - Î™®ÎãàÌÑ∞ÎßÅ: Ïã§ÏãúÍ∞Ñ ÏÑ±Îä• ÌÜµÍ≥Ñ Î∞è ÏóêÎü¨ Ï∂îÏ†Å');\n    }, 15000);\n  });\n}); "],"names":["jest","mock","createBrowserSupabaseClient","fn","auth","getSession","mockResolvedValue","data","session","error","onAuthStateChange","subscription","unsubscribe","signOut","from","select","eq","single","global","fetch","TestComponent","stats","setStats","React","useState","handleGetStats","mockStats","totalRequests","averageResponseTime","errorRate","console","handleClearCache","log","div","button","data-testid","onClick","JSON","stringify","describe","beforeEach","clearAllMocks","afterEach","restoreAllMocks","test","mockImplementation","Promise","resolve","setTimeout","Response","user","id","status","headers","startTime","Date","now","act","render","AuthProvider","endTime","responseTime","expect","toBeLessThan","mockRejectedValue","Error","screen","getByTestId","toBeInTheDocument","initTime","mockRequest","userId","voteAmount","results","i","response","checkCanVoteEnhanced","push","canVote","every","toBe","filter","r","length","voteId","title","totalVotes","getVoteResultsEnhanced","start1","time1","start2","time2","toBeLessThanOrEqual","success","mockVoteData","voteItemId","amount","totalBonusRemain","submitVoteEnhanced","PerformanceDashboard","getByText","all","totalTime"],"mappings":"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"}